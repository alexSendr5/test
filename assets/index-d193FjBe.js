var eE=Object.defineProperty;var tE=(n,e,t)=>e in n?eE(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var Gh=(n,e,t)=>tE(n,typeof e!="symbol"?e+"":e,t);function nE(n,e){for(var t=0;t<e.length;t++){const o=e[t];if(typeof o!="string"&&!Array.isArray(o)){for(const s in o)if(s!=="default"&&!(s in n)){const l=Object.getOwnPropertyDescriptor(o,s);l&&Object.defineProperty(n,s,l.get?l:{enumerable:!0,get:()=>o[s]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const h of l.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&o(h)}).observe(document,{childList:!0,subtree:!0});function t(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function o(s){if(s.ep)return;s.ep=!0;const l=t(s);fetch(s.href,l)}})();function rE(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Yh={exports:{}},Ia={},Xh={exports:{}},Ue={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qm;function iE(){if(qm)return Ue;qm=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),h=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),S=Symbol.iterator;function R(F){return F===null||typeof F!="object"?null:(F=S&&F[S]||F["@@iterator"],typeof F=="function"?F:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},D=Object.assign,z={};function O(F,X,Ee){this.props=F,this.context=X,this.refs=z,this.updater=Ee||C}O.prototype.isReactComponent={},O.prototype.setState=function(F,X){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,X,"setState")},O.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function B(){}B.prototype=O.prototype;function J(F,X,Ee){this.props=F,this.context=X,this.refs=z,this.updater=Ee||C}var Y=J.prototype=new B;Y.constructor=J,D(Y,O.prototype),Y.isPureReactComponent=!0;var ne=Array.isArray,L=Object.prototype.hasOwnProperty,ie={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function T(F,X,Ee){var Me,Ve={},je=null,Je=null;if(X!=null)for(Me in X.ref!==void 0&&(Je=X.ref),X.key!==void 0&&(je=""+X.key),X)L.call(X,Me)&&!k.hasOwnProperty(Me)&&(Ve[Me]=X[Me]);var Ze=arguments.length-2;if(Ze===1)Ve.children=Ee;else if(1<Ze){for(var be=Array(Ze),dt=0;dt<Ze;dt++)be[dt]=arguments[dt+2];Ve.children=be}if(F&&F.defaultProps)for(Me in Ze=F.defaultProps,Ze)Ve[Me]===void 0&&(Ve[Me]=Ze[Me]);return{$$typeof:n,type:F,key:je,ref:Je,props:Ve,_owner:ie.current}}function I(F,X){return{$$typeof:n,type:F.type,key:X,ref:F.ref,props:F.props,_owner:F._owner}}function x(F){return typeof F=="object"&&F!==null&&F.$$typeof===n}function M(F){var X={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(Ee){return X[Ee]})}var j=/\/+/g;function P(F,X){return typeof F=="object"&&F!==null&&F.key!=null?M(""+F.key):X.toString(36)}function ct(F,X,Ee,Me,Ve){var je=typeof F;(je==="undefined"||je==="boolean")&&(F=null);var Je=!1;if(F===null)Je=!0;else switch(je){case"string":case"number":Je=!0;break;case"object":switch(F.$$typeof){case n:case e:Je=!0}}if(Je)return Je=F,Ve=Ve(Je),F=Me===""?"."+P(Je,0):Me,ne(Ve)?(Ee="",F!=null&&(Ee=F.replace(j,"$&/")+"/"),ct(Ve,X,Ee,"",function(dt){return dt})):Ve!=null&&(x(Ve)&&(Ve=I(Ve,Ee+(!Ve.key||Je&&Je.key===Ve.key?"":(""+Ve.key).replace(j,"$&/")+"/")+F)),X.push(Ve)),1;if(Je=0,Me=Me===""?".":Me+":",ne(F))for(var Ze=0;Ze<F.length;Ze++){je=F[Ze];var be=Me+P(je,Ze);Je+=ct(je,X,Ee,be,Ve)}else if(be=R(F),typeof be=="function")for(F=be.call(F),Ze=0;!(je=F.next()).done;)je=je.value,be=Me+P(je,Ze++),Je+=ct(je,X,Ee,be,Ve);else if(je==="object")throw X=String(F),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.");return Je}function We(F,X,Ee){if(F==null)return F;var Me=[],Ve=0;return ct(F,Me,"","",function(je){return X.call(Ee,je,Ve++)}),Me}function Ct(F){if(F._status===-1){var X=F._result;X=X(),X.then(function(Ee){(F._status===0||F._status===-1)&&(F._status=1,F._result=Ee)},function(Ee){(F._status===0||F._status===-1)&&(F._status=2,F._result=Ee)}),F._status===-1&&(F._status=0,F._result=X)}if(F._status===1)return F._result.default;throw F._result}var Ke={current:null},le={transition:null},Te={ReactCurrentDispatcher:Ke,ReactCurrentBatchConfig:le,ReactCurrentOwner:ie};function de(){throw Error("act(...) is not supported in production builds of React.")}return Ue.Children={map:We,forEach:function(F,X,Ee){We(F,function(){X.apply(this,arguments)},Ee)},count:function(F){var X=0;return We(F,function(){X++}),X},toArray:function(F){return We(F,function(X){return X})||[]},only:function(F){if(!x(F))throw Error("React.Children.only expected to receive a single React element child.");return F}},Ue.Component=O,Ue.Fragment=t,Ue.Profiler=s,Ue.PureComponent=J,Ue.StrictMode=o,Ue.Suspense=p,Ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Te,Ue.act=de,Ue.cloneElement=function(F,X,Ee){if(F==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+F+".");var Me=D({},F.props),Ve=F.key,je=F.ref,Je=F._owner;if(X!=null){if(X.ref!==void 0&&(je=X.ref,Je=ie.current),X.key!==void 0&&(Ve=""+X.key),F.type&&F.type.defaultProps)var Ze=F.type.defaultProps;for(be in X)L.call(X,be)&&!k.hasOwnProperty(be)&&(Me[be]=X[be]===void 0&&Ze!==void 0?Ze[be]:X[be])}var be=arguments.length-2;if(be===1)Me.children=Ee;else if(1<be){Ze=Array(be);for(var dt=0;dt<be;dt++)Ze[dt]=arguments[dt+2];Me.children=Ze}return{$$typeof:n,type:F.type,key:Ve,ref:je,props:Me,_owner:Je}},Ue.createContext=function(F){return F={$$typeof:h,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},F.Provider={$$typeof:l,_context:F},F.Consumer=F},Ue.createElement=T,Ue.createFactory=function(F){var X=T.bind(null,F);return X.type=F,X},Ue.createRef=function(){return{current:null}},Ue.forwardRef=function(F){return{$$typeof:f,render:F}},Ue.isValidElement=x,Ue.lazy=function(F){return{$$typeof:_,_payload:{_status:-1,_result:F},_init:Ct}},Ue.memo=function(F,X){return{$$typeof:y,type:F,compare:X===void 0?null:X}},Ue.startTransition=function(F){var X=le.transition;le.transition={};try{F()}finally{le.transition=X}},Ue.unstable_act=de,Ue.useCallback=function(F,X){return Ke.current.useCallback(F,X)},Ue.useContext=function(F){return Ke.current.useContext(F)},Ue.useDebugValue=function(){},Ue.useDeferredValue=function(F){return Ke.current.useDeferredValue(F)},Ue.useEffect=function(F,X){return Ke.current.useEffect(F,X)},Ue.useId=function(){return Ke.current.useId()},Ue.useImperativeHandle=function(F,X,Ee){return Ke.current.useImperativeHandle(F,X,Ee)},Ue.useInsertionEffect=function(F,X){return Ke.current.useInsertionEffect(F,X)},Ue.useLayoutEffect=function(F,X){return Ke.current.useLayoutEffect(F,X)},Ue.useMemo=function(F,X){return Ke.current.useMemo(F,X)},Ue.useReducer=function(F,X,Ee){return Ke.current.useReducer(F,X,Ee)},Ue.useRef=function(F){return Ke.current.useRef(F)},Ue.useState=function(F){return Ke.current.useState(F)},Ue.useSyncExternalStore=function(F,X,Ee){return Ke.current.useSyncExternalStore(F,X,Ee)},Ue.useTransition=function(){return Ke.current.useTransition()},Ue.version="18.3.1",Ue}var Wm;function nc(){return Wm||(Wm=1,Xh.exports=iE()),Xh.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Km;function oE(){if(Km)return Ia;Km=1;var n=nc(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function h(f,p,y){var _,S={},R=null,C=null;y!==void 0&&(R=""+y),p.key!==void 0&&(R=""+p.key),p.ref!==void 0&&(C=p.ref);for(_ in p)o.call(p,_)&&!l.hasOwnProperty(_)&&(S[_]=p[_]);if(f&&f.defaultProps)for(_ in p=f.defaultProps,p)S[_]===void 0&&(S[_]=p[_]);return{$$typeof:e,type:f,key:R,ref:C,props:S,_owner:s.current}}return Ia.Fragment=t,Ia.jsx=h,Ia.jsxs=h,Ia}var Qm;function sE(){return Qm||(Qm=1,Yh.exports=oE()),Yh.exports}var he=sE(),K=nc();const Ny=rE(K),Gm=nE({__proto__:null,default:Ny},[K]);var mu={},Jh={exports:{}},Pn={},Zh={exports:{}},ed={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ym;function aE(){return Ym||(Ym=1,function(n){function e(le,Te){var de=le.length;le.push(Te);e:for(;0<de;){var F=de-1>>>1,X=le[F];if(0<s(X,Te))le[F]=Te,le[de]=X,de=F;else break e}}function t(le){return le.length===0?null:le[0]}function o(le){if(le.length===0)return null;var Te=le[0],de=le.pop();if(de!==Te){le[0]=de;e:for(var F=0,X=le.length,Ee=X>>>1;F<Ee;){var Me=2*(F+1)-1,Ve=le[Me],je=Me+1,Je=le[je];if(0>s(Ve,de))je<X&&0>s(Je,Ve)?(le[F]=Je,le[je]=de,F=je):(le[F]=Ve,le[Me]=de,F=Me);else if(je<X&&0>s(Je,de))le[F]=Je,le[je]=de,F=je;else break e}}return Te}function s(le,Te){var de=le.sortIndex-Te.sortIndex;return de!==0?de:le.id-Te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var h=Date,f=h.now();n.unstable_now=function(){return h.now()-f}}var p=[],y=[],_=1,S=null,R=3,C=!1,D=!1,z=!1,O=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,J=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Y(le){for(var Te=t(y);Te!==null;){if(Te.callback===null)o(y);else if(Te.startTime<=le)o(y),Te.sortIndex=Te.expirationTime,e(p,Te);else break;Te=t(y)}}function ne(le){if(z=!1,Y(le),!D)if(t(p)!==null)D=!0,Ct(L);else{var Te=t(y);Te!==null&&Ke(ne,Te.startTime-le)}}function L(le,Te){D=!1,z&&(z=!1,B(T),T=-1),C=!0;var de=R;try{for(Y(Te),S=t(p);S!==null&&(!(S.expirationTime>Te)||le&&!M());){var F=S.callback;if(typeof F=="function"){S.callback=null,R=S.priorityLevel;var X=F(S.expirationTime<=Te);Te=n.unstable_now(),typeof X=="function"?S.callback=X:S===t(p)&&o(p),Y(Te)}else o(p);S=t(p)}if(S!==null)var Ee=!0;else{var Me=t(y);Me!==null&&Ke(ne,Me.startTime-Te),Ee=!1}return Ee}finally{S=null,R=de,C=!1}}var ie=!1,k=null,T=-1,I=5,x=-1;function M(){return!(n.unstable_now()-x<I)}function j(){if(k!==null){var le=n.unstable_now();x=le;var Te=!0;try{Te=k(!0,le)}finally{Te?P():(ie=!1,k=null)}}else ie=!1}var P;if(typeof J=="function")P=function(){J(j)};else if(typeof MessageChannel<"u"){var ct=new MessageChannel,We=ct.port2;ct.port1.onmessage=j,P=function(){We.postMessage(null)}}else P=function(){O(j,0)};function Ct(le){k=le,ie||(ie=!0,P())}function Ke(le,Te){T=O(function(){le(n.unstable_now())},Te)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(le){le.callback=null},n.unstable_continueExecution=function(){D||C||(D=!0,Ct(L))},n.unstable_forceFrameRate=function(le){0>le||125<le?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<le?Math.floor(1e3/le):5},n.unstable_getCurrentPriorityLevel=function(){return R},n.unstable_getFirstCallbackNode=function(){return t(p)},n.unstable_next=function(le){switch(R){case 1:case 2:case 3:var Te=3;break;default:Te=R}var de=R;R=Te;try{return le()}finally{R=de}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(le,Te){switch(le){case 1:case 2:case 3:case 4:case 5:break;default:le=3}var de=R;R=le;try{return Te()}finally{R=de}},n.unstable_scheduleCallback=function(le,Te,de){var F=n.unstable_now();switch(typeof de=="object"&&de!==null?(de=de.delay,de=typeof de=="number"&&0<de?F+de:F):de=F,le){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=de+X,le={id:_++,callback:Te,priorityLevel:le,startTime:de,expirationTime:X,sortIndex:-1},de>F?(le.sortIndex=de,e(y,le),t(p)===null&&le===t(y)&&(z?(B(T),T=-1):z=!0,Ke(ne,de-F))):(le.sortIndex=X,e(p,le),D||C||(D=!0,Ct(L))),le},n.unstable_shouldYield=M,n.unstable_wrapCallback=function(le){var Te=R;return function(){var de=R;R=Te;try{return le.apply(this,arguments)}finally{R=de}}}}(ed)),ed}var Xm;function lE(){return Xm||(Xm=1,Zh.exports=aE()),Zh.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jm;function uE(){if(Jm)return Pn;Jm=1;var n=nc(),e=lE();function t(r){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+r,a=1;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+r+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,s={};function l(r,i){h(r,i),h(r+"Capture",i)}function h(r,i){for(s[r]=i,r=0;r<i.length;r++)o.add(i[r])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_={},S={};function R(r){return p.call(S,r)?!0:p.call(_,r)?!1:y.test(r)?S[r]=!0:(_[r]=!0,!1)}function C(r,i,a,c){if(a!==null&&a.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return c?!1:a!==null?!a.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function D(r,i,a,c){if(i===null||typeof i>"u"||C(r,i,a,c))return!0;if(c)return!1;if(a!==null)switch(a.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function z(r,i,a,c,d,g,E){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=c,this.attributeNamespace=d,this.mustUseProperty=a,this.propertyName=r,this.type=i,this.sanitizeURL=g,this.removeEmptyString=E}var O={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){O[r]=new z(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var i=r[0];O[i]=new z(i,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){O[r]=new z(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){O[r]=new z(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){O[r]=new z(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){O[r]=new z(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){O[r]=new z(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){O[r]=new z(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){O[r]=new z(r,5,!1,r.toLowerCase(),null,!1,!1)});var B=/[\-:]([a-z])/g;function J(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var i=r.replace(B,J);O[i]=new z(i,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var i=r.replace(B,J);O[i]=new z(i,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var i=r.replace(B,J);O[i]=new z(i,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){O[r]=new z(r,1,!1,r.toLowerCase(),null,!1,!1)}),O.xlinkHref=new z("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){O[r]=new z(r,1,!1,r.toLowerCase(),null,!0,!0)});function Y(r,i,a,c){var d=O.hasOwnProperty(i)?O[i]:null;(d!==null?d.type!==0:c||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(D(i,a,d,c)&&(a=null),c||d===null?R(i)&&(a===null?r.removeAttribute(i):r.setAttribute(i,""+a)):d.mustUseProperty?r[d.propertyName]=a===null?d.type===3?!1:"":a:(i=d.attributeName,c=d.attributeNamespace,a===null?r.removeAttribute(i):(d=d.type,a=d===3||d===4&&a===!0?"":""+a,c?r.setAttributeNS(c,i,a):r.setAttribute(i,a))))}var ne=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,L=Symbol.for("react.element"),ie=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),M=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),ct=Symbol.for("react.suspense_list"),We=Symbol.for("react.memo"),Ct=Symbol.for("react.lazy"),Ke=Symbol.for("react.offscreen"),le=Symbol.iterator;function Te(r){return r===null||typeof r!="object"?null:(r=le&&r[le]||r["@@iterator"],typeof r=="function"?r:null)}var de=Object.assign,F;function X(r){if(F===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);F=i&&i[1]||""}return`
`+F+r}var Ee=!1;function Me(r,i){if(!r||Ee)return"";Ee=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(W){var c=W}Reflect.construct(r,[],i)}else{try{i.call()}catch(W){c=W}r.call(i.prototype)}else{try{throw Error()}catch(W){c=W}r()}}catch(W){if(W&&c&&typeof W.stack=="string"){for(var d=W.stack.split(`
`),g=c.stack.split(`
`),E=d.length-1,A=g.length-1;1<=E&&0<=A&&d[E]!==g[A];)A--;for(;1<=E&&0<=A;E--,A--)if(d[E]!==g[A]){if(E!==1||A!==1)do if(E--,A--,0>A||d[E]!==g[A]){var N=`
`+d[E].replace(" at new "," at ");return r.displayName&&N.includes("<anonymous>")&&(N=N.replace("<anonymous>",r.displayName)),N}while(1<=E&&0<=A);break}}}finally{Ee=!1,Error.prepareStackTrace=a}return(r=r?r.displayName||r.name:"")?X(r):""}function Ve(r){switch(r.tag){case 5:return X(r.type);case 16:return X("Lazy");case 13:return X("Suspense");case 19:return X("SuspenseList");case 0:case 2:case 15:return r=Me(r.type,!1),r;case 11:return r=Me(r.type.render,!1),r;case 1:return r=Me(r.type,!0),r;default:return""}}function je(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case k:return"Fragment";case ie:return"Portal";case I:return"Profiler";case T:return"StrictMode";case P:return"Suspense";case ct:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case M:return(r.displayName||"Context")+".Consumer";case x:return(r._context.displayName||"Context")+".Provider";case j:var i=r.render;return r=r.displayName,r||(r=i.displayName||i.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case We:return i=r.displayName||null,i!==null?i:je(r.type)||"Memo";case Ct:i=r._payload,r=r._init;try{return je(r(i))}catch{}}return null}function Je(r){var i=r.type;switch(r.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=i.render,r=r.displayName||r.name||"",i.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return je(i);case 8:return i===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function Ze(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function be(r){var i=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function dt(r){var i=be(r)?"checked":"value",a=Object.getOwnPropertyDescriptor(r.constructor.prototype,i),c=""+r[i];if(!r.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var d=a.get,g=a.set;return Object.defineProperty(r,i,{configurable:!0,get:function(){return d.call(this)},set:function(E){c=""+E,g.call(this,E)}}),Object.defineProperty(r,i,{enumerable:a.enumerable}),{getValue:function(){return c},setValue:function(E){c=""+E},stopTracking:function(){r._valueTracker=null,delete r[i]}}}}function Bn(r){r._valueTracker||(r._valueTracker=dt(r))}function yi(r){if(!r)return!1;var i=r._valueTracker;if(!i)return!0;var a=i.getValue(),c="";return r&&(c=be(r)?r.checked?"true":"false":r.value),r=c,r!==a?(i.setValue(r),!0):!1}function nn(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function Wr(r,i){var a=i.checked;return de({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??r._wrapperState.initialChecked})}function vi(r,i){var a=i.defaultValue==null?"":i.defaultValue,c=i.checked!=null?i.checked:i.defaultChecked;a=Ze(i.value!=null?i.value:a),r._wrapperState={initialChecked:c,initialValue:a,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function _i(r,i){i=i.checked,i!=null&&Y(r,"checked",i,!1)}function ao(r,i){_i(r,i);var a=Ze(i.value),c=i.type;if(a!=null)c==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+a):r.value!==""+a&&(r.value=""+a);else if(c==="submit"||c==="reset"){r.removeAttribute("value");return}i.hasOwnProperty("value")?Ei(r,i.type,a):i.hasOwnProperty("defaultValue")&&Ei(r,i.type,Ze(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(r.defaultChecked=!!i.defaultChecked)}function Ko(r,i,a){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var c=i.type;if(!(c!=="submit"&&c!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+r._wrapperState.initialValue,a||i===r.value||(r.value=i),r.defaultValue=i}a=r.name,a!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,a!==""&&(r.name=a)}function Ei(r,i,a){(i!=="number"||nn(r.ownerDocument)!==r)&&(a==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+a&&(r.defaultValue=""+a))}var er=Array.isArray;function Ht(r,i,a,c){if(r=r.options,i){i={};for(var d=0;d<a.length;d++)i["$"+a[d]]=!0;for(a=0;a<r.length;a++)d=i.hasOwnProperty("$"+r[a].value),r[a].selected!==d&&(r[a].selected=d),d&&c&&(r[a].defaultSelected=!0)}else{for(a=""+Ze(a),i=null,d=0;d<r.length;d++){if(r[d].value===a){r[d].selected=!0,c&&(r[d].defaultSelected=!0);return}i!==null||r[d].disabled||(i=r[d])}i!==null&&(i.selected=!0)}}function tr(r,i){if(i.dangerouslySetInnerHTML!=null)throw Error(t(91));return de({},i,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function Kr(r,i){var a=i.value;if(a==null){if(a=i.children,i=i.defaultValue,a!=null){if(i!=null)throw Error(t(92));if(er(a)){if(1<a.length)throw Error(t(93));a=a[0]}i=a}i==null&&(i=""),a=i}r._wrapperState={initialValue:Ze(a)}}function Cr(r,i){var a=Ze(i.value),c=Ze(i.defaultValue);a!=null&&(a=""+a,a!==r.value&&(r.value=a),i.defaultValue==null&&r.defaultValue!==a&&(r.defaultValue=a)),c!=null&&(r.defaultValue=""+c)}function vn(r){var i=r.textContent;i===r._wrapperState.initialValue&&i!==""&&i!==null&&(r.value=i)}function at(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function St(r,i){return r==null||r==="http://www.w3.org/1999/xhtml"?at(i):r==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var xn,lo=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,a,c,d){MSApp.execUnsafeLocalFunction(function(){return r(i,a,c,d)})}:r}(function(r,i){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=i;else{for(xn=xn||document.createElement("div"),xn.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=xn.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;i.firstChild;)r.appendChild(i.firstChild)}});function qt(r,i){if(i){var a=r.firstChild;if(a&&a===r.lastChild&&a.nodeType===3){a.nodeValue=i;return}}r.textContent=i}var Ar={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Pr=["Webkit","ms","Moz","O"];Object.keys(Ar).forEach(function(r){Pr.forEach(function(i){i=i+r.charAt(0).toUpperCase()+r.substring(1),Ar[i]=Ar[r]})});function wi(r,i,a){return i==null||typeof i=="boolean"||i===""?"":a||typeof i!="number"||i===0||Ar.hasOwnProperty(r)&&Ar[r]?(""+i).trim():i+"px"}function uo(r,i){r=r.style;for(var a in i)if(i.hasOwnProperty(a)){var c=a.indexOf("--")===0,d=wi(a,i[a],c);a==="float"&&(a="cssFloat"),c?r.setProperty(a,d):r[a]=d}}var Ti=de({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function kr(r,i){if(i){if(Ti[r]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(t(137,r));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(t(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(t(61))}if(i.style!=null&&typeof i.style!="object")throw Error(t(62))}}function Si(r,i){if(r.indexOf("-")===-1)return typeof i.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var nr=null;function Ri(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Qr=null,_n=null,Dn=null;function rr(r){if(r=ca(r)){if(typeof Qr!="function")throw Error(t(280));var i=r.stateNode;i&&(i=xl(i),Qr(r.stateNode,r.type,i))}}function fn(r){_n?Dn?Dn.push(r):Dn=[r]:_n=r}function co(){if(_n){var r=_n,i=Dn;if(Dn=_n=null,rr(r),i)for(r=0;r<i.length;r++)rr(i[r])}}function Gr(r,i){return r(i)}function V(){}var U=!1;function Q(r,i,a){if(U)return r(i,a);U=!0;try{return Gr(r,i,a)}finally{U=!1,(_n!==null||Dn!==null)&&(V(),co())}}function Z(r,i){var a=r.stateNode;if(a===null)return null;var c=xl(a);if(c===null)return null;a=c[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(r=r.type,c=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!c;break e;default:r=!1}if(r)return null;if(a&&typeof a!="function")throw Error(t(231,i,typeof a));return a}var fe=!1;if(f)try{var ye={};Object.defineProperty(ye,"passive",{get:function(){fe=!0}}),window.addEventListener("test",ye,ye),window.removeEventListener("test",ye,ye)}catch{fe=!1}function Ce(r,i,a,c,d,g,E,A,N){var W=Array.prototype.slice.call(arguments,3);try{i.apply(a,W)}catch(re){this.onError(re)}}var pe=!1,_e=null,ue=!1,xe=null,Fe={onError:function(r){pe=!0,_e=r}};function rt(r,i,a,c,d,g,E,A,N){pe=!1,_e=null,Ce.apply(Fe,arguments)}function Rt(r,i,a,c,d,g,E,A,N){if(rt.apply(this,arguments),pe){if(pe){var W=_e;pe=!1,_e=null}else throw Error(t(198));ue||(ue=!0,xe=W)}}function Be(r){var i=r,a=r;if(r.alternate)for(;i.return;)i=i.return;else{r=i;do i=r,i.flags&4098&&(a=i.return),r=i.return;while(r)}return i.tag===3?a:null}function et(r){if(r.tag===13){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function it(r){if(Be(r)!==r)throw Error(t(188))}function ir(r){var i=r.alternate;if(!i){if(i=Be(r),i===null)throw Error(t(188));return i!==r?null:r}for(var a=r,c=i;;){var d=a.return;if(d===null)break;var g=d.alternate;if(g===null){if(c=d.return,c!==null){a=c;continue}break}if(d.child===g.child){for(g=d.child;g;){if(g===a)return it(d),r;if(g===c)return it(d),i;g=g.sibling}throw Error(t(188))}if(a.return!==c.return)a=d,c=g;else{for(var E=!1,A=d.child;A;){if(A===a){E=!0,a=d,c=g;break}if(A===c){E=!0,c=d,a=g;break}A=A.sibling}if(!E){for(A=g.child;A;){if(A===a){E=!0,a=g,c=d;break}if(A===c){E=!0,c=g,a=d;break}A=A.sibling}if(!E)throw Error(t(189))}}if(a.alternate!==c)throw Error(t(190))}if(a.tag!==3)throw Error(t(188));return a.stateNode.current===a?r:i}function or(r){return r=ir(r),r!==null?rn(r):null}function rn(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var i=rn(r);if(i!==null)return i;r=r.sibling}return null}var Wt=e.unstable_scheduleCallback,Yr=e.unstable_cancelCallback,xr=e.unstable_shouldYield,sr=e.unstable_requestPaint,ot=e.unstable_now,Xr=e.unstable_getCurrentPriorityLevel,Qe=e.unstable_ImmediatePriority,ft=e.unstable_UserBlockingPriority,Kt=e.unstable_NormalPriority,ar=e.unstable_LowPriority,pt=e.unstable_IdlePriority,En=null,on=null;function Qo(r){if(on&&typeof on.onCommitFiberRoot=="function")try{on.onCommitFiberRoot(En,r,void 0,(r.current.flags&128)===128)}catch{}}var pn=Math.clz32?Math.clz32:ll,Qs=Math.log,al=Math.LN2;function ll(r){return r>>>=0,r===0?32:31-(Qs(r)/al|0)|0}var Go=64,Yo=4194304;function Ii(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function ho(r,i){var a=r.pendingLanes;if(a===0)return 0;var c=0,d=r.suspendedLanes,g=r.pingedLanes,E=a&268435455;if(E!==0){var A=E&~d;A!==0?c=Ii(A):(g&=E,g!==0&&(c=Ii(g)))}else E=a&~d,E!==0?c=Ii(E):g!==0&&(c=Ii(g));if(c===0)return 0;if(i!==0&&i!==c&&!(i&d)&&(d=c&-c,g=i&-i,d>=g||d===16&&(g&4194240)!==0))return i;if(c&4&&(c|=a&16),i=r.entangledLanes,i!==0)for(r=r.entanglements,i&=c;0<i;)a=31-pn(i),d=1<<a,c|=r[a],i&=~d;return c}function Ic(r,i){switch(r){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Jr(r,i){for(var a=r.suspendedLanes,c=r.pingedLanes,d=r.expirationTimes,g=r.pendingLanes;0<g;){var E=31-pn(g),A=1<<E,N=d[E];N===-1?(!(A&a)||A&c)&&(d[E]=Ic(A,i)):N<=i&&(r.expiredLanes|=A),g&=~A}}function Nn(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function fo(){var r=Go;return Go<<=1,!(Go&4194240)&&(Go=64),r}function Ci(r){for(var i=[],a=0;31>a;a++)i.push(r);return i}function Ai(r,i,a){r.pendingLanes|=i,i!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,i=31-pn(i),r[i]=a}function ut(r,i){var a=r.pendingLanes&~i;r.pendingLanes=i,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=i,r.mutableReadLanes&=i,r.entangledLanes&=i,i=r.entanglements;var c=r.eventTimes;for(r=r.expirationTimes;0<a;){var d=31-pn(a),g=1<<d;i[d]=0,c[d]=-1,r[d]=-1,a&=~g}}function Pi(r,i){var a=r.entangledLanes|=i;for(r=r.entanglements;a;){var c=31-pn(a),d=1<<c;d&i|r[c]&i&&(r[c]|=i),a&=~d}}var $e=0;function ki(r){return r&=-r,1<r?4<r?r&268435455?16:536870912:4:1}var ul,Xo,cl,hl,dl,Gs=!1,Dr=[],Qt=null,lr=null,ur=null,xi=new Map,$n=new Map,Nr=[],Cc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function fl(r,i){switch(r){case"focusin":case"focusout":Qt=null;break;case"dragenter":case"dragleave":lr=null;break;case"mouseover":case"mouseout":ur=null;break;case"pointerover":case"pointerout":xi.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":$n.delete(i.pointerId)}}function wn(r,i,a,c,d,g){return r===null||r.nativeEvent!==g?(r={blockedOn:i,domEventName:a,eventSystemFlags:c,nativeEvent:g,targetContainers:[d]},i!==null&&(i=ca(i),i!==null&&Xo(i)),r):(r.eventSystemFlags|=c,i=r.targetContainers,d!==null&&i.indexOf(d)===-1&&i.push(d),r)}function Ac(r,i,a,c,d){switch(i){case"focusin":return Qt=wn(Qt,r,i,a,c,d),!0;case"dragenter":return lr=wn(lr,r,i,a,c,d),!0;case"mouseover":return ur=wn(ur,r,i,a,c,d),!0;case"pointerover":var g=d.pointerId;return xi.set(g,wn(xi.get(g)||null,r,i,a,c,d)),!0;case"gotpointercapture":return g=d.pointerId,$n.set(g,wn($n.get(g)||null,r,i,a,c,d)),!0}return!1}function pl(r){var i=vo(r.target);if(i!==null){var a=Be(i);if(a!==null){if(i=a.tag,i===13){if(i=et(a),i!==null){r.blockedOn=i,dl(r.priority,function(){cl(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){r.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Zr(r){if(r.blockedOn!==null)return!1;for(var i=r.targetContainers;0<i.length;){var a=Jo(r.domEventName,r.eventSystemFlags,i[0],r.nativeEvent);if(a===null){a=r.nativeEvent;var c=new a.constructor(a.type,a);nr=c,a.target.dispatchEvent(c),nr=null}else return i=ca(a),i!==null&&Xo(i),r.blockedOn=a,!1;i.shift()}return!0}function po(r,i,a){Zr(r)&&a.delete(i)}function ml(){Gs=!1,Qt!==null&&Zr(Qt)&&(Qt=null),lr!==null&&Zr(lr)&&(lr=null),ur!==null&&Zr(ur)&&(ur=null),xi.forEach(po),$n.forEach(po)}function cr(r,i){r.blockedOn===i&&(r.blockedOn=null,Gs||(Gs=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,ml)))}function hr(r){function i(d){return cr(d,r)}if(0<Dr.length){cr(Dr[0],r);for(var a=1;a<Dr.length;a++){var c=Dr[a];c.blockedOn===r&&(c.blockedOn=null)}}for(Qt!==null&&cr(Qt,r),lr!==null&&cr(lr,r),ur!==null&&cr(ur,r),xi.forEach(i),$n.forEach(i),a=0;a<Nr.length;a++)c=Nr[a],c.blockedOn===r&&(c.blockedOn=null);for(;0<Nr.length&&(a=Nr[0],a.blockedOn===null);)pl(a),a.blockedOn===null&&Nr.shift()}var ei=ne.ReactCurrentBatchConfig,Di=!0;function yt(r,i,a,c){var d=$e,g=ei.transition;ei.transition=null;try{$e=1,Ys(r,i,a,c)}finally{$e=d,ei.transition=g}}function Pc(r,i,a,c){var d=$e,g=ei.transition;ei.transition=null;try{$e=4,Ys(r,i,a,c)}finally{$e=d,ei.transition=g}}function Ys(r,i,a,c){if(Di){var d=Jo(r,i,a,c);if(d===null)Uc(r,i,c,mo,a),fl(r,c);else if(Ac(d,r,i,a,c))c.stopPropagation();else if(fl(r,c),i&4&&-1<Cc.indexOf(r)){for(;d!==null;){var g=ca(d);if(g!==null&&ul(g),g=Jo(r,i,a,c),g===null&&Uc(r,i,c,mo,a),g===d)break;d=g}d!==null&&c.stopPropagation()}else Uc(r,i,c,null,a)}}var mo=null;function Jo(r,i,a,c){if(mo=null,r=Ri(c),r=vo(r),r!==null)if(i=Be(r),i===null)r=null;else if(a=i.tag,a===13){if(r=et(i),r!==null)return r;r=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null);return mo=r,null}function Xs(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xr()){case Qe:return 1;case ft:return 4;case Kt:case ar:return 16;case pt:return 536870912;default:return 16}default:return 16}}var Vn=null,Zo=null,Tn=null;function Js(){if(Tn)return Tn;var r,i=Zo,a=i.length,c,d="value"in Vn?Vn.value:Vn.textContent,g=d.length;for(r=0;r<a&&i[r]===d[r];r++);var E=a-r;for(c=1;c<=E&&i[a-c]===d[g-c];c++);return Tn=d.slice(r,1<c?1-c:void 0)}function es(r){var i=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&i===13&&(r=13)):r=i,r===10&&(r=13),32<=r||r===13?r:0}function Vr(){return!0}function Zs(){return!1}function Gt(r){function i(a,c,d,g,E){this._reactName=a,this._targetInst=d,this.type=c,this.nativeEvent=g,this.target=E,this.currentTarget=null;for(var A in r)r.hasOwnProperty(A)&&(a=r[A],this[A]=a?a(g):g[A]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Vr:Zs,this.isPropagationStopped=Zs,this}return de(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Vr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Vr)},persist:function(){},isPersistent:Vr}),i}var dr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ts=Gt(dr),Lr=de({},dr,{view:0,detail:0}),kc=Gt(Lr),ns,ti,Ni,go=de({},Lr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mr,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Ni&&(Ni&&r.type==="mousemove"?(ns=r.screenX-Ni.screenX,ti=r.screenY-Ni.screenY):ti=ns=0,Ni=r),ns)},movementY:function(r){return"movementY"in r?r.movementY:ti}}),rs=Gt(go),ea=de({},go,{dataTransfer:0}),gl=Gt(ea),is=de({},Lr,{relatedTarget:0}),os=Gt(is),yl=de({},dr,{animationName:0,elapsedTime:0,pseudoElement:0}),ni=Gt(yl),vl=de({},dr,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),_l=Gt(vl),El=de({},dr,{data:0}),ta=Gt(El),ss={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tl(r){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(r):(r=wl[r])?!!i[r]:!1}function Mr(){return Tl}var u=de({},Lr,{key:function(r){if(r.key){var i=ss[r.key]||r.key;if(i!=="Unidentified")return i}return r.type==="keypress"?(r=es(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?mn[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mr,charCode:function(r){return r.type==="keypress"?es(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?es(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),m=Gt(u),v=de({},go,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),w=Gt(v),$=de({},Lr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mr}),G=Gt($),ce=de({},dr,{propertyName:0,elapsedTime:0,pseudoElement:0}),lt=Gt(ce),Nt=de({},go,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Ge=Gt(Nt),Ft=[9,13,27,32],kt=f&&"CompositionEvent"in window,Hn=null;f&&"documentMode"in document&&(Hn=document.documentMode);var Ln=f&&"TextEvent"in window&&!Hn,yo=f&&(!kt||Hn&&8<Hn&&11>=Hn),as=" ",Uf=!1;function jf(r,i){switch(r){case"keyup":return Ft.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zf(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var ls=!1;function X_(r,i){switch(r){case"compositionend":return zf(i);case"keypress":return i.which!==32?null:(Uf=!0,as);case"textInput":return r=i.data,r===as&&Uf?null:r;default:return null}}function J_(r,i){if(ls)return r==="compositionend"||!kt&&jf(r,i)?(r=Js(),Tn=Zo=Vn=null,ls=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return yo&&i.locale!=="ko"?null:i.data;default:return null}}var Z_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bf(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i==="input"?!!Z_[r.type]:i==="textarea"}function $f(r,i,a,c){fn(c),i=Al(i,"onChange"),0<i.length&&(a=new ts("onChange","change",null,a,c),r.push({event:a,listeners:i}))}var na=null,ra=null;function e0(r){ap(r,0)}function Sl(r){var i=fs(r);if(yi(i))return r}function t0(r,i){if(r==="change")return i}var Hf=!1;if(f){var xc;if(f){var Dc="oninput"in document;if(!Dc){var qf=document.createElement("div");qf.setAttribute("oninput","return;"),Dc=typeof qf.oninput=="function"}xc=Dc}else xc=!1;Hf=xc&&(!document.documentMode||9<document.documentMode)}function Wf(){na&&(na.detachEvent("onpropertychange",Kf),ra=na=null)}function Kf(r){if(r.propertyName==="value"&&Sl(ra)){var i=[];$f(i,ra,r,Ri(r)),Q(e0,i)}}function n0(r,i,a){r==="focusin"?(Wf(),na=i,ra=a,na.attachEvent("onpropertychange",Kf)):r==="focusout"&&Wf()}function r0(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Sl(ra)}function i0(r,i){if(r==="click")return Sl(i)}function o0(r,i){if(r==="input"||r==="change")return Sl(i)}function s0(r,i){return r===i&&(r!==0||1/r===1/i)||r!==r&&i!==i}var fr=typeof Object.is=="function"?Object.is:s0;function ia(r,i){if(fr(r,i))return!0;if(typeof r!="object"||r===null||typeof i!="object"||i===null)return!1;var a=Object.keys(r),c=Object.keys(i);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var d=a[c];if(!p.call(i,d)||!fr(r[d],i[d]))return!1}return!0}function Qf(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Gf(r,i){var a=Qf(r);r=0;for(var c;a;){if(a.nodeType===3){if(c=r+a.textContent.length,r<=i&&c>=i)return{node:a,offset:i-r};r=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Qf(a)}}function Yf(r,i){return r&&i?r===i?!0:r&&r.nodeType===3?!1:i&&i.nodeType===3?Yf(r,i.parentNode):"contains"in r?r.contains(i):r.compareDocumentPosition?!!(r.compareDocumentPosition(i)&16):!1:!1}function Xf(){for(var r=window,i=nn();i instanceof r.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)r=i.contentWindow;else break;i=nn(r.document)}return i}function Nc(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i&&(i==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||i==="textarea"||r.contentEditable==="true")}function a0(r){var i=Xf(),a=r.focusedElem,c=r.selectionRange;if(i!==a&&a&&a.ownerDocument&&Yf(a.ownerDocument.documentElement,a)){if(c!==null&&Nc(a)){if(i=c.start,r=c.end,r===void 0&&(r=i),"selectionStart"in a)a.selectionStart=i,a.selectionEnd=Math.min(r,a.value.length);else if(r=(i=a.ownerDocument||document)&&i.defaultView||window,r.getSelection){r=r.getSelection();var d=a.textContent.length,g=Math.min(c.start,d);c=c.end===void 0?g:Math.min(c.end,d),!r.extend&&g>c&&(d=c,c=g,g=d),d=Gf(a,g);var E=Gf(a,c);d&&E&&(r.rangeCount!==1||r.anchorNode!==d.node||r.anchorOffset!==d.offset||r.focusNode!==E.node||r.focusOffset!==E.offset)&&(i=i.createRange(),i.setStart(d.node,d.offset),r.removeAllRanges(),g>c?(r.addRange(i),r.extend(E.node,E.offset)):(i.setEnd(E.node,E.offset),r.addRange(i)))}}for(i=[],r=a;r=r.parentNode;)r.nodeType===1&&i.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<i.length;a++)r=i[a],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var l0=f&&"documentMode"in document&&11>=document.documentMode,us=null,Vc=null,oa=null,Lc=!1;function Jf(r,i,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Lc||us==null||us!==nn(c)||(c=us,"selectionStart"in c&&Nc(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),oa&&ia(oa,c)||(oa=c,c=Al(Vc,"onSelect"),0<c.length&&(i=new ts("onSelect","select",null,i,a),r.push({event:i,listeners:c}),i.target=us)))}function Rl(r,i){var a={};return a[r.toLowerCase()]=i.toLowerCase(),a["Webkit"+r]="webkit"+i,a["Moz"+r]="moz"+i,a}var cs={animationend:Rl("Animation","AnimationEnd"),animationiteration:Rl("Animation","AnimationIteration"),animationstart:Rl("Animation","AnimationStart"),transitionend:Rl("Transition","TransitionEnd")},Mc={},Zf={};f&&(Zf=document.createElement("div").style,"AnimationEvent"in window||(delete cs.animationend.animation,delete cs.animationiteration.animation,delete cs.animationstart.animation),"TransitionEvent"in window||delete cs.transitionend.transition);function Il(r){if(Mc[r])return Mc[r];if(!cs[r])return r;var i=cs[r],a;for(a in i)if(i.hasOwnProperty(a)&&a in Zf)return Mc[r]=i[a];return r}var ep=Il("animationend"),tp=Il("animationiteration"),np=Il("animationstart"),rp=Il("transitionend"),ip=new Map,op="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Vi(r,i){ip.set(r,i),l(i,[r])}for(var Oc=0;Oc<op.length;Oc++){var bc=op[Oc],u0=bc.toLowerCase(),c0=bc[0].toUpperCase()+bc.slice(1);Vi(u0,"on"+c0)}Vi(ep,"onAnimationEnd"),Vi(tp,"onAnimationIteration"),Vi(np,"onAnimationStart"),Vi("dblclick","onDoubleClick"),Vi("focusin","onFocus"),Vi("focusout","onBlur"),Vi(rp,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),h0=new Set("cancel close invalid load scroll toggle".split(" ").concat(sa));function sp(r,i,a){var c=r.type||"unknown-event";r.currentTarget=a,Rt(c,i,void 0,r),r.currentTarget=null}function ap(r,i){i=(i&4)!==0;for(var a=0;a<r.length;a++){var c=r[a],d=c.event;c=c.listeners;e:{var g=void 0;if(i)for(var E=c.length-1;0<=E;E--){var A=c[E],N=A.instance,W=A.currentTarget;if(A=A.listener,N!==g&&d.isPropagationStopped())break e;sp(d,A,W),g=N}else for(E=0;E<c.length;E++){if(A=c[E],N=A.instance,W=A.currentTarget,A=A.listener,N!==g&&d.isPropagationStopped())break e;sp(d,A,W),g=N}}}if(ue)throw r=xe,ue=!1,xe=null,r}function mt(r,i){var a=i[qc];a===void 0&&(a=i[qc]=new Set);var c=r+"__bubble";a.has(c)||(lp(i,r,2,!1),a.add(c))}function Fc(r,i,a){var c=0;i&&(c|=4),lp(a,r,c,i)}var Cl="_reactListening"+Math.random().toString(36).slice(2);function aa(r){if(!r[Cl]){r[Cl]=!0,o.forEach(function(a){a!=="selectionchange"&&(h0.has(a)||Fc(a,!1,r),Fc(a,!0,r))});var i=r.nodeType===9?r:r.ownerDocument;i===null||i[Cl]||(i[Cl]=!0,Fc("selectionchange",!1,i))}}function lp(r,i,a,c){switch(Xs(i)){case 1:var d=yt;break;case 4:d=Pc;break;default:d=Ys}a=d.bind(null,i,a,r),d=void 0,!fe||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(d=!0),c?d!==void 0?r.addEventListener(i,a,{capture:!0,passive:d}):r.addEventListener(i,a,!0):d!==void 0?r.addEventListener(i,a,{passive:d}):r.addEventListener(i,a,!1)}function Uc(r,i,a,c,d){var g=c;if(!(i&1)&&!(i&2)&&c!==null)e:for(;;){if(c===null)return;var E=c.tag;if(E===3||E===4){var A=c.stateNode.containerInfo;if(A===d||A.nodeType===8&&A.parentNode===d)break;if(E===4)for(E=c.return;E!==null;){var N=E.tag;if((N===3||N===4)&&(N=E.stateNode.containerInfo,N===d||N.nodeType===8&&N.parentNode===d))return;E=E.return}for(;A!==null;){if(E=vo(A),E===null)return;if(N=E.tag,N===5||N===6){c=g=E;continue e}A=A.parentNode}}c=c.return}Q(function(){var W=g,re=Ri(a),se=[];e:{var te=ip.get(r);if(te!==void 0){var me=ts,we=r;switch(r){case"keypress":if(es(a)===0)break e;case"keydown":case"keyup":me=m;break;case"focusin":we="focus",me=os;break;case"focusout":we="blur",me=os;break;case"beforeblur":case"afterblur":me=os;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":me=rs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":me=gl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":me=G;break;case ep:case tp:case np:me=ni;break;case rp:me=lt;break;case"scroll":me=kc;break;case"wheel":me=Ge;break;case"copy":case"cut":case"paste":me=_l;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":me=w}var Se=(i&4)!==0,At=!Se&&r==="scroll",H=Se?te!==null?te+"Capture":null:te;Se=[];for(var b=W,q;b!==null;){q=b;var ae=q.stateNode;if(q.tag===5&&ae!==null&&(q=ae,H!==null&&(ae=Z(b,H),ae!=null&&Se.push(la(b,ae,q)))),At)break;b=b.return}0<Se.length&&(te=new me(te,we,null,a,re),se.push({event:te,listeners:Se}))}}if(!(i&7)){e:{if(te=r==="mouseover"||r==="pointerover",me=r==="mouseout"||r==="pointerout",te&&a!==nr&&(we=a.relatedTarget||a.fromElement)&&(vo(we)||we[ri]))break e;if((me||te)&&(te=re.window===re?re:(te=re.ownerDocument)?te.defaultView||te.parentWindow:window,me?(we=a.relatedTarget||a.toElement,me=W,we=we?vo(we):null,we!==null&&(At=Be(we),we!==At||we.tag!==5&&we.tag!==6)&&(we=null)):(me=null,we=W),me!==we)){if(Se=rs,ae="onMouseLeave",H="onMouseEnter",b="mouse",(r==="pointerout"||r==="pointerover")&&(Se=w,ae="onPointerLeave",H="onPointerEnter",b="pointer"),At=me==null?te:fs(me),q=we==null?te:fs(we),te=new Se(ae,b+"leave",me,a,re),te.target=At,te.relatedTarget=q,ae=null,vo(re)===W&&(Se=new Se(H,b+"enter",we,a,re),Se.target=q,Se.relatedTarget=At,ae=Se),At=ae,me&&we)t:{for(Se=me,H=we,b=0,q=Se;q;q=hs(q))b++;for(q=0,ae=H;ae;ae=hs(ae))q++;for(;0<b-q;)Se=hs(Se),b--;for(;0<q-b;)H=hs(H),q--;for(;b--;){if(Se===H||H!==null&&Se===H.alternate)break t;Se=hs(Se),H=hs(H)}Se=null}else Se=null;me!==null&&up(se,te,me,Se,!1),we!==null&&At!==null&&up(se,At,we,Se,!0)}}e:{if(te=W?fs(W):window,me=te.nodeName&&te.nodeName.toLowerCase(),me==="select"||me==="input"&&te.type==="file")var Re=t0;else if(Bf(te))if(Hf)Re=o0;else{Re=r0;var Ae=n0}else(me=te.nodeName)&&me.toLowerCase()==="input"&&(te.type==="checkbox"||te.type==="radio")&&(Re=i0);if(Re&&(Re=Re(r,W))){$f(se,Re,a,re);break e}Ae&&Ae(r,te,W),r==="focusout"&&(Ae=te._wrapperState)&&Ae.controlled&&te.type==="number"&&Ei(te,"number",te.value)}switch(Ae=W?fs(W):window,r){case"focusin":(Bf(Ae)||Ae.contentEditable==="true")&&(us=Ae,Vc=W,oa=null);break;case"focusout":oa=Vc=us=null;break;case"mousedown":Lc=!0;break;case"contextmenu":case"mouseup":case"dragend":Lc=!1,Jf(se,a,re);break;case"selectionchange":if(l0)break;case"keydown":case"keyup":Jf(se,a,re)}var Pe;if(kt)e:{switch(r){case"compositionstart":var De="onCompositionStart";break e;case"compositionend":De="onCompositionEnd";break e;case"compositionupdate":De="onCompositionUpdate";break e}De=void 0}else ls?jf(r,a)&&(De="onCompositionEnd"):r==="keydown"&&a.keyCode===229&&(De="onCompositionStart");De&&(yo&&a.locale!=="ko"&&(ls||De!=="onCompositionStart"?De==="onCompositionEnd"&&ls&&(Pe=Js()):(Vn=re,Zo="value"in Vn?Vn.value:Vn.textContent,ls=!0)),Ae=Al(W,De),0<Ae.length&&(De=new ta(De,r,null,a,re),se.push({event:De,listeners:Ae}),Pe?De.data=Pe:(Pe=zf(a),Pe!==null&&(De.data=Pe)))),(Pe=Ln?X_(r,a):J_(r,a))&&(W=Al(W,"onBeforeInput"),0<W.length&&(re=new ta("onBeforeInput","beforeinput",null,a,re),se.push({event:re,listeners:W}),re.data=Pe))}ap(se,i)})}function la(r,i,a){return{instance:r,listener:i,currentTarget:a}}function Al(r,i){for(var a=i+"Capture",c=[];r!==null;){var d=r,g=d.stateNode;d.tag===5&&g!==null&&(d=g,g=Z(r,a),g!=null&&c.unshift(la(r,g,d)),g=Z(r,i),g!=null&&c.push(la(r,g,d))),r=r.return}return c}function hs(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function up(r,i,a,c,d){for(var g=i._reactName,E=[];a!==null&&a!==c;){var A=a,N=A.alternate,W=A.stateNode;if(N!==null&&N===c)break;A.tag===5&&W!==null&&(A=W,d?(N=Z(a,g),N!=null&&E.unshift(la(a,N,A))):d||(N=Z(a,g),N!=null&&E.push(la(a,N,A)))),a=a.return}E.length!==0&&r.push({event:i,listeners:E})}var d0=/\r\n?/g,f0=/\u0000|\uFFFD/g;function cp(r){return(typeof r=="string"?r:""+r).replace(d0,`
`).replace(f0,"")}function Pl(r,i,a){if(i=cp(i),cp(r)!==i&&a)throw Error(t(425))}function kl(){}var jc=null,zc=null;function Bc(r,i){return r==="textarea"||r==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var $c=typeof setTimeout=="function"?setTimeout:void 0,p0=typeof clearTimeout=="function"?clearTimeout:void 0,hp=typeof Promise=="function"?Promise:void 0,m0=typeof queueMicrotask=="function"?queueMicrotask:typeof hp<"u"?function(r){return hp.resolve(null).then(r).catch(g0)}:$c;function g0(r){setTimeout(function(){throw r})}function Hc(r,i){var a=i,c=0;do{var d=a.nextSibling;if(r.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(c===0){r.removeChild(d),hr(i);return}c--}else a!=="$"&&a!=="$?"&&a!=="$!"||c++;a=d}while(a);hr(i)}function Li(r){for(;r!=null;r=r.nextSibling){var i=r.nodeType;if(i===1||i===3)break;if(i===8){if(i=r.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return r}function dp(r){r=r.previousSibling;for(var i=0;r;){if(r.nodeType===8){var a=r.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return r;i--}else a==="/$"&&i++}r=r.previousSibling}return null}var ds=Math.random().toString(36).slice(2),Or="__reactFiber$"+ds,ua="__reactProps$"+ds,ri="__reactContainer$"+ds,qc="__reactEvents$"+ds,y0="__reactListeners$"+ds,v0="__reactHandles$"+ds;function vo(r){var i=r[Or];if(i)return i;for(var a=r.parentNode;a;){if(i=a[ri]||a[Or]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(r=dp(r);r!==null;){if(a=r[Or])return a;r=dp(r)}return i}r=a,a=r.parentNode}return null}function ca(r){return r=r[Or]||r[ri],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function fs(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(t(33))}function xl(r){return r[ua]||null}var Wc=[],ps=-1;function Mi(r){return{current:r}}function gt(r){0>ps||(r.current=Wc[ps],Wc[ps]=null,ps--)}function ht(r,i){ps++,Wc[ps]=r.current,r.current=i}var Oi={},sn=Mi(Oi),Sn=Mi(!1),_o=Oi;function ms(r,i){var a=r.type.contextTypes;if(!a)return Oi;var c=r.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===i)return c.__reactInternalMemoizedMaskedChildContext;var d={},g;for(g in a)d[g]=i[g];return c&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=i,r.__reactInternalMemoizedMaskedChildContext=d),d}function Rn(r){return r=r.childContextTypes,r!=null}function Dl(){gt(Sn),gt(sn)}function fp(r,i,a){if(sn.current!==Oi)throw Error(t(168));ht(sn,i),ht(Sn,a)}function pp(r,i,a){var c=r.stateNode;if(i=i.childContextTypes,typeof c.getChildContext!="function")return a;c=c.getChildContext();for(var d in c)if(!(d in i))throw Error(t(108,Je(r)||"Unknown",d));return de({},a,c)}function Nl(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||Oi,_o=sn.current,ht(sn,r),ht(Sn,Sn.current),!0}function mp(r,i,a){var c=r.stateNode;if(!c)throw Error(t(169));a?(r=pp(r,i,_o),c.__reactInternalMemoizedMergedChildContext=r,gt(Sn),gt(sn),ht(sn,r)):gt(Sn),ht(Sn,a)}var ii=null,Vl=!1,Kc=!1;function gp(r){ii===null?ii=[r]:ii.push(r)}function _0(r){Vl=!0,gp(r)}function bi(){if(!Kc&&ii!==null){Kc=!0;var r=0,i=$e;try{var a=ii;for($e=1;r<a.length;r++){var c=a[r];do c=c(!0);while(c!==null)}ii=null,Vl=!1}catch(d){throw ii!==null&&(ii=ii.slice(r+1)),Wt(Qe,bi),d}finally{$e=i,Kc=!1}}return null}var gs=[],ys=0,Ll=null,Ml=0,qn=[],Wn=0,Eo=null,oi=1,si="";function wo(r,i){gs[ys++]=Ml,gs[ys++]=Ll,Ll=r,Ml=i}function yp(r,i,a){qn[Wn++]=oi,qn[Wn++]=si,qn[Wn++]=Eo,Eo=r;var c=oi;r=si;var d=32-pn(c)-1;c&=~(1<<d),a+=1;var g=32-pn(i)+d;if(30<g){var E=d-d%5;g=(c&(1<<E)-1).toString(32),c>>=E,d-=E,oi=1<<32-pn(i)+d|a<<d|c,si=g+r}else oi=1<<g|a<<d|c,si=r}function Qc(r){r.return!==null&&(wo(r,1),yp(r,1,0))}function Gc(r){for(;r===Ll;)Ll=gs[--ys],gs[ys]=null,Ml=gs[--ys],gs[ys]=null;for(;r===Eo;)Eo=qn[--Wn],qn[Wn]=null,si=qn[--Wn],qn[Wn]=null,oi=qn[--Wn],qn[Wn]=null}var Mn=null,On=null,vt=!1,pr=null;function vp(r,i){var a=Yn(5,null,null,0);a.elementType="DELETED",a.stateNode=i,a.return=r,i=r.deletions,i===null?(r.deletions=[a],r.flags|=16):i.push(a)}function _p(r,i){switch(r.tag){case 5:var a=r.type;return i=i.nodeType!==1||a.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(r.stateNode=i,Mn=r,On=Li(i.firstChild),!0):!1;case 6:return i=r.pendingProps===""||i.nodeType!==3?null:i,i!==null?(r.stateNode=i,Mn=r,On=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(a=Eo!==null?{id:oi,overflow:si}:null,r.memoizedState={dehydrated:i,treeContext:a,retryLane:1073741824},a=Yn(18,null,null,0),a.stateNode=i,a.return=r,r.child=a,Mn=r,On=null,!0):!1;default:return!1}}function Yc(r){return(r.mode&1)!==0&&(r.flags&128)===0}function Xc(r){if(vt){var i=On;if(i){var a=i;if(!_p(r,i)){if(Yc(r))throw Error(t(418));i=Li(a.nextSibling);var c=Mn;i&&_p(r,i)?vp(c,a):(r.flags=r.flags&-4097|2,vt=!1,Mn=r)}}else{if(Yc(r))throw Error(t(418));r.flags=r.flags&-4097|2,vt=!1,Mn=r}}}function Ep(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;Mn=r}function Ol(r){if(r!==Mn)return!1;if(!vt)return Ep(r),vt=!0,!1;var i;if((i=r.tag!==3)&&!(i=r.tag!==5)&&(i=r.type,i=i!=="head"&&i!=="body"&&!Bc(r.type,r.memoizedProps)),i&&(i=On)){if(Yc(r))throw wp(),Error(t(418));for(;i;)vp(r,i),i=Li(i.nextSibling)}if(Ep(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(t(317));e:{for(r=r.nextSibling,i=0;r;){if(r.nodeType===8){var a=r.data;if(a==="/$"){if(i===0){On=Li(r.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++}r=r.nextSibling}On=null}}else On=Mn?Li(r.stateNode.nextSibling):null;return!0}function wp(){for(var r=On;r;)r=Li(r.nextSibling)}function vs(){On=Mn=null,vt=!1}function Jc(r){pr===null?pr=[r]:pr.push(r)}var E0=ne.ReactCurrentBatchConfig;function ha(r,i,a){if(r=a.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(t(309));var c=a.stateNode}if(!c)throw Error(t(147,r));var d=c,g=""+r;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===g?i.ref:(i=function(E){var A=d.refs;E===null?delete A[g]:A[g]=E},i._stringRef=g,i)}if(typeof r!="string")throw Error(t(284));if(!a._owner)throw Error(t(290,r))}return r}function bl(r,i){throw r=Object.prototype.toString.call(i),Error(t(31,r==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":r))}function Tp(r){var i=r._init;return i(r._payload)}function Sp(r){function i(H,b){if(r){var q=H.deletions;q===null?(H.deletions=[b],H.flags|=16):q.push(b)}}function a(H,b){if(!r)return null;for(;b!==null;)i(H,b),b=b.sibling;return null}function c(H,b){for(H=new Map;b!==null;)b.key!==null?H.set(b.key,b):H.set(b.index,b),b=b.sibling;return H}function d(H,b){return H=qi(H,b),H.index=0,H.sibling=null,H}function g(H,b,q){return H.index=q,r?(q=H.alternate,q!==null?(q=q.index,q<b?(H.flags|=2,b):q):(H.flags|=2,b)):(H.flags|=1048576,b)}function E(H){return r&&H.alternate===null&&(H.flags|=2),H}function A(H,b,q,ae){return b===null||b.tag!==6?(b=$h(q,H.mode,ae),b.return=H,b):(b=d(b,q),b.return=H,b)}function N(H,b,q,ae){var Re=q.type;return Re===k?re(H,b,q.props.children,ae,q.key):b!==null&&(b.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===Ct&&Tp(Re)===b.type)?(ae=d(b,q.props),ae.ref=ha(H,b,q),ae.return=H,ae):(ae=au(q.type,q.key,q.props,null,H.mode,ae),ae.ref=ha(H,b,q),ae.return=H,ae)}function W(H,b,q,ae){return b===null||b.tag!==4||b.stateNode.containerInfo!==q.containerInfo||b.stateNode.implementation!==q.implementation?(b=Hh(q,H.mode,ae),b.return=H,b):(b=d(b,q.children||[]),b.return=H,b)}function re(H,b,q,ae,Re){return b===null||b.tag!==7?(b=ko(q,H.mode,ae,Re),b.return=H,b):(b=d(b,q),b.return=H,b)}function se(H,b,q){if(typeof b=="string"&&b!==""||typeof b=="number")return b=$h(""+b,H.mode,q),b.return=H,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case L:return q=au(b.type,b.key,b.props,null,H.mode,q),q.ref=ha(H,null,b),q.return=H,q;case ie:return b=Hh(b,H.mode,q),b.return=H,b;case Ct:var ae=b._init;return se(H,ae(b._payload),q)}if(er(b)||Te(b))return b=ko(b,H.mode,q,null),b.return=H,b;bl(H,b)}return null}function te(H,b,q,ae){var Re=b!==null?b.key:null;if(typeof q=="string"&&q!==""||typeof q=="number")return Re!==null?null:A(H,b,""+q,ae);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case L:return q.key===Re?N(H,b,q,ae):null;case ie:return q.key===Re?W(H,b,q,ae):null;case Ct:return Re=q._init,te(H,b,Re(q._payload),ae)}if(er(q)||Te(q))return Re!==null?null:re(H,b,q,ae,null);bl(H,q)}return null}function me(H,b,q,ae,Re){if(typeof ae=="string"&&ae!==""||typeof ae=="number")return H=H.get(q)||null,A(b,H,""+ae,Re);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case L:return H=H.get(ae.key===null?q:ae.key)||null,N(b,H,ae,Re);case ie:return H=H.get(ae.key===null?q:ae.key)||null,W(b,H,ae,Re);case Ct:var Ae=ae._init;return me(H,b,q,Ae(ae._payload),Re)}if(er(ae)||Te(ae))return H=H.get(q)||null,re(b,H,ae,Re,null);bl(b,ae)}return null}function we(H,b,q,ae){for(var Re=null,Ae=null,Pe=b,De=b=0,zt=null;Pe!==null&&De<q.length;De++){Pe.index>De?(zt=Pe,Pe=null):zt=Pe.sibling;var nt=te(H,Pe,q[De],ae);if(nt===null){Pe===null&&(Pe=zt);break}r&&Pe&&nt.alternate===null&&i(H,Pe),b=g(nt,b,De),Ae===null?Re=nt:Ae.sibling=nt,Ae=nt,Pe=zt}if(De===q.length)return a(H,Pe),vt&&wo(H,De),Re;if(Pe===null){for(;De<q.length;De++)Pe=se(H,q[De],ae),Pe!==null&&(b=g(Pe,b,De),Ae===null?Re=Pe:Ae.sibling=Pe,Ae=Pe);return vt&&wo(H,De),Re}for(Pe=c(H,Pe);De<q.length;De++)zt=me(Pe,H,De,q[De],ae),zt!==null&&(r&&zt.alternate!==null&&Pe.delete(zt.key===null?De:zt.key),b=g(zt,b,De),Ae===null?Re=zt:Ae.sibling=zt,Ae=zt);return r&&Pe.forEach(function(Wi){return i(H,Wi)}),vt&&wo(H,De),Re}function Se(H,b,q,ae){var Re=Te(q);if(typeof Re!="function")throw Error(t(150));if(q=Re.call(q),q==null)throw Error(t(151));for(var Ae=Re=null,Pe=b,De=b=0,zt=null,nt=q.next();Pe!==null&&!nt.done;De++,nt=q.next()){Pe.index>De?(zt=Pe,Pe=null):zt=Pe.sibling;var Wi=te(H,Pe,nt.value,ae);if(Wi===null){Pe===null&&(Pe=zt);break}r&&Pe&&Wi.alternate===null&&i(H,Pe),b=g(Wi,b,De),Ae===null?Re=Wi:Ae.sibling=Wi,Ae=Wi,Pe=zt}if(nt.done)return a(H,Pe),vt&&wo(H,De),Re;if(Pe===null){for(;!nt.done;De++,nt=q.next())nt=se(H,nt.value,ae),nt!==null&&(b=g(nt,b,De),Ae===null?Re=nt:Ae.sibling=nt,Ae=nt);return vt&&wo(H,De),Re}for(Pe=c(H,Pe);!nt.done;De++,nt=q.next())nt=me(Pe,H,De,nt.value,ae),nt!==null&&(r&&nt.alternate!==null&&Pe.delete(nt.key===null?De:nt.key),b=g(nt,b,De),Ae===null?Re=nt:Ae.sibling=nt,Ae=nt);return r&&Pe.forEach(function(Z0){return i(H,Z0)}),vt&&wo(H,De),Re}function At(H,b,q,ae){if(typeof q=="object"&&q!==null&&q.type===k&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case L:e:{for(var Re=q.key,Ae=b;Ae!==null;){if(Ae.key===Re){if(Re=q.type,Re===k){if(Ae.tag===7){a(H,Ae.sibling),b=d(Ae,q.props.children),b.return=H,H=b;break e}}else if(Ae.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===Ct&&Tp(Re)===Ae.type){a(H,Ae.sibling),b=d(Ae,q.props),b.ref=ha(H,Ae,q),b.return=H,H=b;break e}a(H,Ae);break}else i(H,Ae);Ae=Ae.sibling}q.type===k?(b=ko(q.props.children,H.mode,ae,q.key),b.return=H,H=b):(ae=au(q.type,q.key,q.props,null,H.mode,ae),ae.ref=ha(H,b,q),ae.return=H,H=ae)}return E(H);case ie:e:{for(Ae=q.key;b!==null;){if(b.key===Ae)if(b.tag===4&&b.stateNode.containerInfo===q.containerInfo&&b.stateNode.implementation===q.implementation){a(H,b.sibling),b=d(b,q.children||[]),b.return=H,H=b;break e}else{a(H,b);break}else i(H,b);b=b.sibling}b=Hh(q,H.mode,ae),b.return=H,H=b}return E(H);case Ct:return Ae=q._init,At(H,b,Ae(q._payload),ae)}if(er(q))return we(H,b,q,ae);if(Te(q))return Se(H,b,q,ae);bl(H,q)}return typeof q=="string"&&q!==""||typeof q=="number"?(q=""+q,b!==null&&b.tag===6?(a(H,b.sibling),b=d(b,q),b.return=H,H=b):(a(H,b),b=$h(q,H.mode,ae),b.return=H,H=b),E(H)):a(H,b)}return At}var _s=Sp(!0),Rp=Sp(!1),Fl=Mi(null),Ul=null,Es=null,Zc=null;function eh(){Zc=Es=Ul=null}function th(r){var i=Fl.current;gt(Fl),r._currentValue=i}function nh(r,i,a){for(;r!==null;){var c=r.alternate;if((r.childLanes&i)!==i?(r.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),r===a)break;r=r.return}}function ws(r,i){Ul=r,Zc=Es=null,r=r.dependencies,r!==null&&r.firstContext!==null&&(r.lanes&i&&(In=!0),r.firstContext=null)}function Kn(r){var i=r._currentValue;if(Zc!==r)if(r={context:r,memoizedValue:i,next:null},Es===null){if(Ul===null)throw Error(t(308));Es=r,Ul.dependencies={lanes:0,firstContext:r}}else Es=Es.next=r;return i}var To=null;function rh(r){To===null?To=[r]:To.push(r)}function Ip(r,i,a,c){var d=i.interleaved;return d===null?(a.next=a,rh(i)):(a.next=d.next,d.next=a),i.interleaved=a,ai(r,c)}function ai(r,i){r.lanes|=i;var a=r.alternate;for(a!==null&&(a.lanes|=i),a=r,r=r.return;r!==null;)r.childLanes|=i,a=r.alternate,a!==null&&(a.childLanes|=i),a=r,r=r.return;return a.tag===3?a.stateNode:null}var Fi=!1;function ih(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Cp(r,i){r=r.updateQueue,i.updateQueue===r&&(i.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function li(r,i){return{eventTime:r,lane:i,tag:0,payload:null,callback:null,next:null}}function Ui(r,i,a){var c=r.updateQueue;if(c===null)return null;if(c=c.shared,tt&2){var d=c.pending;return d===null?i.next=i:(i.next=d.next,d.next=i),c.pending=i,ai(r,a)}return d=c.interleaved,d===null?(i.next=i,rh(c)):(i.next=d.next,d.next=i),c.interleaved=i,ai(r,a)}function jl(r,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194240)!==0)){var c=i.lanes;c&=r.pendingLanes,a|=c,i.lanes=a,Pi(r,a)}}function Ap(r,i){var a=r.updateQueue,c=r.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var d=null,g=null;if(a=a.firstBaseUpdate,a!==null){do{var E={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};g===null?d=g=E:g=g.next=E,a=a.next}while(a!==null);g===null?d=g=i:g=g.next=i}else d=g=i;a={baseState:c.baseState,firstBaseUpdate:d,lastBaseUpdate:g,shared:c.shared,effects:c.effects},r.updateQueue=a;return}r=a.lastBaseUpdate,r===null?a.firstBaseUpdate=i:r.next=i,a.lastBaseUpdate=i}function zl(r,i,a,c){var d=r.updateQueue;Fi=!1;var g=d.firstBaseUpdate,E=d.lastBaseUpdate,A=d.shared.pending;if(A!==null){d.shared.pending=null;var N=A,W=N.next;N.next=null,E===null?g=W:E.next=W,E=N;var re=r.alternate;re!==null&&(re=re.updateQueue,A=re.lastBaseUpdate,A!==E&&(A===null?re.firstBaseUpdate=W:A.next=W,re.lastBaseUpdate=N))}if(g!==null){var se=d.baseState;E=0,re=W=N=null,A=g;do{var te=A.lane,me=A.eventTime;if((c&te)===te){re!==null&&(re=re.next={eventTime:me,lane:0,tag:A.tag,payload:A.payload,callback:A.callback,next:null});e:{var we=r,Se=A;switch(te=i,me=a,Se.tag){case 1:if(we=Se.payload,typeof we=="function"){se=we.call(me,se,te);break e}se=we;break e;case 3:we.flags=we.flags&-65537|128;case 0:if(we=Se.payload,te=typeof we=="function"?we.call(me,se,te):we,te==null)break e;se=de({},se,te);break e;case 2:Fi=!0}}A.callback!==null&&A.lane!==0&&(r.flags|=64,te=d.effects,te===null?d.effects=[A]:te.push(A))}else me={eventTime:me,lane:te,tag:A.tag,payload:A.payload,callback:A.callback,next:null},re===null?(W=re=me,N=se):re=re.next=me,E|=te;if(A=A.next,A===null){if(A=d.shared.pending,A===null)break;te=A,A=te.next,te.next=null,d.lastBaseUpdate=te,d.shared.pending=null}}while(!0);if(re===null&&(N=se),d.baseState=N,d.firstBaseUpdate=W,d.lastBaseUpdate=re,i=d.shared.interleaved,i!==null){d=i;do E|=d.lane,d=d.next;while(d!==i)}else g===null&&(d.shared.lanes=0);Io|=E,r.lanes=E,r.memoizedState=se}}function Pp(r,i,a){if(r=i.effects,i.effects=null,r!==null)for(i=0;i<r.length;i++){var c=r[i],d=c.callback;if(d!==null){if(c.callback=null,c=a,typeof d!="function")throw Error(t(191,d));d.call(c)}}}var da={},br=Mi(da),fa=Mi(da),pa=Mi(da);function So(r){if(r===da)throw Error(t(174));return r}function oh(r,i){switch(ht(pa,i),ht(fa,r),ht(br,da),r=i.nodeType,r){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:St(null,"");break;default:r=r===8?i.parentNode:i,i=r.namespaceURI||null,r=r.tagName,i=St(i,r)}gt(br),ht(br,i)}function Ts(){gt(br),gt(fa),gt(pa)}function kp(r){So(pa.current);var i=So(br.current),a=St(i,r.type);i!==a&&(ht(fa,r),ht(br,a))}function sh(r){fa.current===r&&(gt(br),gt(fa))}var Et=Mi(0);function Bl(r){for(var i=r;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if(i.flags&128)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var ah=[];function lh(){for(var r=0;r<ah.length;r++)ah[r]._workInProgressVersionPrimary=null;ah.length=0}var $l=ne.ReactCurrentDispatcher,uh=ne.ReactCurrentBatchConfig,Ro=0,wt=null,Vt=null,Ut=null,Hl=!1,ma=!1,ga=0,w0=0;function an(){throw Error(t(321))}function ch(r,i){if(i===null)return!1;for(var a=0;a<i.length&&a<r.length;a++)if(!fr(r[a],i[a]))return!1;return!0}function hh(r,i,a,c,d,g){if(Ro=g,wt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,$l.current=r===null||r.memoizedState===null?I0:C0,r=a(c,d),ma){g=0;do{if(ma=!1,ga=0,25<=g)throw Error(t(301));g+=1,Ut=Vt=null,i.updateQueue=null,$l.current=A0,r=a(c,d)}while(ma)}if($l.current=Kl,i=Vt!==null&&Vt.next!==null,Ro=0,Ut=Vt=wt=null,Hl=!1,i)throw Error(t(300));return r}function dh(){var r=ga!==0;return ga=0,r}function Fr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ut===null?wt.memoizedState=Ut=r:Ut=Ut.next=r,Ut}function Qn(){if(Vt===null){var r=wt.alternate;r=r!==null?r.memoizedState:null}else r=Vt.next;var i=Ut===null?wt.memoizedState:Ut.next;if(i!==null)Ut=i,Vt=r;else{if(r===null)throw Error(t(310));Vt=r,r={memoizedState:Vt.memoizedState,baseState:Vt.baseState,baseQueue:Vt.baseQueue,queue:Vt.queue,next:null},Ut===null?wt.memoizedState=Ut=r:Ut=Ut.next=r}return Ut}function ya(r,i){return typeof i=="function"?i(r):i}function fh(r){var i=Qn(),a=i.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=r;var c=Vt,d=c.baseQueue,g=a.pending;if(g!==null){if(d!==null){var E=d.next;d.next=g.next,g.next=E}c.baseQueue=d=g,a.pending=null}if(d!==null){g=d.next,c=c.baseState;var A=E=null,N=null,W=g;do{var re=W.lane;if((Ro&re)===re)N!==null&&(N=N.next={lane:0,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null}),c=W.hasEagerState?W.eagerState:r(c,W.action);else{var se={lane:re,action:W.action,hasEagerState:W.hasEagerState,eagerState:W.eagerState,next:null};N===null?(A=N=se,E=c):N=N.next=se,wt.lanes|=re,Io|=re}W=W.next}while(W!==null&&W!==g);N===null?E=c:N.next=A,fr(c,i.memoizedState)||(In=!0),i.memoizedState=c,i.baseState=E,i.baseQueue=N,a.lastRenderedState=c}if(r=a.interleaved,r!==null){d=r;do g=d.lane,wt.lanes|=g,Io|=g,d=d.next;while(d!==r)}else d===null&&(a.lanes=0);return[i.memoizedState,a.dispatch]}function ph(r){var i=Qn(),a=i.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=r;var c=a.dispatch,d=a.pending,g=i.memoizedState;if(d!==null){a.pending=null;var E=d=d.next;do g=r(g,E.action),E=E.next;while(E!==d);fr(g,i.memoizedState)||(In=!0),i.memoizedState=g,i.baseQueue===null&&(i.baseState=g),a.lastRenderedState=g}return[g,c]}function xp(){}function Dp(r,i){var a=wt,c=Qn(),d=i(),g=!fr(c.memoizedState,d);if(g&&(c.memoizedState=d,In=!0),c=c.queue,mh(Lp.bind(null,a,c,r),[r]),c.getSnapshot!==i||g||Ut!==null&&Ut.memoizedState.tag&1){if(a.flags|=2048,va(9,Vp.bind(null,a,c,d,i),void 0,null),jt===null)throw Error(t(349));Ro&30||Np(a,i,d)}return d}function Np(r,i,a){r.flags|=16384,r={getSnapshot:i,value:a},i=wt.updateQueue,i===null?(i={lastEffect:null,stores:null},wt.updateQueue=i,i.stores=[r]):(a=i.stores,a===null?i.stores=[r]:a.push(r))}function Vp(r,i,a,c){i.value=a,i.getSnapshot=c,Mp(i)&&Op(r)}function Lp(r,i,a){return a(function(){Mp(i)&&Op(r)})}function Mp(r){var i=r.getSnapshot;r=r.value;try{var a=i();return!fr(r,a)}catch{return!0}}function Op(r){var i=ai(r,1);i!==null&&vr(i,r,1,-1)}function bp(r){var i=Fr();return typeof r=="function"&&(r=r()),i.memoizedState=i.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ya,lastRenderedState:r},i.queue=r,r=r.dispatch=R0.bind(null,wt,r),[i.memoizedState,r]}function va(r,i,a,c){return r={tag:r,create:i,destroy:a,deps:c,next:null},i=wt.updateQueue,i===null?(i={lastEffect:null,stores:null},wt.updateQueue=i,i.lastEffect=r.next=r):(a=i.lastEffect,a===null?i.lastEffect=r.next=r:(c=a.next,a.next=r,r.next=c,i.lastEffect=r)),r}function Fp(){return Qn().memoizedState}function ql(r,i,a,c){var d=Fr();wt.flags|=r,d.memoizedState=va(1|i,a,void 0,c===void 0?null:c)}function Wl(r,i,a,c){var d=Qn();c=c===void 0?null:c;var g=void 0;if(Vt!==null){var E=Vt.memoizedState;if(g=E.destroy,c!==null&&ch(c,E.deps)){d.memoizedState=va(i,a,g,c);return}}wt.flags|=r,d.memoizedState=va(1|i,a,g,c)}function Up(r,i){return ql(8390656,8,r,i)}function mh(r,i){return Wl(2048,8,r,i)}function jp(r,i){return Wl(4,2,r,i)}function zp(r,i){return Wl(4,4,r,i)}function Bp(r,i){if(typeof i=="function")return r=r(),i(r),function(){i(null)};if(i!=null)return r=r(),i.current=r,function(){i.current=null}}function $p(r,i,a){return a=a!=null?a.concat([r]):null,Wl(4,4,Bp.bind(null,i,r),a)}function gh(){}function Hp(r,i){var a=Qn();i=i===void 0?null:i;var c=a.memoizedState;return c!==null&&i!==null&&ch(i,c[1])?c[0]:(a.memoizedState=[r,i],r)}function qp(r,i){var a=Qn();i=i===void 0?null:i;var c=a.memoizedState;return c!==null&&i!==null&&ch(i,c[1])?c[0]:(r=r(),a.memoizedState=[r,i],r)}function Wp(r,i,a){return Ro&21?(fr(a,i)||(a=fo(),wt.lanes|=a,Io|=a,r.baseState=!0),i):(r.baseState&&(r.baseState=!1,In=!0),r.memoizedState=a)}function T0(r,i){var a=$e;$e=a!==0&&4>a?a:4,r(!0);var c=uh.transition;uh.transition={};try{r(!1),i()}finally{$e=a,uh.transition=c}}function Kp(){return Qn().memoizedState}function S0(r,i,a){var c=$i(r);if(a={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null},Qp(r))Gp(i,a);else if(a=Ip(r,i,a,c),a!==null){var d=yn();vr(a,r,c,d),Yp(a,i,c)}}function R0(r,i,a){var c=$i(r),d={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null};if(Qp(r))Gp(i,d);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=i.lastRenderedReducer,g!==null))try{var E=i.lastRenderedState,A=g(E,a);if(d.hasEagerState=!0,d.eagerState=A,fr(A,E)){var N=i.interleaved;N===null?(d.next=d,rh(i)):(d.next=N.next,N.next=d),i.interleaved=d;return}}catch{}finally{}a=Ip(r,i,d,c),a!==null&&(d=yn(),vr(a,r,c,d),Yp(a,i,c))}}function Qp(r){var i=r.alternate;return r===wt||i!==null&&i===wt}function Gp(r,i){ma=Hl=!0;var a=r.pending;a===null?i.next=i:(i.next=a.next,a.next=i),r.pending=i}function Yp(r,i,a){if(a&4194240){var c=i.lanes;c&=r.pendingLanes,a|=c,i.lanes=a,Pi(r,a)}}var Kl={readContext:Kn,useCallback:an,useContext:an,useEffect:an,useImperativeHandle:an,useInsertionEffect:an,useLayoutEffect:an,useMemo:an,useReducer:an,useRef:an,useState:an,useDebugValue:an,useDeferredValue:an,useTransition:an,useMutableSource:an,useSyncExternalStore:an,useId:an,unstable_isNewReconciler:!1},I0={readContext:Kn,useCallback:function(r,i){return Fr().memoizedState=[r,i===void 0?null:i],r},useContext:Kn,useEffect:Up,useImperativeHandle:function(r,i,a){return a=a!=null?a.concat([r]):null,ql(4194308,4,Bp.bind(null,i,r),a)},useLayoutEffect:function(r,i){return ql(4194308,4,r,i)},useInsertionEffect:function(r,i){return ql(4,2,r,i)},useMemo:function(r,i){var a=Fr();return i=i===void 0?null:i,r=r(),a.memoizedState=[r,i],r},useReducer:function(r,i,a){var c=Fr();return i=a!==void 0?a(i):i,c.memoizedState=c.baseState=i,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:i},c.queue=r,r=r.dispatch=S0.bind(null,wt,r),[c.memoizedState,r]},useRef:function(r){var i=Fr();return r={current:r},i.memoizedState=r},useState:bp,useDebugValue:gh,useDeferredValue:function(r){return Fr().memoizedState=r},useTransition:function(){var r=bp(!1),i=r[0];return r=T0.bind(null,r[1]),Fr().memoizedState=r,[i,r]},useMutableSource:function(){},useSyncExternalStore:function(r,i,a){var c=wt,d=Fr();if(vt){if(a===void 0)throw Error(t(407));a=a()}else{if(a=i(),jt===null)throw Error(t(349));Ro&30||Np(c,i,a)}d.memoizedState=a;var g={value:a,getSnapshot:i};return d.queue=g,Up(Lp.bind(null,c,g,r),[r]),c.flags|=2048,va(9,Vp.bind(null,c,g,a,i),void 0,null),a},useId:function(){var r=Fr(),i=jt.identifierPrefix;if(vt){var a=si,c=oi;a=(c&~(1<<32-pn(c)-1)).toString(32)+a,i=":"+i+"R"+a,a=ga++,0<a&&(i+="H"+a.toString(32)),i+=":"}else a=w0++,i=":"+i+"r"+a.toString(32)+":";return r.memoizedState=i},unstable_isNewReconciler:!1},C0={readContext:Kn,useCallback:Hp,useContext:Kn,useEffect:mh,useImperativeHandle:$p,useInsertionEffect:jp,useLayoutEffect:zp,useMemo:qp,useReducer:fh,useRef:Fp,useState:function(){return fh(ya)},useDebugValue:gh,useDeferredValue:function(r){var i=Qn();return Wp(i,Vt.memoizedState,r)},useTransition:function(){var r=fh(ya)[0],i=Qn().memoizedState;return[r,i]},useMutableSource:xp,useSyncExternalStore:Dp,useId:Kp,unstable_isNewReconciler:!1},A0={readContext:Kn,useCallback:Hp,useContext:Kn,useEffect:mh,useImperativeHandle:$p,useInsertionEffect:jp,useLayoutEffect:zp,useMemo:qp,useReducer:ph,useRef:Fp,useState:function(){return ph(ya)},useDebugValue:gh,useDeferredValue:function(r){var i=Qn();return Vt===null?i.memoizedState=r:Wp(i,Vt.memoizedState,r)},useTransition:function(){var r=ph(ya)[0],i=Qn().memoizedState;return[r,i]},useMutableSource:xp,useSyncExternalStore:Dp,useId:Kp,unstable_isNewReconciler:!1};function mr(r,i){if(r&&r.defaultProps){i=de({},i),r=r.defaultProps;for(var a in r)i[a]===void 0&&(i[a]=r[a]);return i}return i}function yh(r,i,a,c){i=r.memoizedState,a=a(c,i),a=a==null?i:de({},i,a),r.memoizedState=a,r.lanes===0&&(r.updateQueue.baseState=a)}var Ql={isMounted:function(r){return(r=r._reactInternals)?Be(r)===r:!1},enqueueSetState:function(r,i,a){r=r._reactInternals;var c=yn(),d=$i(r),g=li(c,d);g.payload=i,a!=null&&(g.callback=a),i=Ui(r,g,d),i!==null&&(vr(i,r,d,c),jl(i,r,d))},enqueueReplaceState:function(r,i,a){r=r._reactInternals;var c=yn(),d=$i(r),g=li(c,d);g.tag=1,g.payload=i,a!=null&&(g.callback=a),i=Ui(r,g,d),i!==null&&(vr(i,r,d,c),jl(i,r,d))},enqueueForceUpdate:function(r,i){r=r._reactInternals;var a=yn(),c=$i(r),d=li(a,c);d.tag=2,i!=null&&(d.callback=i),i=Ui(r,d,c),i!==null&&(vr(i,r,c,a),jl(i,r,c))}};function Xp(r,i,a,c,d,g,E){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(c,g,E):i.prototype&&i.prototype.isPureReactComponent?!ia(a,c)||!ia(d,g):!0}function Jp(r,i,a){var c=!1,d=Oi,g=i.contextType;return typeof g=="object"&&g!==null?g=Kn(g):(d=Rn(i)?_o:sn.current,c=i.contextTypes,g=(c=c!=null)?ms(r,d):Oi),i=new i(a,g),r.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Ql,r.stateNode=i,i._reactInternals=r,c&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=d,r.__reactInternalMemoizedMaskedChildContext=g),i}function Zp(r,i,a,c){r=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,c),i.state!==r&&Ql.enqueueReplaceState(i,i.state,null)}function vh(r,i,a,c){var d=r.stateNode;d.props=a,d.state=r.memoizedState,d.refs={},ih(r);var g=i.contextType;typeof g=="object"&&g!==null?d.context=Kn(g):(g=Rn(i)?_o:sn.current,d.context=ms(r,g)),d.state=r.memoizedState,g=i.getDerivedStateFromProps,typeof g=="function"&&(yh(r,i,g,a),d.state=r.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(i=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),i!==d.state&&Ql.enqueueReplaceState(d,d.state,null),zl(r,a,d,c),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308)}function Ss(r,i){try{var a="",c=i;do a+=Ve(c),c=c.return;while(c);var d=a}catch(g){d=`
Error generating stack: `+g.message+`
`+g.stack}return{value:r,source:i,stack:d,digest:null}}function _h(r,i,a){return{value:r,source:null,stack:a??null,digest:i??null}}function Eh(r,i){try{console.error(i.value)}catch(a){setTimeout(function(){throw a})}}var P0=typeof WeakMap=="function"?WeakMap:Map;function em(r,i,a){a=li(-1,a),a.tag=3,a.payload={element:null};var c=i.value;return a.callback=function(){tu||(tu=!0,Mh=c),Eh(r,i)},a}function tm(r,i,a){a=li(-1,a),a.tag=3;var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var d=i.value;a.payload=function(){return c(d)},a.callback=function(){Eh(r,i)}}var g=r.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(a.callback=function(){Eh(r,i),typeof c!="function"&&(zi===null?zi=new Set([this]):zi.add(this));var E=i.stack;this.componentDidCatch(i.value,{componentStack:E!==null?E:""})}),a}function nm(r,i,a){var c=r.pingCache;if(c===null){c=r.pingCache=new P0;var d=new Set;c.set(i,d)}else d=c.get(i),d===void 0&&(d=new Set,c.set(i,d));d.has(a)||(d.add(a),r=B0.bind(null,r,i,a),i.then(r,r))}function rm(r){do{var i;if((i=r.tag===13)&&(i=r.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return r;r=r.return}while(r!==null);return null}function im(r,i,a,c,d){return r.mode&1?(r.flags|=65536,r.lanes=d,r):(r===i?r.flags|=65536:(r.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(i=li(-1,1),i.tag=2,Ui(a,i,1))),a.lanes|=1),r)}var k0=ne.ReactCurrentOwner,In=!1;function gn(r,i,a,c){i.child=r===null?Rp(i,null,a,c):_s(i,r.child,a,c)}function om(r,i,a,c,d){a=a.render;var g=i.ref;return ws(i,d),c=hh(r,i,a,c,g,d),a=dh(),r!==null&&!In?(i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~d,ui(r,i,d)):(vt&&a&&Qc(i),i.flags|=1,gn(r,i,c,d),i.child)}function sm(r,i,a,c,d){if(r===null){var g=a.type;return typeof g=="function"&&!Bh(g)&&g.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(i.tag=15,i.type=g,am(r,i,g,c,d)):(r=au(a.type,null,c,i,i.mode,d),r.ref=i.ref,r.return=i,i.child=r)}if(g=r.child,!(r.lanes&d)){var E=g.memoizedProps;if(a=a.compare,a=a!==null?a:ia,a(E,c)&&r.ref===i.ref)return ui(r,i,d)}return i.flags|=1,r=qi(g,c),r.ref=i.ref,r.return=i,i.child=r}function am(r,i,a,c,d){if(r!==null){var g=r.memoizedProps;if(ia(g,c)&&r.ref===i.ref)if(In=!1,i.pendingProps=c=g,(r.lanes&d)!==0)r.flags&131072&&(In=!0);else return i.lanes=r.lanes,ui(r,i,d)}return wh(r,i,a,c,d)}function lm(r,i,a){var c=i.pendingProps,d=c.children,g=r!==null?r.memoizedState:null;if(c.mode==="hidden")if(!(i.mode&1))i.memoizedState={baseLanes:0,cachePool:null,transitions:null},ht(Is,bn),bn|=a;else{if(!(a&1073741824))return r=g!==null?g.baseLanes|a:a,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:r,cachePool:null,transitions:null},i.updateQueue=null,ht(Is,bn),bn|=r,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=g!==null?g.baseLanes:a,ht(Is,bn),bn|=c}else g!==null?(c=g.baseLanes|a,i.memoizedState=null):c=a,ht(Is,bn),bn|=c;return gn(r,i,d,a),i.child}function um(r,i){var a=i.ref;(r===null&&a!==null||r!==null&&r.ref!==a)&&(i.flags|=512,i.flags|=2097152)}function wh(r,i,a,c,d){var g=Rn(a)?_o:sn.current;return g=ms(i,g),ws(i,d),a=hh(r,i,a,c,g,d),c=dh(),r!==null&&!In?(i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~d,ui(r,i,d)):(vt&&c&&Qc(i),i.flags|=1,gn(r,i,a,d),i.child)}function cm(r,i,a,c,d){if(Rn(a)){var g=!0;Nl(i)}else g=!1;if(ws(i,d),i.stateNode===null)Yl(r,i),Jp(i,a,c),vh(i,a,c,d),c=!0;else if(r===null){var E=i.stateNode,A=i.memoizedProps;E.props=A;var N=E.context,W=a.contextType;typeof W=="object"&&W!==null?W=Kn(W):(W=Rn(a)?_o:sn.current,W=ms(i,W));var re=a.getDerivedStateFromProps,se=typeof re=="function"||typeof E.getSnapshotBeforeUpdate=="function";se||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(A!==c||N!==W)&&Zp(i,E,c,W),Fi=!1;var te=i.memoizedState;E.state=te,zl(i,c,E,d),N=i.memoizedState,A!==c||te!==N||Sn.current||Fi?(typeof re=="function"&&(yh(i,a,re,c),N=i.memoizedState),(A=Fi||Xp(i,a,A,c,te,N,W))?(se||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(i.flags|=4194308)):(typeof E.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=N),E.props=c,E.state=N,E.context=W,c=A):(typeof E.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{E=i.stateNode,Cp(r,i),A=i.memoizedProps,W=i.type===i.elementType?A:mr(i.type,A),E.props=W,se=i.pendingProps,te=E.context,N=a.contextType,typeof N=="object"&&N!==null?N=Kn(N):(N=Rn(a)?_o:sn.current,N=ms(i,N));var me=a.getDerivedStateFromProps;(re=typeof me=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(A!==se||te!==N)&&Zp(i,E,c,N),Fi=!1,te=i.memoizedState,E.state=te,zl(i,c,E,d);var we=i.memoizedState;A!==se||te!==we||Sn.current||Fi?(typeof me=="function"&&(yh(i,a,me,c),we=i.memoizedState),(W=Fi||Xp(i,a,W,c,te,we,N)||!1)?(re||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(c,we,N),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(c,we,N)),typeof E.componentDidUpdate=="function"&&(i.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof E.componentDidUpdate!="function"||A===r.memoizedProps&&te===r.memoizedState||(i.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||A===r.memoizedProps&&te===r.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=we),E.props=c,E.state=we,E.context=N,c=W):(typeof E.componentDidUpdate!="function"||A===r.memoizedProps&&te===r.memoizedState||(i.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||A===r.memoizedProps&&te===r.memoizedState||(i.flags|=1024),c=!1)}return Th(r,i,a,c,g,d)}function Th(r,i,a,c,d,g){um(r,i);var E=(i.flags&128)!==0;if(!c&&!E)return d&&mp(i,a,!1),ui(r,i,g);c=i.stateNode,k0.current=i;var A=E&&typeof a.getDerivedStateFromError!="function"?null:c.render();return i.flags|=1,r!==null&&E?(i.child=_s(i,r.child,null,g),i.child=_s(i,null,A,g)):gn(r,i,A,g),i.memoizedState=c.state,d&&mp(i,a,!0),i.child}function hm(r){var i=r.stateNode;i.pendingContext?fp(r,i.pendingContext,i.pendingContext!==i.context):i.context&&fp(r,i.context,!1),oh(r,i.containerInfo)}function dm(r,i,a,c,d){return vs(),Jc(d),i.flags|=256,gn(r,i,a,c),i.child}var Sh={dehydrated:null,treeContext:null,retryLane:0};function Rh(r){return{baseLanes:r,cachePool:null,transitions:null}}function fm(r,i,a){var c=i.pendingProps,d=Et.current,g=!1,E=(i.flags&128)!==0,A;if((A=E)||(A=r!==null&&r.memoizedState===null?!1:(d&2)!==0),A?(g=!0,i.flags&=-129):(r===null||r.memoizedState!==null)&&(d|=1),ht(Et,d&1),r===null)return Xc(i),r=i.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?(i.mode&1?r.data==="$!"?i.lanes=8:i.lanes=1073741824:i.lanes=1,null):(E=c.children,r=c.fallback,g?(c=i.mode,g=i.child,E={mode:"hidden",children:E},!(c&1)&&g!==null?(g.childLanes=0,g.pendingProps=E):g=lu(E,c,0,null),r=ko(r,c,a,null),g.return=i,r.return=i,g.sibling=r,i.child=g,i.child.memoizedState=Rh(a),i.memoizedState=Sh,r):Ih(i,E));if(d=r.memoizedState,d!==null&&(A=d.dehydrated,A!==null))return x0(r,i,E,c,A,d,a);if(g){g=c.fallback,E=i.mode,d=r.child,A=d.sibling;var N={mode:"hidden",children:c.children};return!(E&1)&&i.child!==d?(c=i.child,c.childLanes=0,c.pendingProps=N,i.deletions=null):(c=qi(d,N),c.subtreeFlags=d.subtreeFlags&14680064),A!==null?g=qi(A,g):(g=ko(g,E,a,null),g.flags|=2),g.return=i,c.return=i,c.sibling=g,i.child=c,c=g,g=i.child,E=r.child.memoizedState,E=E===null?Rh(a):{baseLanes:E.baseLanes|a,cachePool:null,transitions:E.transitions},g.memoizedState=E,g.childLanes=r.childLanes&~a,i.memoizedState=Sh,c}return g=r.child,r=g.sibling,c=qi(g,{mode:"visible",children:c.children}),!(i.mode&1)&&(c.lanes=a),c.return=i,c.sibling=null,r!==null&&(a=i.deletions,a===null?(i.deletions=[r],i.flags|=16):a.push(r)),i.child=c,i.memoizedState=null,c}function Ih(r,i){return i=lu({mode:"visible",children:i},r.mode,0,null),i.return=r,r.child=i}function Gl(r,i,a,c){return c!==null&&Jc(c),_s(i,r.child,null,a),r=Ih(i,i.pendingProps.children),r.flags|=2,i.memoizedState=null,r}function x0(r,i,a,c,d,g,E){if(a)return i.flags&256?(i.flags&=-257,c=_h(Error(t(422))),Gl(r,i,E,c)):i.memoizedState!==null?(i.child=r.child,i.flags|=128,null):(g=c.fallback,d=i.mode,c=lu({mode:"visible",children:c.children},d,0,null),g=ko(g,d,E,null),g.flags|=2,c.return=i,g.return=i,c.sibling=g,i.child=c,i.mode&1&&_s(i,r.child,null,E),i.child.memoizedState=Rh(E),i.memoizedState=Sh,g);if(!(i.mode&1))return Gl(r,i,E,null);if(d.data==="$!"){if(c=d.nextSibling&&d.nextSibling.dataset,c)var A=c.dgst;return c=A,g=Error(t(419)),c=_h(g,c,void 0),Gl(r,i,E,c)}if(A=(E&r.childLanes)!==0,In||A){if(c=jt,c!==null){switch(E&-E){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=d&(c.suspendedLanes|E)?0:d,d!==0&&d!==g.retryLane&&(g.retryLane=d,ai(r,d),vr(c,r,d,-1))}return zh(),c=_h(Error(t(421))),Gl(r,i,E,c)}return d.data==="$?"?(i.flags|=128,i.child=r.child,i=$0.bind(null,r),d._reactRetry=i,null):(r=g.treeContext,On=Li(d.nextSibling),Mn=i,vt=!0,pr=null,r!==null&&(qn[Wn++]=oi,qn[Wn++]=si,qn[Wn++]=Eo,oi=r.id,si=r.overflow,Eo=i),i=Ih(i,c.children),i.flags|=4096,i)}function pm(r,i,a){r.lanes|=i;var c=r.alternate;c!==null&&(c.lanes|=i),nh(r.return,i,a)}function Ch(r,i,a,c,d){var g=r.memoizedState;g===null?r.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:d}:(g.isBackwards=i,g.rendering=null,g.renderingStartTime=0,g.last=c,g.tail=a,g.tailMode=d)}function mm(r,i,a){var c=i.pendingProps,d=c.revealOrder,g=c.tail;if(gn(r,i,c.children,a),c=Et.current,c&2)c=c&1|2,i.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=i.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&pm(r,a,i);else if(r.tag===19)pm(r,a,i);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}c&=1}if(ht(Et,c),!(i.mode&1))i.memoizedState=null;else switch(d){case"forwards":for(a=i.child,d=null;a!==null;)r=a.alternate,r!==null&&Bl(r)===null&&(d=a),a=a.sibling;a=d,a===null?(d=i.child,i.child=null):(d=a.sibling,a.sibling=null),Ch(i,!1,d,a,g);break;case"backwards":for(a=null,d=i.child,i.child=null;d!==null;){if(r=d.alternate,r!==null&&Bl(r)===null){i.child=d;break}r=d.sibling,d.sibling=a,a=d,d=r}Ch(i,!0,a,null,g);break;case"together":Ch(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Yl(r,i){!(i.mode&1)&&r!==null&&(r.alternate=null,i.alternate=null,i.flags|=2)}function ui(r,i,a){if(r!==null&&(i.dependencies=r.dependencies),Io|=i.lanes,!(a&i.childLanes))return null;if(r!==null&&i.child!==r.child)throw Error(t(153));if(i.child!==null){for(r=i.child,a=qi(r,r.pendingProps),i.child=a,a.return=i;r.sibling!==null;)r=r.sibling,a=a.sibling=qi(r,r.pendingProps),a.return=i;a.sibling=null}return i.child}function D0(r,i,a){switch(i.tag){case 3:hm(i),vs();break;case 5:kp(i);break;case 1:Rn(i.type)&&Nl(i);break;case 4:oh(i,i.stateNode.containerInfo);break;case 10:var c=i.type._context,d=i.memoizedProps.value;ht(Fl,c._currentValue),c._currentValue=d;break;case 13:if(c=i.memoizedState,c!==null)return c.dehydrated!==null?(ht(Et,Et.current&1),i.flags|=128,null):a&i.child.childLanes?fm(r,i,a):(ht(Et,Et.current&1),r=ui(r,i,a),r!==null?r.sibling:null);ht(Et,Et.current&1);break;case 19:if(c=(a&i.childLanes)!==0,r.flags&128){if(c)return mm(r,i,a);i.flags|=128}if(d=i.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),ht(Et,Et.current),c)break;return null;case 22:case 23:return i.lanes=0,lm(r,i,a)}return ui(r,i,a)}var gm,Ah,ym,vm;gm=function(r,i){for(var a=i.child;a!==null;){if(a.tag===5||a.tag===6)r.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},Ah=function(){},ym=function(r,i,a,c){var d=r.memoizedProps;if(d!==c){r=i.stateNode,So(br.current);var g=null;switch(a){case"input":d=Wr(r,d),c=Wr(r,c),g=[];break;case"select":d=de({},d,{value:void 0}),c=de({},c,{value:void 0}),g=[];break;case"textarea":d=tr(r,d),c=tr(r,c),g=[];break;default:typeof d.onClick!="function"&&typeof c.onClick=="function"&&(r.onclick=kl)}kr(a,c);var E;a=null;for(W in d)if(!c.hasOwnProperty(W)&&d.hasOwnProperty(W)&&d[W]!=null)if(W==="style"){var A=d[W];for(E in A)A.hasOwnProperty(E)&&(a||(a={}),a[E]="")}else W!=="dangerouslySetInnerHTML"&&W!=="children"&&W!=="suppressContentEditableWarning"&&W!=="suppressHydrationWarning"&&W!=="autoFocus"&&(s.hasOwnProperty(W)?g||(g=[]):(g=g||[]).push(W,null));for(W in c){var N=c[W];if(A=d!=null?d[W]:void 0,c.hasOwnProperty(W)&&N!==A&&(N!=null||A!=null))if(W==="style")if(A){for(E in A)!A.hasOwnProperty(E)||N&&N.hasOwnProperty(E)||(a||(a={}),a[E]="");for(E in N)N.hasOwnProperty(E)&&A[E]!==N[E]&&(a||(a={}),a[E]=N[E])}else a||(g||(g=[]),g.push(W,a)),a=N;else W==="dangerouslySetInnerHTML"?(N=N?N.__html:void 0,A=A?A.__html:void 0,N!=null&&A!==N&&(g=g||[]).push(W,N)):W==="children"?typeof N!="string"&&typeof N!="number"||(g=g||[]).push(W,""+N):W!=="suppressContentEditableWarning"&&W!=="suppressHydrationWarning"&&(s.hasOwnProperty(W)?(N!=null&&W==="onScroll"&&mt("scroll",r),g||A===N||(g=[])):(g=g||[]).push(W,N))}a&&(g=g||[]).push("style",a);var W=g;(i.updateQueue=W)&&(i.flags|=4)}},vm=function(r,i,a,c){a!==c&&(i.flags|=4)};function _a(r,i){if(!vt)switch(r.tailMode){case"hidden":i=r.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?r.tail=null:a.sibling=null;break;case"collapsed":a=r.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?i||r.tail===null?r.tail=null:r.tail.sibling=null:c.sibling=null}}function ln(r){var i=r.alternate!==null&&r.alternate.child===r.child,a=0,c=0;if(i)for(var d=r.child;d!==null;)a|=d.lanes|d.childLanes,c|=d.subtreeFlags&14680064,c|=d.flags&14680064,d.return=r,d=d.sibling;else for(d=r.child;d!==null;)a|=d.lanes|d.childLanes,c|=d.subtreeFlags,c|=d.flags,d.return=r,d=d.sibling;return r.subtreeFlags|=c,r.childLanes=a,i}function N0(r,i,a){var c=i.pendingProps;switch(Gc(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ln(i),null;case 1:return Rn(i.type)&&Dl(),ln(i),null;case 3:return c=i.stateNode,Ts(),gt(Sn),gt(sn),lh(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(r===null||r.child===null)&&(Ol(i)?i.flags|=4:r===null||r.memoizedState.isDehydrated&&!(i.flags&256)||(i.flags|=1024,pr!==null&&(Fh(pr),pr=null))),Ah(r,i),ln(i),null;case 5:sh(i);var d=So(pa.current);if(a=i.type,r!==null&&i.stateNode!=null)ym(r,i,a,c,d),r.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!c){if(i.stateNode===null)throw Error(t(166));return ln(i),null}if(r=So(br.current),Ol(i)){c=i.stateNode,a=i.type;var g=i.memoizedProps;switch(c[Or]=i,c[ua]=g,r=(i.mode&1)!==0,a){case"dialog":mt("cancel",c),mt("close",c);break;case"iframe":case"object":case"embed":mt("load",c);break;case"video":case"audio":for(d=0;d<sa.length;d++)mt(sa[d],c);break;case"source":mt("error",c);break;case"img":case"image":case"link":mt("error",c),mt("load",c);break;case"details":mt("toggle",c);break;case"input":vi(c,g),mt("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!g.multiple},mt("invalid",c);break;case"textarea":Kr(c,g),mt("invalid",c)}kr(a,g),d=null;for(var E in g)if(g.hasOwnProperty(E)){var A=g[E];E==="children"?typeof A=="string"?c.textContent!==A&&(g.suppressHydrationWarning!==!0&&Pl(c.textContent,A,r),d=["children",A]):typeof A=="number"&&c.textContent!==""+A&&(g.suppressHydrationWarning!==!0&&Pl(c.textContent,A,r),d=["children",""+A]):s.hasOwnProperty(E)&&A!=null&&E==="onScroll"&&mt("scroll",c)}switch(a){case"input":Bn(c),Ko(c,g,!0);break;case"textarea":Bn(c),vn(c);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(c.onclick=kl)}c=d,i.updateQueue=c,c!==null&&(i.flags|=4)}else{E=d.nodeType===9?d:d.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=at(a)),r==="http://www.w3.org/1999/xhtml"?a==="script"?(r=E.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof c.is=="string"?r=E.createElement(a,{is:c.is}):(r=E.createElement(a),a==="select"&&(E=r,c.multiple?E.multiple=!0:c.size&&(E.size=c.size))):r=E.createElementNS(r,a),r[Or]=i,r[ua]=c,gm(r,i,!1,!1),i.stateNode=r;e:{switch(E=Si(a,c),a){case"dialog":mt("cancel",r),mt("close",r),d=c;break;case"iframe":case"object":case"embed":mt("load",r),d=c;break;case"video":case"audio":for(d=0;d<sa.length;d++)mt(sa[d],r);d=c;break;case"source":mt("error",r),d=c;break;case"img":case"image":case"link":mt("error",r),mt("load",r),d=c;break;case"details":mt("toggle",r),d=c;break;case"input":vi(r,c),d=Wr(r,c),mt("invalid",r);break;case"option":d=c;break;case"select":r._wrapperState={wasMultiple:!!c.multiple},d=de({},c,{value:void 0}),mt("invalid",r);break;case"textarea":Kr(r,c),d=tr(r,c),mt("invalid",r);break;default:d=c}kr(a,d),A=d;for(g in A)if(A.hasOwnProperty(g)){var N=A[g];g==="style"?uo(r,N):g==="dangerouslySetInnerHTML"?(N=N?N.__html:void 0,N!=null&&lo(r,N)):g==="children"?typeof N=="string"?(a!=="textarea"||N!=="")&&qt(r,N):typeof N=="number"&&qt(r,""+N):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(s.hasOwnProperty(g)?N!=null&&g==="onScroll"&&mt("scroll",r):N!=null&&Y(r,g,N,E))}switch(a){case"input":Bn(r),Ko(r,c,!1);break;case"textarea":Bn(r),vn(r);break;case"option":c.value!=null&&r.setAttribute("value",""+Ze(c.value));break;case"select":r.multiple=!!c.multiple,g=c.value,g!=null?Ht(r,!!c.multiple,g,!1):c.defaultValue!=null&&Ht(r,!!c.multiple,c.defaultValue,!0);break;default:typeof d.onClick=="function"&&(r.onclick=kl)}switch(a){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return ln(i),null;case 6:if(r&&i.stateNode!=null)vm(r,i,r.memoizedProps,c);else{if(typeof c!="string"&&i.stateNode===null)throw Error(t(166));if(a=So(pa.current),So(br.current),Ol(i)){if(c=i.stateNode,a=i.memoizedProps,c[Or]=i,(g=c.nodeValue!==a)&&(r=Mn,r!==null))switch(r.tag){case 3:Pl(c.nodeValue,a,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&Pl(c.nodeValue,a,(r.mode&1)!==0)}g&&(i.flags|=4)}else c=(a.nodeType===9?a:a.ownerDocument).createTextNode(c),c[Or]=i,i.stateNode=c}return ln(i),null;case 13:if(gt(Et),c=i.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(vt&&On!==null&&i.mode&1&&!(i.flags&128))wp(),vs(),i.flags|=98560,g=!1;else if(g=Ol(i),c!==null&&c.dehydrated!==null){if(r===null){if(!g)throw Error(t(318));if(g=i.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(t(317));g[Or]=i}else vs(),!(i.flags&128)&&(i.memoizedState=null),i.flags|=4;ln(i),g=!1}else pr!==null&&(Fh(pr),pr=null),g=!0;if(!g)return i.flags&65536?i:null}return i.flags&128?(i.lanes=a,i):(c=c!==null,c!==(r!==null&&r.memoizedState!==null)&&c&&(i.child.flags|=8192,i.mode&1&&(r===null||Et.current&1?Lt===0&&(Lt=3):zh())),i.updateQueue!==null&&(i.flags|=4),ln(i),null);case 4:return Ts(),Ah(r,i),r===null&&aa(i.stateNode.containerInfo),ln(i),null;case 10:return th(i.type._context),ln(i),null;case 17:return Rn(i.type)&&Dl(),ln(i),null;case 19:if(gt(Et),g=i.memoizedState,g===null)return ln(i),null;if(c=(i.flags&128)!==0,E=g.rendering,E===null)if(c)_a(g,!1);else{if(Lt!==0||r!==null&&r.flags&128)for(r=i.child;r!==null;){if(E=Bl(r),E!==null){for(i.flags|=128,_a(g,!1),c=E.updateQueue,c!==null&&(i.updateQueue=c,i.flags|=4),i.subtreeFlags=0,c=a,a=i.child;a!==null;)g=a,r=c,g.flags&=14680066,E=g.alternate,E===null?(g.childLanes=0,g.lanes=r,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=E.childLanes,g.lanes=E.lanes,g.child=E.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=E.memoizedProps,g.memoizedState=E.memoizedState,g.updateQueue=E.updateQueue,g.type=E.type,r=E.dependencies,g.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),a=a.sibling;return ht(Et,Et.current&1|2),i.child}r=r.sibling}g.tail!==null&&ot()>Cs&&(i.flags|=128,c=!0,_a(g,!1),i.lanes=4194304)}else{if(!c)if(r=Bl(E),r!==null){if(i.flags|=128,c=!0,a=r.updateQueue,a!==null&&(i.updateQueue=a,i.flags|=4),_a(g,!0),g.tail===null&&g.tailMode==="hidden"&&!E.alternate&&!vt)return ln(i),null}else 2*ot()-g.renderingStartTime>Cs&&a!==1073741824&&(i.flags|=128,c=!0,_a(g,!1),i.lanes=4194304);g.isBackwards?(E.sibling=i.child,i.child=E):(a=g.last,a!==null?a.sibling=E:i.child=E,g.last=E)}return g.tail!==null?(i=g.tail,g.rendering=i,g.tail=i.sibling,g.renderingStartTime=ot(),i.sibling=null,a=Et.current,ht(Et,c?a&1|2:a&1),i):(ln(i),null);case 22:case 23:return jh(),c=i.memoizedState!==null,r!==null&&r.memoizedState!==null!==c&&(i.flags|=8192),c&&i.mode&1?bn&1073741824&&(ln(i),i.subtreeFlags&6&&(i.flags|=8192)):ln(i),null;case 24:return null;case 25:return null}throw Error(t(156,i.tag))}function V0(r,i){switch(Gc(i),i.tag){case 1:return Rn(i.type)&&Dl(),r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 3:return Ts(),gt(Sn),gt(sn),lh(),r=i.flags,r&65536&&!(r&128)?(i.flags=r&-65537|128,i):null;case 5:return sh(i),null;case 13:if(gt(Et),r=i.memoizedState,r!==null&&r.dehydrated!==null){if(i.alternate===null)throw Error(t(340));vs()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 19:return gt(Et),null;case 4:return Ts(),null;case 10:return th(i.type._context),null;case 22:case 23:return jh(),null;case 24:return null;default:return null}}var Xl=!1,un=!1,L0=typeof WeakSet=="function"?WeakSet:Set,ve=null;function Rs(r,i){var a=r.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(c){It(r,i,c)}else a.current=null}function Ph(r,i,a){try{a()}catch(c){It(r,i,c)}}var _m=!1;function M0(r,i){if(jc=Di,r=Xf(),Nc(r)){if("selectionStart"in r)var a={start:r.selectionStart,end:r.selectionEnd};else e:{a=(a=r.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var d=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{a.nodeType,g.nodeType}catch{a=null;break e}var E=0,A=-1,N=-1,W=0,re=0,se=r,te=null;t:for(;;){for(var me;se!==a||d!==0&&se.nodeType!==3||(A=E+d),se!==g||c!==0&&se.nodeType!==3||(N=E+c),se.nodeType===3&&(E+=se.nodeValue.length),(me=se.firstChild)!==null;)te=se,se=me;for(;;){if(se===r)break t;if(te===a&&++W===d&&(A=E),te===g&&++re===c&&(N=E),(me=se.nextSibling)!==null)break;se=te,te=se.parentNode}se=me}a=A===-1||N===-1?null:{start:A,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(zc={focusedElem:r,selectionRange:a},Di=!1,ve=i;ve!==null;)if(i=ve,r=i.child,(i.subtreeFlags&1028)!==0&&r!==null)r.return=i,ve=r;else for(;ve!==null;){i=ve;try{var we=i.alternate;if(i.flags&1024)switch(i.tag){case 0:case 11:case 15:break;case 1:if(we!==null){var Se=we.memoizedProps,At=we.memoizedState,H=i.stateNode,b=H.getSnapshotBeforeUpdate(i.elementType===i.type?Se:mr(i.type,Se),At);H.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var q=i.stateNode.containerInfo;q.nodeType===1?q.textContent="":q.nodeType===9&&q.documentElement&&q.removeChild(q.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ae){It(i,i.return,ae)}if(r=i.sibling,r!==null){r.return=i.return,ve=r;break}ve=i.return}return we=_m,_m=!1,we}function Ea(r,i,a){var c=i.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var d=c=c.next;do{if((d.tag&r)===r){var g=d.destroy;d.destroy=void 0,g!==void 0&&Ph(i,a,g)}d=d.next}while(d!==c)}}function Jl(r,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var a=i=i.next;do{if((a.tag&r)===r){var c=a.create;a.destroy=c()}a=a.next}while(a!==i)}}function kh(r){var i=r.ref;if(i!==null){var a=r.stateNode;switch(r.tag){case 5:r=a;break;default:r=a}typeof i=="function"?i(r):i.current=r}}function Em(r){var i=r.alternate;i!==null&&(r.alternate=null,Em(i)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(i=r.stateNode,i!==null&&(delete i[Or],delete i[ua],delete i[qc],delete i[y0],delete i[v0])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function wm(r){return r.tag===5||r.tag===3||r.tag===4}function Tm(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||wm(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function xh(r,i,a){var c=r.tag;if(c===5||c===6)r=r.stateNode,i?a.nodeType===8?a.parentNode.insertBefore(r,i):a.insertBefore(r,i):(a.nodeType===8?(i=a.parentNode,i.insertBefore(r,a)):(i=a,i.appendChild(r)),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=kl));else if(c!==4&&(r=r.child,r!==null))for(xh(r,i,a),r=r.sibling;r!==null;)xh(r,i,a),r=r.sibling}function Dh(r,i,a){var c=r.tag;if(c===5||c===6)r=r.stateNode,i?a.insertBefore(r,i):a.appendChild(r);else if(c!==4&&(r=r.child,r!==null))for(Dh(r,i,a),r=r.sibling;r!==null;)Dh(r,i,a),r=r.sibling}var Yt=null,gr=!1;function ji(r,i,a){for(a=a.child;a!==null;)Sm(r,i,a),a=a.sibling}function Sm(r,i,a){if(on&&typeof on.onCommitFiberUnmount=="function")try{on.onCommitFiberUnmount(En,a)}catch{}switch(a.tag){case 5:un||Rs(a,i);case 6:var c=Yt,d=gr;Yt=null,ji(r,i,a),Yt=c,gr=d,Yt!==null&&(gr?(r=Yt,a=a.stateNode,r.nodeType===8?r.parentNode.removeChild(a):r.removeChild(a)):Yt.removeChild(a.stateNode));break;case 18:Yt!==null&&(gr?(r=Yt,a=a.stateNode,r.nodeType===8?Hc(r.parentNode,a):r.nodeType===1&&Hc(r,a),hr(r)):Hc(Yt,a.stateNode));break;case 4:c=Yt,d=gr,Yt=a.stateNode.containerInfo,gr=!0,ji(r,i,a),Yt=c,gr=d;break;case 0:case 11:case 14:case 15:if(!un&&(c=a.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){d=c=c.next;do{var g=d,E=g.destroy;g=g.tag,E!==void 0&&(g&2||g&4)&&Ph(a,i,E),d=d.next}while(d!==c)}ji(r,i,a);break;case 1:if(!un&&(Rs(a,i),c=a.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=a.memoizedProps,c.state=a.memoizedState,c.componentWillUnmount()}catch(A){It(a,i,A)}ji(r,i,a);break;case 21:ji(r,i,a);break;case 22:a.mode&1?(un=(c=un)||a.memoizedState!==null,ji(r,i,a),un=c):ji(r,i,a);break;default:ji(r,i,a)}}function Rm(r){var i=r.updateQueue;if(i!==null){r.updateQueue=null;var a=r.stateNode;a===null&&(a=r.stateNode=new L0),i.forEach(function(c){var d=H0.bind(null,r,c);a.has(c)||(a.add(c),c.then(d,d))})}}function yr(r,i){var a=i.deletions;if(a!==null)for(var c=0;c<a.length;c++){var d=a[c];try{var g=r,E=i,A=E;e:for(;A!==null;){switch(A.tag){case 5:Yt=A.stateNode,gr=!1;break e;case 3:Yt=A.stateNode.containerInfo,gr=!0;break e;case 4:Yt=A.stateNode.containerInfo,gr=!0;break e}A=A.return}if(Yt===null)throw Error(t(160));Sm(g,E,d),Yt=null,gr=!1;var N=d.alternate;N!==null&&(N.return=null),d.return=null}catch(W){It(d,i,W)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)Im(i,r),i=i.sibling}function Im(r,i){var a=r.alternate,c=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(yr(i,r),Ur(r),c&4){try{Ea(3,r,r.return),Jl(3,r)}catch(Se){It(r,r.return,Se)}try{Ea(5,r,r.return)}catch(Se){It(r,r.return,Se)}}break;case 1:yr(i,r),Ur(r),c&512&&a!==null&&Rs(a,a.return);break;case 5:if(yr(i,r),Ur(r),c&512&&a!==null&&Rs(a,a.return),r.flags&32){var d=r.stateNode;try{qt(d,"")}catch(Se){It(r,r.return,Se)}}if(c&4&&(d=r.stateNode,d!=null)){var g=r.memoizedProps,E=a!==null?a.memoizedProps:g,A=r.type,N=r.updateQueue;if(r.updateQueue=null,N!==null)try{A==="input"&&g.type==="radio"&&g.name!=null&&_i(d,g),Si(A,E);var W=Si(A,g);for(E=0;E<N.length;E+=2){var re=N[E],se=N[E+1];re==="style"?uo(d,se):re==="dangerouslySetInnerHTML"?lo(d,se):re==="children"?qt(d,se):Y(d,re,se,W)}switch(A){case"input":ao(d,g);break;case"textarea":Cr(d,g);break;case"select":var te=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!g.multiple;var me=g.value;me!=null?Ht(d,!!g.multiple,me,!1):te!==!!g.multiple&&(g.defaultValue!=null?Ht(d,!!g.multiple,g.defaultValue,!0):Ht(d,!!g.multiple,g.multiple?[]:"",!1))}d[ua]=g}catch(Se){It(r,r.return,Se)}}break;case 6:if(yr(i,r),Ur(r),c&4){if(r.stateNode===null)throw Error(t(162));d=r.stateNode,g=r.memoizedProps;try{d.nodeValue=g}catch(Se){It(r,r.return,Se)}}break;case 3:if(yr(i,r),Ur(r),c&4&&a!==null&&a.memoizedState.isDehydrated)try{hr(i.containerInfo)}catch(Se){It(r,r.return,Se)}break;case 4:yr(i,r),Ur(r);break;case 13:yr(i,r),Ur(r),d=r.child,d.flags&8192&&(g=d.memoizedState!==null,d.stateNode.isHidden=g,!g||d.alternate!==null&&d.alternate.memoizedState!==null||(Lh=ot())),c&4&&Rm(r);break;case 22:if(re=a!==null&&a.memoizedState!==null,r.mode&1?(un=(W=un)||re,yr(i,r),un=W):yr(i,r),Ur(r),c&8192){if(W=r.memoizedState!==null,(r.stateNode.isHidden=W)&&!re&&r.mode&1)for(ve=r,re=r.child;re!==null;){for(se=ve=re;ve!==null;){switch(te=ve,me=te.child,te.tag){case 0:case 11:case 14:case 15:Ea(4,te,te.return);break;case 1:Rs(te,te.return);var we=te.stateNode;if(typeof we.componentWillUnmount=="function"){c=te,a=te.return;try{i=c,we.props=i.memoizedProps,we.state=i.memoizedState,we.componentWillUnmount()}catch(Se){It(c,a,Se)}}break;case 5:Rs(te,te.return);break;case 22:if(te.memoizedState!==null){Pm(se);continue}}me!==null?(me.return=te,ve=me):Pm(se)}re=re.sibling}e:for(re=null,se=r;;){if(se.tag===5){if(re===null){re=se;try{d=se.stateNode,W?(g=d.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(A=se.stateNode,N=se.memoizedProps.style,E=N!=null&&N.hasOwnProperty("display")?N.display:null,A.style.display=wi("display",E))}catch(Se){It(r,r.return,Se)}}}else if(se.tag===6){if(re===null)try{se.stateNode.nodeValue=W?"":se.memoizedProps}catch(Se){It(r,r.return,Se)}}else if((se.tag!==22&&se.tag!==23||se.memoizedState===null||se===r)&&se.child!==null){se.child.return=se,se=se.child;continue}if(se===r)break e;for(;se.sibling===null;){if(se.return===null||se.return===r)break e;re===se&&(re=null),se=se.return}re===se&&(re=null),se.sibling.return=se.return,se=se.sibling}}break;case 19:yr(i,r),Ur(r),c&4&&Rm(r);break;case 21:break;default:yr(i,r),Ur(r)}}function Ur(r){var i=r.flags;if(i&2){try{e:{for(var a=r.return;a!==null;){if(wm(a)){var c=a;break e}a=a.return}throw Error(t(160))}switch(c.tag){case 5:var d=c.stateNode;c.flags&32&&(qt(d,""),c.flags&=-33);var g=Tm(r);Dh(r,g,d);break;case 3:case 4:var E=c.stateNode.containerInfo,A=Tm(r);xh(r,A,E);break;default:throw Error(t(161))}}catch(N){It(r,r.return,N)}r.flags&=-3}i&4096&&(r.flags&=-4097)}function O0(r,i,a){ve=r,Cm(r)}function Cm(r,i,a){for(var c=(r.mode&1)!==0;ve!==null;){var d=ve,g=d.child;if(d.tag===22&&c){var E=d.memoizedState!==null||Xl;if(!E){var A=d.alternate,N=A!==null&&A.memoizedState!==null||un;A=Xl;var W=un;if(Xl=E,(un=N)&&!W)for(ve=d;ve!==null;)E=ve,N=E.child,E.tag===22&&E.memoizedState!==null?km(d):N!==null?(N.return=E,ve=N):km(d);for(;g!==null;)ve=g,Cm(g),g=g.sibling;ve=d,Xl=A,un=W}Am(r)}else d.subtreeFlags&8772&&g!==null?(g.return=d,ve=g):Am(r)}}function Am(r){for(;ve!==null;){var i=ve;if(i.flags&8772){var a=i.alternate;try{if(i.flags&8772)switch(i.tag){case 0:case 11:case 15:un||Jl(5,i);break;case 1:var c=i.stateNode;if(i.flags&4&&!un)if(a===null)c.componentDidMount();else{var d=i.elementType===i.type?a.memoizedProps:mr(i.type,a.memoizedProps);c.componentDidUpdate(d,a.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var g=i.updateQueue;g!==null&&Pp(i,g,c);break;case 3:var E=i.updateQueue;if(E!==null){if(a=null,i.child!==null)switch(i.child.tag){case 5:a=i.child.stateNode;break;case 1:a=i.child.stateNode}Pp(i,E,a)}break;case 5:var A=i.stateNode;if(a===null&&i.flags&4){a=A;var N=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":N.autoFocus&&a.focus();break;case"img":N.src&&(a.src=N.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var W=i.alternate;if(W!==null){var re=W.memoizedState;if(re!==null){var se=re.dehydrated;se!==null&&hr(se)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}un||i.flags&512&&kh(i)}catch(te){It(i,i.return,te)}}if(i===r){ve=null;break}if(a=i.sibling,a!==null){a.return=i.return,ve=a;break}ve=i.return}}function Pm(r){for(;ve!==null;){var i=ve;if(i===r){ve=null;break}var a=i.sibling;if(a!==null){a.return=i.return,ve=a;break}ve=i.return}}function km(r){for(;ve!==null;){var i=ve;try{switch(i.tag){case 0:case 11:case 15:var a=i.return;try{Jl(4,i)}catch(N){It(i,a,N)}break;case 1:var c=i.stateNode;if(typeof c.componentDidMount=="function"){var d=i.return;try{c.componentDidMount()}catch(N){It(i,d,N)}}var g=i.return;try{kh(i)}catch(N){It(i,g,N)}break;case 5:var E=i.return;try{kh(i)}catch(N){It(i,E,N)}}}catch(N){It(i,i.return,N)}if(i===r){ve=null;break}var A=i.sibling;if(A!==null){A.return=i.return,ve=A;break}ve=i.return}}var b0=Math.ceil,Zl=ne.ReactCurrentDispatcher,Nh=ne.ReactCurrentOwner,Gn=ne.ReactCurrentBatchConfig,tt=0,jt=null,xt=null,Xt=0,bn=0,Is=Mi(0),Lt=0,wa=null,Io=0,eu=0,Vh=0,Ta=null,Cn=null,Lh=0,Cs=1/0,ci=null,tu=!1,Mh=null,zi=null,nu=!1,Bi=null,ru=0,Sa=0,Oh=null,iu=-1,ou=0;function yn(){return tt&6?ot():iu!==-1?iu:iu=ot()}function $i(r){return r.mode&1?tt&2&&Xt!==0?Xt&-Xt:E0.transition!==null?(ou===0&&(ou=fo()),ou):(r=$e,r!==0||(r=window.event,r=r===void 0?16:Xs(r.type)),r):1}function vr(r,i,a,c){if(50<Sa)throw Sa=0,Oh=null,Error(t(185));Ai(r,a,c),(!(tt&2)||r!==jt)&&(r===jt&&(!(tt&2)&&(eu|=a),Lt===4&&Hi(r,Xt)),An(r,c),a===1&&tt===0&&!(i.mode&1)&&(Cs=ot()+500,Vl&&bi()))}function An(r,i){var a=r.callbackNode;Jr(r,i);var c=ho(r,r===jt?Xt:0);if(c===0)a!==null&&Yr(a),r.callbackNode=null,r.callbackPriority=0;else if(i=c&-c,r.callbackPriority!==i){if(a!=null&&Yr(a),i===1)r.tag===0?_0(Dm.bind(null,r)):gp(Dm.bind(null,r)),m0(function(){!(tt&6)&&bi()}),a=null;else{switch(ki(c)){case 1:a=Qe;break;case 4:a=ft;break;case 16:a=Kt;break;case 536870912:a=pt;break;default:a=Kt}a=Um(a,xm.bind(null,r))}r.callbackPriority=i,r.callbackNode=a}}function xm(r,i){if(iu=-1,ou=0,tt&6)throw Error(t(327));var a=r.callbackNode;if(As()&&r.callbackNode!==a)return null;var c=ho(r,r===jt?Xt:0);if(c===0)return null;if(c&30||c&r.expiredLanes||i)i=su(r,c);else{i=c;var d=tt;tt|=2;var g=Vm();(jt!==r||Xt!==i)&&(ci=null,Cs=ot()+500,Ao(r,i));do try{j0();break}catch(A){Nm(r,A)}while(!0);eh(),Zl.current=g,tt=d,xt!==null?i=0:(jt=null,Xt=0,i=Lt)}if(i!==0){if(i===2&&(d=Nn(r),d!==0&&(c=d,i=bh(r,d))),i===1)throw a=wa,Ao(r,0),Hi(r,c),An(r,ot()),a;if(i===6)Hi(r,c);else{if(d=r.current.alternate,!(c&30)&&!F0(d)&&(i=su(r,c),i===2&&(g=Nn(r),g!==0&&(c=g,i=bh(r,g))),i===1))throw a=wa,Ao(r,0),Hi(r,c),An(r,ot()),a;switch(r.finishedWork=d,r.finishedLanes=c,i){case 0:case 1:throw Error(t(345));case 2:Po(r,Cn,ci);break;case 3:if(Hi(r,c),(c&130023424)===c&&(i=Lh+500-ot(),10<i)){if(ho(r,0)!==0)break;if(d=r.suspendedLanes,(d&c)!==c){yn(),r.pingedLanes|=r.suspendedLanes&d;break}r.timeoutHandle=$c(Po.bind(null,r,Cn,ci),i);break}Po(r,Cn,ci);break;case 4:if(Hi(r,c),(c&4194240)===c)break;for(i=r.eventTimes,d=-1;0<c;){var E=31-pn(c);g=1<<E,E=i[E],E>d&&(d=E),c&=~g}if(c=d,c=ot()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*b0(c/1960))-c,10<c){r.timeoutHandle=$c(Po.bind(null,r,Cn,ci),c);break}Po(r,Cn,ci);break;case 5:Po(r,Cn,ci);break;default:throw Error(t(329))}}}return An(r,ot()),r.callbackNode===a?xm.bind(null,r):null}function bh(r,i){var a=Ta;return r.current.memoizedState.isDehydrated&&(Ao(r,i).flags|=256),r=su(r,i),r!==2&&(i=Cn,Cn=a,i!==null&&Fh(i)),r}function Fh(r){Cn===null?Cn=r:Cn.push.apply(Cn,r)}function F0(r){for(var i=r;;){if(i.flags&16384){var a=i.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var c=0;c<a.length;c++){var d=a[c],g=d.getSnapshot;d=d.value;try{if(!fr(g(),d))return!1}catch{return!1}}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Hi(r,i){for(i&=~Vh,i&=~eu,r.suspendedLanes|=i,r.pingedLanes&=~i,r=r.expirationTimes;0<i;){var a=31-pn(i),c=1<<a;r[a]=-1,i&=~c}}function Dm(r){if(tt&6)throw Error(t(327));As();var i=ho(r,0);if(!(i&1))return An(r,ot()),null;var a=su(r,i);if(r.tag!==0&&a===2){var c=Nn(r);c!==0&&(i=c,a=bh(r,c))}if(a===1)throw a=wa,Ao(r,0),Hi(r,i),An(r,ot()),a;if(a===6)throw Error(t(345));return r.finishedWork=r.current.alternate,r.finishedLanes=i,Po(r,Cn,ci),An(r,ot()),null}function Uh(r,i){var a=tt;tt|=1;try{return r(i)}finally{tt=a,tt===0&&(Cs=ot()+500,Vl&&bi())}}function Co(r){Bi!==null&&Bi.tag===0&&!(tt&6)&&As();var i=tt;tt|=1;var a=Gn.transition,c=$e;try{if(Gn.transition=null,$e=1,r)return r()}finally{$e=c,Gn.transition=a,tt=i,!(tt&6)&&bi()}}function jh(){bn=Is.current,gt(Is)}function Ao(r,i){r.finishedWork=null,r.finishedLanes=0;var a=r.timeoutHandle;if(a!==-1&&(r.timeoutHandle=-1,p0(a)),xt!==null)for(a=xt.return;a!==null;){var c=a;switch(Gc(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&Dl();break;case 3:Ts(),gt(Sn),gt(sn),lh();break;case 5:sh(c);break;case 4:Ts();break;case 13:gt(Et);break;case 19:gt(Et);break;case 10:th(c.type._context);break;case 22:case 23:jh()}a=a.return}if(jt=r,xt=r=qi(r.current,null),Xt=bn=i,Lt=0,wa=null,Vh=eu=Io=0,Cn=Ta=null,To!==null){for(i=0;i<To.length;i++)if(a=To[i],c=a.interleaved,c!==null){a.interleaved=null;var d=c.next,g=a.pending;if(g!==null){var E=g.next;g.next=d,c.next=E}a.pending=c}To=null}return r}function Nm(r,i){do{var a=xt;try{if(eh(),$l.current=Kl,Hl){for(var c=wt.memoizedState;c!==null;){var d=c.queue;d!==null&&(d.pending=null),c=c.next}Hl=!1}if(Ro=0,Ut=Vt=wt=null,ma=!1,ga=0,Nh.current=null,a===null||a.return===null){Lt=1,wa=i,xt=null;break}e:{var g=r,E=a.return,A=a,N=i;if(i=Xt,A.flags|=32768,N!==null&&typeof N=="object"&&typeof N.then=="function"){var W=N,re=A,se=re.tag;if(!(re.mode&1)&&(se===0||se===11||se===15)){var te=re.alternate;te?(re.updateQueue=te.updateQueue,re.memoizedState=te.memoizedState,re.lanes=te.lanes):(re.updateQueue=null,re.memoizedState=null)}var me=rm(E);if(me!==null){me.flags&=-257,im(me,E,A,g,i),me.mode&1&&nm(g,W,i),i=me,N=W;var we=i.updateQueue;if(we===null){var Se=new Set;Se.add(N),i.updateQueue=Se}else we.add(N);break e}else{if(!(i&1)){nm(g,W,i),zh();break e}N=Error(t(426))}}else if(vt&&A.mode&1){var At=rm(E);if(At!==null){!(At.flags&65536)&&(At.flags|=256),im(At,E,A,g,i),Jc(Ss(N,A));break e}}g=N=Ss(N,A),Lt!==4&&(Lt=2),Ta===null?Ta=[g]:Ta.push(g),g=E;do{switch(g.tag){case 3:g.flags|=65536,i&=-i,g.lanes|=i;var H=em(g,N,i);Ap(g,H);break e;case 1:A=N;var b=g.type,q=g.stateNode;if(!(g.flags&128)&&(typeof b.getDerivedStateFromError=="function"||q!==null&&typeof q.componentDidCatch=="function"&&(zi===null||!zi.has(q)))){g.flags|=65536,i&=-i,g.lanes|=i;var ae=tm(g,A,i);Ap(g,ae);break e}}g=g.return}while(g!==null)}Mm(a)}catch(Re){i=Re,xt===a&&a!==null&&(xt=a=a.return);continue}break}while(!0)}function Vm(){var r=Zl.current;return Zl.current=Kl,r===null?Kl:r}function zh(){(Lt===0||Lt===3||Lt===2)&&(Lt=4),jt===null||!(Io&268435455)&&!(eu&268435455)||Hi(jt,Xt)}function su(r,i){var a=tt;tt|=2;var c=Vm();(jt!==r||Xt!==i)&&(ci=null,Ao(r,i));do try{U0();break}catch(d){Nm(r,d)}while(!0);if(eh(),tt=a,Zl.current=c,xt!==null)throw Error(t(261));return jt=null,Xt=0,Lt}function U0(){for(;xt!==null;)Lm(xt)}function j0(){for(;xt!==null&&!xr();)Lm(xt)}function Lm(r){var i=Fm(r.alternate,r,bn);r.memoizedProps=r.pendingProps,i===null?Mm(r):xt=i,Nh.current=null}function Mm(r){var i=r;do{var a=i.alternate;if(r=i.return,i.flags&32768){if(a=V0(a,i),a!==null){a.flags&=32767,xt=a;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{Lt=6,xt=null;return}}else if(a=N0(a,i,bn),a!==null){xt=a;return}if(i=i.sibling,i!==null){xt=i;return}xt=i=r}while(i!==null);Lt===0&&(Lt=5)}function Po(r,i,a){var c=$e,d=Gn.transition;try{Gn.transition=null,$e=1,z0(r,i,a,c)}finally{Gn.transition=d,$e=c}return null}function z0(r,i,a,c){do As();while(Bi!==null);if(tt&6)throw Error(t(327));a=r.finishedWork;var d=r.finishedLanes;if(a===null)return null;if(r.finishedWork=null,r.finishedLanes=0,a===r.current)throw Error(t(177));r.callbackNode=null,r.callbackPriority=0;var g=a.lanes|a.childLanes;if(ut(r,g),r===jt&&(xt=jt=null,Xt=0),!(a.subtreeFlags&2064)&&!(a.flags&2064)||nu||(nu=!0,Um(Kt,function(){return As(),null})),g=(a.flags&15990)!==0,a.subtreeFlags&15990||g){g=Gn.transition,Gn.transition=null;var E=$e;$e=1;var A=tt;tt|=4,Nh.current=null,M0(r,a),Im(a,r),a0(zc),Di=!!jc,zc=jc=null,r.current=a,O0(a),sr(),tt=A,$e=E,Gn.transition=g}else r.current=a;if(nu&&(nu=!1,Bi=r,ru=d),g=r.pendingLanes,g===0&&(zi=null),Qo(a.stateNode),An(r,ot()),i!==null)for(c=r.onRecoverableError,a=0;a<i.length;a++)d=i[a],c(d.value,{componentStack:d.stack,digest:d.digest});if(tu)throw tu=!1,r=Mh,Mh=null,r;return ru&1&&r.tag!==0&&As(),g=r.pendingLanes,g&1?r===Oh?Sa++:(Sa=0,Oh=r):Sa=0,bi(),null}function As(){if(Bi!==null){var r=ki(ru),i=Gn.transition,a=$e;try{if(Gn.transition=null,$e=16>r?16:r,Bi===null)var c=!1;else{if(r=Bi,Bi=null,ru=0,tt&6)throw Error(t(331));var d=tt;for(tt|=4,ve=r.current;ve!==null;){var g=ve,E=g.child;if(ve.flags&16){var A=g.deletions;if(A!==null){for(var N=0;N<A.length;N++){var W=A[N];for(ve=W;ve!==null;){var re=ve;switch(re.tag){case 0:case 11:case 15:Ea(8,re,g)}var se=re.child;if(se!==null)se.return=re,ve=se;else for(;ve!==null;){re=ve;var te=re.sibling,me=re.return;if(Em(re),re===W){ve=null;break}if(te!==null){te.return=me,ve=te;break}ve=me}}}var we=g.alternate;if(we!==null){var Se=we.child;if(Se!==null){we.child=null;do{var At=Se.sibling;Se.sibling=null,Se=At}while(Se!==null)}}ve=g}}if(g.subtreeFlags&2064&&E!==null)E.return=g,ve=E;else e:for(;ve!==null;){if(g=ve,g.flags&2048)switch(g.tag){case 0:case 11:case 15:Ea(9,g,g.return)}var H=g.sibling;if(H!==null){H.return=g.return,ve=H;break e}ve=g.return}}var b=r.current;for(ve=b;ve!==null;){E=ve;var q=E.child;if(E.subtreeFlags&2064&&q!==null)q.return=E,ve=q;else e:for(E=b;ve!==null;){if(A=ve,A.flags&2048)try{switch(A.tag){case 0:case 11:case 15:Jl(9,A)}}catch(Re){It(A,A.return,Re)}if(A===E){ve=null;break e}var ae=A.sibling;if(ae!==null){ae.return=A.return,ve=ae;break e}ve=A.return}}if(tt=d,bi(),on&&typeof on.onPostCommitFiberRoot=="function")try{on.onPostCommitFiberRoot(En,r)}catch{}c=!0}return c}finally{$e=a,Gn.transition=i}}return!1}function Om(r,i,a){i=Ss(a,i),i=em(r,i,1),r=Ui(r,i,1),i=yn(),r!==null&&(Ai(r,1,i),An(r,i))}function It(r,i,a){if(r.tag===3)Om(r,r,a);else for(;i!==null;){if(i.tag===3){Om(i,r,a);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(zi===null||!zi.has(c))){r=Ss(a,r),r=tm(i,r,1),i=Ui(i,r,1),r=yn(),i!==null&&(Ai(i,1,r),An(i,r));break}}i=i.return}}function B0(r,i,a){var c=r.pingCache;c!==null&&c.delete(i),i=yn(),r.pingedLanes|=r.suspendedLanes&a,jt===r&&(Xt&a)===a&&(Lt===4||Lt===3&&(Xt&130023424)===Xt&&500>ot()-Lh?Ao(r,0):Vh|=a),An(r,i)}function bm(r,i){i===0&&(r.mode&1?(i=Yo,Yo<<=1,!(Yo&130023424)&&(Yo=4194304)):i=1);var a=yn();r=ai(r,i),r!==null&&(Ai(r,i,a),An(r,a))}function $0(r){var i=r.memoizedState,a=0;i!==null&&(a=i.retryLane),bm(r,a)}function H0(r,i){var a=0;switch(r.tag){case 13:var c=r.stateNode,d=r.memoizedState;d!==null&&(a=d.retryLane);break;case 19:c=r.stateNode;break;default:throw Error(t(314))}c!==null&&c.delete(i),bm(r,a)}var Fm;Fm=function(r,i,a){if(r!==null)if(r.memoizedProps!==i.pendingProps||Sn.current)In=!0;else{if(!(r.lanes&a)&&!(i.flags&128))return In=!1,D0(r,i,a);In=!!(r.flags&131072)}else In=!1,vt&&i.flags&1048576&&yp(i,Ml,i.index);switch(i.lanes=0,i.tag){case 2:var c=i.type;Yl(r,i),r=i.pendingProps;var d=ms(i,sn.current);ws(i,a),d=hh(null,i,c,r,d,a);var g=dh();return i.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,Rn(c)?(g=!0,Nl(i)):g=!1,i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,ih(i),d.updater=Ql,i.stateNode=d,d._reactInternals=i,vh(i,c,r,a),i=Th(null,i,c,!0,g,a)):(i.tag=0,vt&&g&&Qc(i),gn(null,i,d,a),i=i.child),i;case 16:c=i.elementType;e:{switch(Yl(r,i),r=i.pendingProps,d=c._init,c=d(c._payload),i.type=c,d=i.tag=W0(c),r=mr(c,r),d){case 0:i=wh(null,i,c,r,a);break e;case 1:i=cm(null,i,c,r,a);break e;case 11:i=om(null,i,c,r,a);break e;case 14:i=sm(null,i,c,mr(c.type,r),a);break e}throw Error(t(306,c,""))}return i;case 0:return c=i.type,d=i.pendingProps,d=i.elementType===c?d:mr(c,d),wh(r,i,c,d,a);case 1:return c=i.type,d=i.pendingProps,d=i.elementType===c?d:mr(c,d),cm(r,i,c,d,a);case 3:e:{if(hm(i),r===null)throw Error(t(387));c=i.pendingProps,g=i.memoizedState,d=g.element,Cp(r,i),zl(i,c,null,a);var E=i.memoizedState;if(c=E.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:E.cache,pendingSuspenseBoundaries:E.pendingSuspenseBoundaries,transitions:E.transitions},i.updateQueue.baseState=g,i.memoizedState=g,i.flags&256){d=Ss(Error(t(423)),i),i=dm(r,i,c,a,d);break e}else if(c!==d){d=Ss(Error(t(424)),i),i=dm(r,i,c,a,d);break e}else for(On=Li(i.stateNode.containerInfo.firstChild),Mn=i,vt=!0,pr=null,a=Rp(i,null,c,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(vs(),c===d){i=ui(r,i,a);break e}gn(r,i,c,a)}i=i.child}return i;case 5:return kp(i),r===null&&Xc(i),c=i.type,d=i.pendingProps,g=r!==null?r.memoizedProps:null,E=d.children,Bc(c,d)?E=null:g!==null&&Bc(c,g)&&(i.flags|=32),um(r,i),gn(r,i,E,a),i.child;case 6:return r===null&&Xc(i),null;case 13:return fm(r,i,a);case 4:return oh(i,i.stateNode.containerInfo),c=i.pendingProps,r===null?i.child=_s(i,null,c,a):gn(r,i,c,a),i.child;case 11:return c=i.type,d=i.pendingProps,d=i.elementType===c?d:mr(c,d),om(r,i,c,d,a);case 7:return gn(r,i,i.pendingProps,a),i.child;case 8:return gn(r,i,i.pendingProps.children,a),i.child;case 12:return gn(r,i,i.pendingProps.children,a),i.child;case 10:e:{if(c=i.type._context,d=i.pendingProps,g=i.memoizedProps,E=d.value,ht(Fl,c._currentValue),c._currentValue=E,g!==null)if(fr(g.value,E)){if(g.children===d.children&&!Sn.current){i=ui(r,i,a);break e}}else for(g=i.child,g!==null&&(g.return=i);g!==null;){var A=g.dependencies;if(A!==null){E=g.child;for(var N=A.firstContext;N!==null;){if(N.context===c){if(g.tag===1){N=li(-1,a&-a),N.tag=2;var W=g.updateQueue;if(W!==null){W=W.shared;var re=W.pending;re===null?N.next=N:(N.next=re.next,re.next=N),W.pending=N}}g.lanes|=a,N=g.alternate,N!==null&&(N.lanes|=a),nh(g.return,a,i),A.lanes|=a;break}N=N.next}}else if(g.tag===10)E=g.type===i.type?null:g.child;else if(g.tag===18){if(E=g.return,E===null)throw Error(t(341));E.lanes|=a,A=E.alternate,A!==null&&(A.lanes|=a),nh(E,a,i),E=g.sibling}else E=g.child;if(E!==null)E.return=g;else for(E=g;E!==null;){if(E===i){E=null;break}if(g=E.sibling,g!==null){g.return=E.return,E=g;break}E=E.return}g=E}gn(r,i,d.children,a),i=i.child}return i;case 9:return d=i.type,c=i.pendingProps.children,ws(i,a),d=Kn(d),c=c(d),i.flags|=1,gn(r,i,c,a),i.child;case 14:return c=i.type,d=mr(c,i.pendingProps),d=mr(c.type,d),sm(r,i,c,d,a);case 15:return am(r,i,i.type,i.pendingProps,a);case 17:return c=i.type,d=i.pendingProps,d=i.elementType===c?d:mr(c,d),Yl(r,i),i.tag=1,Rn(c)?(r=!0,Nl(i)):r=!1,ws(i,a),Jp(i,c,d),vh(i,c,d,a),Th(null,i,c,!0,r,a);case 19:return mm(r,i,a);case 22:return lm(r,i,a)}throw Error(t(156,i.tag))};function Um(r,i){return Wt(r,i)}function q0(r,i,a,c){this.tag=r,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yn(r,i,a,c){return new q0(r,i,a,c)}function Bh(r){return r=r.prototype,!(!r||!r.isReactComponent)}function W0(r){if(typeof r=="function")return Bh(r)?1:0;if(r!=null){if(r=r.$$typeof,r===j)return 11;if(r===We)return 14}return 2}function qi(r,i){var a=r.alternate;return a===null?(a=Yn(r.tag,i,r.key,r.mode),a.elementType=r.elementType,a.type=r.type,a.stateNode=r.stateNode,a.alternate=r,r.alternate=a):(a.pendingProps=i,a.type=r.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=r.flags&14680064,a.childLanes=r.childLanes,a.lanes=r.lanes,a.child=r.child,a.memoizedProps=r.memoizedProps,a.memoizedState=r.memoizedState,a.updateQueue=r.updateQueue,i=r.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=r.sibling,a.index=r.index,a.ref=r.ref,a}function au(r,i,a,c,d,g){var E=2;if(c=r,typeof r=="function")Bh(r)&&(E=1);else if(typeof r=="string")E=5;else e:switch(r){case k:return ko(a.children,d,g,i);case T:E=8,d|=8;break;case I:return r=Yn(12,a,i,d|2),r.elementType=I,r.lanes=g,r;case P:return r=Yn(13,a,i,d),r.elementType=P,r.lanes=g,r;case ct:return r=Yn(19,a,i,d),r.elementType=ct,r.lanes=g,r;case Ke:return lu(a,d,g,i);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case x:E=10;break e;case M:E=9;break e;case j:E=11;break e;case We:E=14;break e;case Ct:E=16,c=null;break e}throw Error(t(130,r==null?r:typeof r,""))}return i=Yn(E,a,i,d),i.elementType=r,i.type=c,i.lanes=g,i}function ko(r,i,a,c){return r=Yn(7,r,c,i),r.lanes=a,r}function lu(r,i,a,c){return r=Yn(22,r,c,i),r.elementType=Ke,r.lanes=a,r.stateNode={isHidden:!1},r}function $h(r,i,a){return r=Yn(6,r,null,i),r.lanes=a,r}function Hh(r,i,a){return i=Yn(4,r.children!==null?r.children:[],r.key,i),i.lanes=a,i.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},i}function K0(r,i,a,c,d){this.tag=i,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ci(0),this.expirationTimes=Ci(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ci(0),this.identifierPrefix=c,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function qh(r,i,a,c,d,g,E,A,N){return r=new K0(r,i,a,A,N),i===1?(i=1,g===!0&&(i|=8)):i=0,g=Yn(3,null,null,i),r.current=g,g.stateNode=r,g.memoizedState={element:c,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},ih(g),r}function Q0(r,i,a){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ie,key:c==null?null:""+c,children:r,containerInfo:i,implementation:a}}function jm(r){if(!r)return Oi;r=r._reactInternals;e:{if(Be(r)!==r||r.tag!==1)throw Error(t(170));var i=r;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(Rn(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(t(171))}if(r.tag===1){var a=r.type;if(Rn(a))return pp(r,a,i)}return i}function zm(r,i,a,c,d,g,E,A,N){return r=qh(a,c,!0,r,d,g,E,A,N),r.context=jm(null),a=r.current,c=yn(),d=$i(a),g=li(c,d),g.callback=i??null,Ui(a,g,d),r.current.lanes=d,Ai(r,d,c),An(r,c),r}function uu(r,i,a,c){var d=i.current,g=yn(),E=$i(d);return a=jm(a),i.context===null?i.context=a:i.pendingContext=a,i=li(g,E),i.payload={element:r},c=c===void 0?null:c,c!==null&&(i.callback=c),r=Ui(d,i,E),r!==null&&(vr(r,d,E,g),jl(r,d,E)),E}function cu(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function Bm(r,i){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var a=r.retryLane;r.retryLane=a!==0&&a<i?a:i}}function Wh(r,i){Bm(r,i),(r=r.alternate)&&Bm(r,i)}function G0(){return null}var $m=typeof reportError=="function"?reportError:function(r){console.error(r)};function Kh(r){this._internalRoot=r}hu.prototype.render=Kh.prototype.render=function(r){var i=this._internalRoot;if(i===null)throw Error(t(409));uu(r,i,null,null)},hu.prototype.unmount=Kh.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var i=r.containerInfo;Co(function(){uu(null,r,null,null)}),i[ri]=null}};function hu(r){this._internalRoot=r}hu.prototype.unstable_scheduleHydration=function(r){if(r){var i=hl();r={blockedOn:null,target:r,priority:i};for(var a=0;a<Nr.length&&i!==0&&i<Nr[a].priority;a++);Nr.splice(a,0,r),a===0&&pl(r)}};function Qh(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function du(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function Hm(){}function Y0(r,i,a,c,d){if(d){if(typeof c=="function"){var g=c;c=function(){var W=cu(E);g.call(W)}}var E=zm(i,c,r,0,null,!1,!1,"",Hm);return r._reactRootContainer=E,r[ri]=E.current,aa(r.nodeType===8?r.parentNode:r),Co(),E}for(;d=r.lastChild;)r.removeChild(d);if(typeof c=="function"){var A=c;c=function(){var W=cu(N);A.call(W)}}var N=qh(r,0,!1,null,null,!1,!1,"",Hm);return r._reactRootContainer=N,r[ri]=N.current,aa(r.nodeType===8?r.parentNode:r),Co(function(){uu(i,N,a,c)}),N}function fu(r,i,a,c,d){var g=a._reactRootContainer;if(g){var E=g;if(typeof d=="function"){var A=d;d=function(){var N=cu(E);A.call(N)}}uu(i,E,r,d)}else E=Y0(a,i,r,d,c);return cu(E)}ul=function(r){switch(r.tag){case 3:var i=r.stateNode;if(i.current.memoizedState.isDehydrated){var a=Ii(i.pendingLanes);a!==0&&(Pi(i,a|1),An(i,ot()),!(tt&6)&&(Cs=ot()+500,bi()))}break;case 13:Co(function(){var c=ai(r,1);if(c!==null){var d=yn();vr(c,r,1,d)}}),Wh(r,1)}},Xo=function(r){if(r.tag===13){var i=ai(r,134217728);if(i!==null){var a=yn();vr(i,r,134217728,a)}Wh(r,134217728)}},cl=function(r){if(r.tag===13){var i=$i(r),a=ai(r,i);if(a!==null){var c=yn();vr(a,r,i,c)}Wh(r,i)}},hl=function(){return $e},dl=function(r,i){var a=$e;try{return $e=r,i()}finally{$e=a}},Qr=function(r,i,a){switch(i){case"input":if(ao(r,a),i=a.name,a.type==="radio"&&i!=null){for(a=r;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<a.length;i++){var c=a[i];if(c!==r&&c.form===r.form){var d=xl(c);if(!d)throw Error(t(90));yi(c),ao(c,d)}}}break;case"textarea":Cr(r,a);break;case"select":i=a.value,i!=null&&Ht(r,!!a.multiple,i,!1)}},Gr=Uh,V=Co;var X0={usingClientEntryPoint:!1,Events:[ca,fs,xl,fn,co,Uh]},Ra={findFiberByHostInstance:vo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},J0={bundleType:Ra.bundleType,version:Ra.version,rendererPackageName:Ra.rendererPackageName,rendererConfig:Ra.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ne.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=or(r),r===null?null:r.stateNode},findFiberByHostInstance:Ra.findFiberByHostInstance||G0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pu.isDisabled&&pu.supportsFiber)try{En=pu.inject(J0),on=pu}catch{}}return Pn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=X0,Pn.createPortal=function(r,i){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Qh(i))throw Error(t(200));return Q0(r,i,null,a)},Pn.createRoot=function(r,i){if(!Qh(r))throw Error(t(299));var a=!1,c="",d=$m;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onRecoverableError!==void 0&&(d=i.onRecoverableError)),i=qh(r,1,!1,null,null,a,!1,c,d),r[ri]=i.current,aa(r.nodeType===8?r.parentNode:r),new Kh(i)},Pn.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var i=r._reactInternals;if(i===void 0)throw typeof r.render=="function"?Error(t(188)):(r=Object.keys(r).join(","),Error(t(268,r)));return r=or(i),r=r===null?null:r.stateNode,r},Pn.flushSync=function(r){return Co(r)},Pn.hydrate=function(r,i,a){if(!du(i))throw Error(t(200));return fu(null,r,i,!0,a)},Pn.hydrateRoot=function(r,i,a){if(!Qh(r))throw Error(t(405));var c=a!=null&&a.hydratedSources||null,d=!1,g="",E=$m;if(a!=null&&(a.unstable_strictMode===!0&&(d=!0),a.identifierPrefix!==void 0&&(g=a.identifierPrefix),a.onRecoverableError!==void 0&&(E=a.onRecoverableError)),i=zm(i,null,r,1,a??null,d,!1,g,E),r[ri]=i.current,aa(r),c)for(r=0;r<c.length;r++)a=c[r],d=a._getVersion,d=d(a._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[a,d]:i.mutableSourceEagerHydrationData.push(a,d);return new hu(i)},Pn.render=function(r,i,a){if(!du(i))throw Error(t(200));return fu(null,r,i,!1,a)},Pn.unmountComponentAtNode=function(r){if(!du(r))throw Error(t(40));return r._reactRootContainer?(Co(function(){fu(null,null,r,!1,function(){r._reactRootContainer=null,r[ri]=null})}),!0):!1},Pn.unstable_batchedUpdates=Uh,Pn.unstable_renderSubtreeIntoContainer=function(r,i,a,c){if(!du(a))throw Error(t(200));if(r==null||r._reactInternals===void 0)throw Error(t(38));return fu(r,i,a,!1,c)},Pn.version="18.3.1-next-f1338f8080-20240426",Pn}var Zm;function Vy(){if(Zm)return Jh.exports;Zm=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Jh.exports=uE(),Jh.exports}var eg;function cE(){if(eg)return mu;eg=1;var n=Vy();return mu.createRoot=n.createRoot,mu.hydrateRoot=n.hydrateRoot,mu}var hE=cE(),Ca={},tg;function dE(){if(tg)return Ca;tg=1,Object.defineProperty(Ca,"__esModule",{value:!0}),Ca.parse=h,Ca.serialize=y;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,o=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,l=(()=>{const R=function(){};return R.prototype=Object.create(null),R})();function h(R,C){const D=new l,z=R.length;if(z<2)return D;const O=(C==null?void 0:C.decode)||_;let B=0;do{const J=R.indexOf("=",B);if(J===-1)break;const Y=R.indexOf(";",B),ne=Y===-1?z:Y;if(J>ne){B=R.lastIndexOf(";",J-1)+1;continue}const L=f(R,B,J),ie=p(R,J,L),k=R.slice(L,ie);if(D[k]===void 0){let T=f(R,J+1,ne),I=p(R,ne,T);const x=O(R.slice(T,I));D[k]=x}B=ne+1}while(B<z);return D}function f(R,C,D){do{const z=R.charCodeAt(C);if(z!==32&&z!==9)return C}while(++C<D);return D}function p(R,C,D){for(;C>D;){const z=R.charCodeAt(--C);if(z!==32&&z!==9)return C+1}return D}function y(R,C,D){const z=(D==null?void 0:D.encode)||encodeURIComponent;if(!n.test(R))throw new TypeError(`argument name is invalid: ${R}`);const O=z(C);if(!e.test(O))throw new TypeError(`argument val is invalid: ${C}`);let B=R+"="+O;if(!D)return B;if(D.maxAge!==void 0){if(!Number.isInteger(D.maxAge))throw new TypeError(`option maxAge is invalid: ${D.maxAge}`);B+="; Max-Age="+D.maxAge}if(D.domain){if(!t.test(D.domain))throw new TypeError(`option domain is invalid: ${D.domain}`);B+="; Domain="+D.domain}if(D.path){if(!o.test(D.path))throw new TypeError(`option path is invalid: ${D.path}`);B+="; Path="+D.path}if(D.expires){if(!S(D.expires)||!Number.isFinite(D.expires.valueOf()))throw new TypeError(`option expires is invalid: ${D.expires}`);B+="; Expires="+D.expires.toUTCString()}if(D.httpOnly&&(B+="; HttpOnly"),D.secure&&(B+="; Secure"),D.partitioned&&(B+="; Partitioned"),D.priority)switch(typeof D.priority=="string"?D.priority.toLowerCase():void 0){case"low":B+="; Priority=Low";break;case"medium":B+="; Priority=Medium";break;case"high":B+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${D.priority}`)}if(D.sameSite)switch(typeof D.sameSite=="string"?D.sameSite.toLowerCase():D.sameSite){case!0:case"strict":B+="; SameSite=Strict";break;case"lax":B+="; SameSite=Lax";break;case"none":B+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${D.sameSite}`)}return B}function _(R){if(R.indexOf("%")===-1)return R;try{return decodeURIComponent(R)}catch{return R}}function S(R){return s.call(R)==="[object Date]"}return Ca}dE();/**
 * react-router v7.0.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var ng="popstate";function fE(n={}){function e(s,l){let{pathname:h="/",search:f="",hash:p=""}=gi(s.location.hash.substring(1));return!h.startsWith("/")&&!h.startsWith(".")&&(h="/"+h),ja("",{pathname:h,search:f,hash:p},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function t(s,l){let h=s.document.querySelector("base"),f="";if(h&&h.getAttribute("href")){let p=s.location.href,y=p.indexOf("#");f=y===-1?p:p.slice(0,y)}return f+"#"+(typeof l=="string"?l:eo(l))}function o(s,l){$t(s.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(l)})`)}return mE(e,t,o,n)}function qe(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function $t(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function pE(){return Math.random().toString(36).substring(2,10)}function rg(n,e){return{usr:n.state,key:n.key,idx:e}}function ja(n,e,t=null,o){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?gi(e):e,state:t,key:e&&e.key||o||pE()}}function eo({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function gi(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let o=n.indexOf("?");o>=0&&(e.search=n.substring(o),n=n.substring(0,o)),n&&(e.pathname=n)}return e}function mE(n,e,t,o={}){let{window:s=document.defaultView,v5Compat:l=!1}=o,h=s.history,f="POP",p=null,y=_();y==null&&(y=0,h.replaceState({...h.state,idx:y},""));function _(){return(h.state||{idx:null}).idx}function S(){f="POP";let O=_(),B=O==null?null:O-y;y=O,p&&p({action:f,location:z.location,delta:B})}function R(O,B){f="PUSH";let J=ja(z.location,O,B);t&&t(J,O),y=_()+1;let Y=rg(J,y),ne=z.createHref(J);try{h.pushState(Y,"",ne)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;s.location.assign(ne)}l&&p&&p({action:f,location:z.location,delta:1})}function C(O,B){f="REPLACE";let J=ja(z.location,O,B);t&&t(J,O),y=_();let Y=rg(J,y),ne=z.createHref(J);h.replaceState(Y,"",ne),l&&p&&p({action:f,location:z.location,delta:0})}function D(O){let B=s.location.origin!=="null"?s.location.origin:s.location.href,J=typeof O=="string"?O:eo(O);return J=J.replace(/ $/,"%20"),qe(B,`No window.location.(origin|href) available to create URL for href: ${J}`),new URL(J,B)}let z={get action(){return f},get location(){return n(s,h)},listen(O){if(p)throw new Error("A history only accepts one active listener");return s.addEventListener(ng,S),p=O,()=>{s.removeEventListener(ng,S),p=null}},createHref(O){return e(s,O)},createURL:D,encodeLocation(O){let B=D(O);return{pathname:B.pathname,search:B.search,hash:B.hash}},push:R,replace:C,go(O){return h.go(O)}};return z}var gE=new Set(["lazy","caseSensitive","path","id","index","children"]);function yE(n){return n.index===!0}function Lu(n,e,t=[],o={}){return n.map((s,l)=>{let h=[...t,String(l)],f=typeof s.id=="string"?s.id:h.join("-");if(qe(s.index!==!0||!s.children,"Cannot specify children on an index route"),qe(!o[f],`Found a route id collision on id "${f}".  Route id's must be globally unique within Data Router usages`),yE(s)){let p={...s,...e(s),id:f};return o[f]=p,p}else{let p={...s,...e(s),id:f,children:void 0};return o[f]=p,s.children&&(p.children=Lu(s.children,e,h,o)),p}})}function Qi(n,e,t="/"){return Iu(n,e,t,!1)}function Iu(n,e,t,o){let s=typeof e=="string"?gi(e):e,l=Rr(s.pathname||"/",t);if(l==null)return null;let h=Ly(n);_E(h);let f=null;for(let p=0;f==null&&p<h.length;++p){let y=xE(l);f=PE(h[p],y,o)}return f}function vE(n,e){let{route:t,pathname:o,params:s}=n;return{id:t.id,pathname:o,params:s,data:e[t.id],handle:t.handle}}function Ly(n,e=[],t=[],o=""){let s=(l,h,f)=>{let p={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:h,route:l};p.relativePath.startsWith("/")&&(qe(p.relativePath.startsWith(o),`Absolute route path "${p.relativePath}" nested under path "${o}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(o.length));let y=jr([o,p.relativePath]),_=t.concat(p);l.children&&l.children.length>0&&(qe(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),Ly(l.children,e,_,y)),!(l.path==null&&!l.index)&&e.push({path:y,score:CE(y,l.index),routesMeta:_})};return n.forEach((l,h)=>{var f;if(l.path===""||!((f=l.path)!=null&&f.includes("?")))s(l,h);else for(let p of My(l.path))s(l,h,p)}),e}function My(n){let e=n.split("/");if(e.length===0)return[];let[t,...o]=e,s=t.endsWith("?"),l=t.replace(/\?$/,"");if(o.length===0)return s?[l,""]:[l];let h=My(o.join("/")),f=[];return f.push(...h.map(p=>p===""?l:[l,p].join("/"))),s&&f.push(...h),f.map(p=>n.startsWith("/")&&p===""?"/":p)}function _E(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:AE(e.routesMeta.map(o=>o.childrenIndex),t.routesMeta.map(o=>o.childrenIndex)))}var EE=/^:[\w-]+$/,wE=3,TE=2,SE=1,RE=10,IE=-2,ig=n=>n==="*";function CE(n,e){let t=n.split("/"),o=t.length;return t.some(ig)&&(o+=IE),e&&(o+=TE),t.filter(s=>!ig(s)).reduce((s,l)=>s+(EE.test(l)?wE:l===""?SE:RE),o)}function AE(n,e){return n.length===e.length&&n.slice(0,-1).every((o,s)=>o===e[s])?n[n.length-1]-e[e.length-1]:0}function PE(n,e,t=!1){let{routesMeta:o}=n,s={},l="/",h=[];for(let f=0;f<o.length;++f){let p=o[f],y=f===o.length-1,_=l==="/"?e:e.slice(l.length)||"/",S=Mu({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},_),R=p.route;if(!S&&y&&t&&!o[o.length-1].route.index&&(S=Mu({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},_)),!S)return null;Object.assign(s,S.params),h.push({params:s,pathname:jr([l,S.pathname]),pathnameBase:VE(jr([l,S.pathnameBase])),route:R}),S.pathnameBase!=="/"&&(l=jr([l,S.pathnameBase]))}return h}function Mu(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,o]=kE(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let l=s[0],h=l.replace(/(.)\/+$/,"$1"),f=s.slice(1);return{params:o.reduce((y,{paramName:_,isOptional:S},R)=>{if(_==="*"){let D=f[R]||"";h=l.slice(0,l.length-D.length).replace(/(.)\/+$/,"$1")}const C=f[R];return S&&!C?y[_]=void 0:y[_]=(C||"").replace(/%2F/g,"/"),y},{}),pathname:l,pathnameBase:h,pattern:n}}function kE(n,e=!1,t=!0){$t(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let o=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,f,p)=>(o.push({paramName:f,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(o.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),o]}function xE(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return $t(!1,`The URL path "${n}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Rr(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,o=n.charAt(t);return o&&o!=="/"?null:n.slice(t)||"/"}function DE(n,e="/"){let{pathname:t,search:o="",hash:s=""}=typeof n=="string"?gi(n):n;return{pathname:t?t.startsWith("/")?t:NE(t,e):e,search:LE(o),hash:ME(s)}}function NE(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function td(n,e,t,o){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(o)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Oy(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Qd(n){let e=Oy(n);return e.map((t,o)=>o===e.length-1?t.pathname:t.pathnameBase)}function Gd(n,e,t,o=!1){let s;typeof n=="string"?s=gi(n):(s={...n},qe(!s.pathname||!s.pathname.includes("?"),td("?","pathname","search",s)),qe(!s.pathname||!s.pathname.includes("#"),td("#","pathname","hash",s)),qe(!s.search||!s.search.includes("#"),td("#","search","hash",s)));let l=n===""||s.pathname==="",h=l?"/":s.pathname,f;if(h==null)f=t;else{let S=e.length-1;if(!o&&h.startsWith("..")){let R=h.split("/");for(;R[0]==="..";)R.shift(),S-=1;s.pathname=R.join("/")}f=S>=0?e[S]:"/"}let p=DE(s,f),y=h&&h!=="/"&&h.endsWith("/"),_=(l||h===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(y||_)&&(p.pathname+="/"),p}var jr=n=>n.join("/").replace(/\/\/+/g,"/"),VE=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),LE=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,ME=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,Ou=class{constructor(n,e,t,o=!1){this.status=n,this.statusText=e||"",this.internal=o,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function rc(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var by=["POST","PUT","PATCH","DELETE"],OE=new Set(by),bE=["GET",...by],FE=new Set(bE),UE=new Set([301,302,303,307,308]),jE=new Set([307,308]),nd={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},zE={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Aa={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Yd=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,BE=n=>({hasErrorBoundary:!!n.hasErrorBoundary}),Fy="remix-router-transitions",Uy=Symbol("ResetLoaderData");function $E(n){const e=n.window?n.window:typeof window<"u"?window:void 0,t=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u";qe(n.routes.length>0,"You must provide a non-empty routes array to createRouter");let o=n.mapRouteProperties||BE,s={},l=Lu(n.routes,o,void 0,s),h,f=n.basename||"/",p=n.dataStrategy||QE,y=n.patchRoutesOnNavigation,_={...n.future},S=null,R=new Set,C=null,D=null,z=null,O=n.hydrationData!=null,B=Qi(l,n.history.location,f),J=null;if(B==null&&!y){let V=Xn(404,{pathname:n.history.location.pathname}),{matches:U,route:Q}=mg(l);B=U,J={[Q.id]:V}}B&&!n.hydrationData&&rr(B,l,n.history.location.pathname).active&&(B=null);let Y;if(B)if(B.some(V=>V.route.lazy))Y=!1;else if(!B.some(V=>V.route.loader))Y=!0;else{let V=n.hydrationData?n.hydrationData.loaderData:null,U=n.hydrationData?n.hydrationData.errors:null;if(U){let Q=B.findIndex(Z=>U[Z.route.id]!==void 0);Y=B.slice(0,Q+1).every(Z=>!Ed(Z.route,V,U))}else Y=B.every(Q=>!Ed(Q.route,V,U))}else{Y=!1,B=[];let V=rr(null,l,n.history.location.pathname);V.active&&V.matches&&(B=V.matches)}let ne,L={historyAction:n.history.action,location:n.history.location,matches:B,initialized:Y,navigation:nd,restoreScrollPosition:n.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:n.hydrationData&&n.hydrationData.loaderData||{},actionData:n.hydrationData&&n.hydrationData.actionData||null,errors:n.hydrationData&&n.hydrationData.errors||J,fetchers:new Map,blockers:new Map},ie="POP",k=!1,T,I=!1,x=new Map,M=null,j=!1,P=!1,ct=new Set,We=new Map,Ct=0,Ke=-1,le=new Map,Te=new Set,de=new Map,F=new Map,X=new Set,Ee=new Map,Me,Ve=null;function je(){if(S=n.history.listen(({action:V,location:U,delta:Q})=>{if(Me){Me(),Me=void 0;return}$t(Ee.size===0||Q!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Z=Si({currentLocation:L.location,nextLocation:U,historyAction:V});if(Z&&Q!=null){let fe=new Promise(ye=>{Me=ye});n.history.go(Q*-1),kr(Z,{state:"blocked",location:U,proceed(){kr(Z,{state:"proceeding",proceed:void 0,reset:void 0,location:U}),fe.then(()=>n.history.go(Q))},reset(){let ye=new Map(L.blockers);ye.set(Z,Aa),be({blockers:ye})}});return}return nn(V,U)}),t){ow(e,x);let V=()=>sw(e,x);e.addEventListener("pagehide",V),M=()=>e.removeEventListener("pagehide",V)}return L.initialized||nn("POP",L.location,{initialHydration:!0}),ne}function Je(){S&&S(),M&&M(),R.clear(),T&&T.abort(),L.fetchers.forEach((V,U)=>xn(U)),L.blockers.forEach((V,U)=>Ti(U))}function Ze(V){return R.add(V),()=>R.delete(V)}function be(V,U={}){L={...L,...V};let Q=[],Z=[];L.fetchers.forEach((fe,ye)=>{fe.state==="idle"&&(X.has(ye)?Q.push(ye):Z.push(ye))}),[...R].forEach(fe=>fe(L,{deletedFetchers:Q,viewTransitionOpts:U.viewTransitionOpts,flushSync:U.flushSync===!0})),Q.forEach(fe=>xn(fe)),Z.forEach(fe=>L.fetchers.delete(fe))}function dt(V,U,{flushSync:Q}={}){var ue,xe;let Z=L.actionData!=null&&L.navigation.formMethod!=null&&_r(L.navigation.formMethod)&&L.navigation.state==="loading"&&((ue=V.state)==null?void 0:ue._isRedirect)!==!0,fe;U.actionData?Object.keys(U.actionData).length>0?fe=U.actionData:fe=null:Z?fe=L.actionData:fe=null;let ye=U.loaderData?fg(L.loaderData,U.loaderData,U.matches||[],U.errors):L.loaderData,Ce=L.blockers;Ce.size>0&&(Ce=new Map(Ce),Ce.forEach((Fe,rt)=>Ce.set(rt,Aa)));let pe=k===!0||L.navigation.formMethod!=null&&_r(L.navigation.formMethod)&&((xe=V.state)==null?void 0:xe._isRedirect)!==!0;h&&(l=h,h=void 0),j||ie==="POP"||(ie==="PUSH"?n.history.push(V,V.state):ie==="REPLACE"&&n.history.replace(V,V.state));let _e;if(ie==="POP"){let Fe=x.get(L.location.pathname);Fe&&Fe.has(V.pathname)?_e={currentLocation:L.location,nextLocation:V}:x.has(V.pathname)&&(_e={currentLocation:V,nextLocation:L.location})}else if(I){let Fe=x.get(L.location.pathname);Fe?Fe.add(V.pathname):(Fe=new Set([V.pathname]),x.set(L.location.pathname,Fe)),_e={currentLocation:L.location,nextLocation:V}}be({...U,actionData:fe,loaderData:ye,historyAction:ie,location:V,initialized:!0,navigation:nd,revalidation:"idle",restoreScrollPosition:Dn(V,U.matches||L.matches),preventScrollReset:pe,blockers:Ce},{viewTransitionOpts:_e,flushSync:Q===!0}),ie="POP",k=!1,I=!1,j=!1,P=!1,Ve==null||Ve.resolve(),Ve=null}async function Bn(V,U){if(typeof V=="number"){n.history.go(V);return}let Q=_d(L.location,L.matches,f,V,U==null?void 0:U.fromRouteId,U==null?void 0:U.relative),{path:Z,submission:fe,error:ye}=og(!1,Q,U),Ce=L.location,pe=ja(L.location,Z,U&&U.state);pe={...pe,...n.history.encodeLocation(pe)};let _e=U&&U.replace!=null?U.replace:void 0,ue="PUSH";_e===!0?ue="REPLACE":_e===!1||fe!=null&&_r(fe.formMethod)&&fe.formAction===L.location.pathname+L.location.search&&(ue="REPLACE");let xe=U&&"preventScrollReset"in U?U.preventScrollReset===!0:void 0,Fe=(U&&U.flushSync)===!0,rt=Si({currentLocation:Ce,nextLocation:pe,historyAction:ue});if(rt){kr(rt,{state:"blocked",location:pe,proceed(){kr(rt,{state:"proceeding",proceed:void 0,reset:void 0,location:pe}),Bn(V,U)},reset(){let Rt=new Map(L.blockers);Rt.set(rt,Aa),be({blockers:Rt})}});return}await nn(ue,pe,{submission:fe,pendingError:ye,preventScrollReset:xe,replace:U&&U.replace,enableViewTransition:U&&U.viewTransition,flushSync:Fe})}function yi(){Ve||(Ve=aw()),Cr(),be({revalidation:"loading"});let V=Ve.promise;return L.navigation.state==="submitting"?V:L.navigation.state==="idle"?(nn(L.historyAction,L.location,{startUninterruptedRevalidation:!0}),V):(nn(ie||L.historyAction,L.navigation.location,{overrideNavigation:L.navigation,enableViewTransition:I===!0}),V)}async function nn(V,U,Q){T&&T.abort(),T=null,ie=V,j=(Q&&Q.startUninterruptedRevalidation)===!0,_n(L.location,L.matches),k=(Q&&Q.preventScrollReset)===!0,I=(Q&&Q.enableViewTransition)===!0;let Z=h||l,fe=Q&&Q.overrideNavigation,ye=Qi(Z,U,f),Ce=(Q&&Q.flushSync)===!0,pe=rr(ye,Z,U.pathname);if(pe.active&&pe.matches&&(ye=pe.matches),!ye){let{error:Be,notFoundMatches:et,route:it}=nr(U.pathname);dt(U,{matches:et,loaderData:{},errors:{[it.id]:Be}},{flushSync:Ce});return}if(L.initialized&&!P&&ew(L.location,U)&&!(Q&&Q.submission&&_r(Q.submission.formMethod))){dt(U,{matches:ye},{flushSync:Ce});return}T=new AbortController;let _e=Ps(n.history,U,T.signal,Q&&Q.submission),ue;if(Q&&Q.pendingError)ue=[No(ye).route.id,{type:"error",error:Q.pendingError}];else if(Q&&Q.submission&&_r(Q.submission.formMethod)){let Be=await Wr(_e,U,Q.submission,ye,pe.active,{replace:Q.replace,flushSync:Ce});if(Be.shortCircuited)return;if(Be.pendingActionResult){let[et,it]=Be.pendingActionResult;if(Fn(it)&&rc(it.error)&&it.error.status===404){T=null,dt(U,{matches:Be.matches,loaderData:{},errors:{[et]:it.error}});return}}ye=Be.matches||ye,ue=Be.pendingActionResult,fe=rd(U,Q.submission),Ce=!1,pe.active=!1,_e=Ps(n.history,_e.url,_e.signal)}let{shortCircuited:xe,matches:Fe,loaderData:rt,errors:Rt}=await vi(_e,U,ye,pe.active,fe,Q&&Q.submission,Q&&Q.fetcherSubmission,Q&&Q.replace,Q&&Q.initialHydration===!0,Ce,ue);xe||(T=null,dt(U,{matches:Fe||ye,...pg(ue),loaderData:rt,errors:Rt}))}async function Wr(V,U,Q,Z,fe,ye={}){Cr();let Ce=rw(U,Q);if(be({navigation:Ce},{flushSync:ye.flushSync===!0}),fe){let ue=await fn(Z,U.pathname,V.signal);if(ue.type==="aborted")return{shortCircuited:!0};if(ue.type==="error"){let xe=No(ue.partialMatches).route.id;return{matches:ue.partialMatches,pendingActionResult:[xe,{type:"error",error:ue.error}]}}else if(ue.matches)Z=ue.matches;else{let{notFoundMatches:xe,error:Fe,route:rt}=nr(U.pathname);return{matches:xe,pendingActionResult:[rt.id,{type:"error",error:Fe}]}}}let pe,_e=xa(Z,U);if(!_e.route.action&&!_e.route.lazy)pe={type:"error",error:Xn(405,{method:V.method,pathname:U.pathname,routeId:_e.route.id})};else if(pe=(await tr("action",L,V,[_e],Z,null))[_e.route.id],V.signal.aborted)return{shortCircuited:!0};if(Vo(pe)){let ue;return ye&&ye.replace!=null?ue=ye.replace:ue=cg(pe.response.headers.get("Location"),new URL(V.url),f)===L.location.pathname+L.location.search,await Ht(V,pe,!0,{submission:Q,replace:ue}),{shortCircuited:!0}}if(Fn(pe)){let ue=No(Z,_e.route.id);return(ye&&ye.replace)!==!0&&(ie="PUSH"),{matches:Z,pendingActionResult:[ue.route.id,pe]}}return{matches:Z,pendingActionResult:[_e.route.id,pe]}}async function vi(V,U,Q,Z,fe,ye,Ce,pe,_e,ue,xe){let Fe=fe||rd(U,ye),rt=ye||Ce||yg(Fe),Rt=!j&&!_e;if(Z){if(Rt){let ft=_i(xe);be({navigation:Fe,...ft!==void 0?{actionData:ft}:{}},{flushSync:ue})}let Qe=await fn(Q,U.pathname,V.signal);if(Qe.type==="aborted")return{shortCircuited:!0};if(Qe.type==="error"){let ft=No(Qe.partialMatches).route.id;return{matches:Qe.partialMatches,loaderData:{},errors:{[ft]:Qe.error}}}else if(Qe.matches)Q=Qe.matches;else{let{error:ft,notFoundMatches:Kt,route:ar}=nr(U.pathname);return{matches:Kt,loaderData:{},errors:{[ar.id]:ft}}}}let Be=h||l,[et,it]=ag(n.history,L,Q,rt,U,_e===!0,P,ct,X,de,Te,Be,f,xe);if(Ke=++Ct,et.length===0&&it.length===0){let Qe=Pr();return dt(U,{matches:Q,loaderData:{},errors:xe&&Fn(xe[1])?{[xe[0]]:xe[1].error}:null,...pg(xe),...Qe?{fetchers:new Map(L.fetchers)}:{}},{flushSync:ue}),{shortCircuited:!0}}if(Rt){let Qe={};if(!Z){Qe.navigation=Fe;let ft=_i(xe);ft!==void 0&&(Qe.actionData=ft)}it.length>0&&(Qe.fetchers=ao(it)),be(Qe,{flushSync:ue})}it.forEach(Qe=>{qt(Qe.key),Qe.controller&&We.set(Qe.key,Qe.controller)});let ir=()=>it.forEach(Qe=>qt(Qe.key));T&&T.signal.addEventListener("abort",ir);let{loaderResults:or,fetcherResults:rn}=await Kr(L,Q,et,it,V);if(V.signal.aborted)return{shortCircuited:!0};T&&T.signal.removeEventListener("abort",ir),it.forEach(Qe=>We.delete(Qe.key));let Wt=gu(or);if(Wt)return await Ht(V,Wt.result,!0,{replace:pe}),{shortCircuited:!0};if(Wt=gu(rn),Wt)return Te.add(Wt.key),await Ht(V,Wt.result,!0,{replace:pe}),{shortCircuited:!0};let{loaderData:Yr,errors:xr}=dg(L,Q,or,xe,it,rn);_e&&L.errors&&(xr={...L.errors,...xr});let sr=Pr(),ot=wi(Ke),Xr=sr||ot||it.length>0;return{matches:Q,loaderData:Yr,errors:xr,...Xr?{fetchers:new Map(L.fetchers)}:{}}}function _i(V){if(V&&!Fn(V[1]))return{[V[0]]:V[1].data};if(L.actionData)return Object.keys(L.actionData).length===0?null:L.actionData}function ao(V){return V.forEach(U=>{let Q=L.fetchers.get(U.key),Z=Pa(void 0,Q?Q.data:void 0);L.fetchers.set(U.key,Z)}),new Map(L.fetchers)}async function Ko(V,U,Q,Z){qt(V);let fe=(Z&&Z.flushSync)===!0,ye=h||l,Ce=_d(L.location,L.matches,f,Q,U,Z==null?void 0:Z.relative),pe=Qi(ye,Ce,f),_e=rr(pe,ye,Ce);if(_e.active&&_e.matches&&(pe=_e.matches),!pe){at(V,U,Xn(404,{pathname:Ce}),{flushSync:fe});return}let{path:ue,submission:xe,error:Fe}=og(!0,Ce,Z);if(Fe){at(V,U,Fe,{flushSync:fe});return}let rt=xa(pe,ue),Rt=(Z&&Z.preventScrollReset)===!0;if(xe&&_r(xe.formMethod)){await Ei(V,U,ue,rt,pe,_e.active,fe,Rt,xe);return}de.set(V,{routeId:U,path:ue}),await er(V,U,ue,rt,pe,_e.active,fe,Rt,xe)}async function Ei(V,U,Q,Z,fe,ye,Ce,pe,_e){Cr(),de.delete(V);function ue(pt){if(!pt.route.action&&!pt.route.lazy){let En=Xn(405,{method:_e.formMethod,pathname:Q,routeId:U});return at(V,U,En,{flushSync:Ce}),!0}return!1}if(!ye&&ue(Z))return;let xe=L.fetchers.get(V);vn(V,iw(_e,xe),{flushSync:Ce});let Fe=new AbortController,rt=Ps(n.history,Q,Fe.signal,_e);if(ye){let pt=await fn(fe,Q,rt.signal);if(pt.type==="aborted")return;if(pt.type==="error"){at(V,U,pt.error,{flushSync:Ce});return}else if(pt.matches){if(fe=pt.matches,Z=xa(fe,Q),ue(Z))return}else{at(V,U,Xn(404,{pathname:Q}),{flushSync:Ce});return}}We.set(V,Fe);let Rt=Ct,et=(await tr("action",L,rt,[Z],fe,V))[Z.route.id];if(rt.signal.aborted){We.get(V)===Fe&&We.delete(V);return}if(X.has(V)){if(Vo(et)||Fn(et)){vn(V,Ki(void 0));return}}else{if(Vo(et))if(We.delete(V),Ke>Rt){vn(V,Ki(void 0));return}else return Te.add(V),vn(V,Pa(_e)),Ht(rt,et,!1,{fetcherSubmission:_e,preventScrollReset:pe});if(Fn(et)){at(V,U,et.error);return}}let it=L.navigation.location||L.location,ir=Ps(n.history,it,Fe.signal),or=h||l,rn=L.navigation.state!=="idle"?Qi(or,L.navigation.location,f):L.matches;qe(rn,"Didn't find any matches after fetcher action");let Wt=++Ct;le.set(V,Wt);let Yr=Pa(_e,et.data);L.fetchers.set(V,Yr);let[xr,sr]=ag(n.history,L,rn,_e,it,!1,P,ct,X,de,Te,or,f,[Z.route.id,et]);sr.filter(pt=>pt.key!==V).forEach(pt=>{let En=pt.key,on=L.fetchers.get(En),Qo=Pa(void 0,on?on.data:void 0);L.fetchers.set(En,Qo),qt(En),pt.controller&&We.set(En,pt.controller)}),be({fetchers:new Map(L.fetchers)});let ot=()=>sr.forEach(pt=>qt(pt.key));Fe.signal.addEventListener("abort",ot);let{loaderResults:Xr,fetcherResults:Qe}=await Kr(L,rn,xr,sr,ir);if(Fe.signal.aborted)return;Fe.signal.removeEventListener("abort",ot),le.delete(V),We.delete(V),sr.forEach(pt=>We.delete(pt.key));let ft=gu(Xr);if(ft)return Ht(ir,ft.result,!1,{preventScrollReset:pe});if(ft=gu(Qe),ft)return Te.add(ft.key),Ht(ir,ft.result,!1,{preventScrollReset:pe});let{loaderData:Kt,errors:ar}=dg(L,rn,Xr,void 0,sr,Qe);if(L.fetchers.has(V)){let pt=Ki(et.data);L.fetchers.set(V,pt)}wi(Wt),L.navigation.state==="loading"&&Wt>Ke?(qe(ie,"Expected pending action"),T&&T.abort(),dt(L.navigation.location,{matches:rn,loaderData:Kt,errors:ar,fetchers:new Map(L.fetchers)})):(be({errors:ar,loaderData:fg(L.loaderData,Kt,rn,ar),fetchers:new Map(L.fetchers)}),P=!1)}async function er(V,U,Q,Z,fe,ye,Ce,pe,_e){let ue=L.fetchers.get(V);vn(V,Pa(_e,ue?ue.data:void 0),{flushSync:Ce});let xe=new AbortController,Fe=Ps(n.history,Q,xe.signal);if(ye){let et=await fn(fe,Q,Fe.signal);if(et.type==="aborted")return;if(et.type==="error"){at(V,U,et.error,{flushSync:Ce});return}else if(et.matches)fe=et.matches,Z=xa(fe,Q);else{at(V,U,Xn(404,{pathname:Q}),{flushSync:Ce});return}}We.set(V,xe);let rt=Ct,Be=(await tr("loader",L,Fe,[Z],fe,V))[Z.route.id];if(We.get(V)===xe&&We.delete(V),!Fe.signal.aborted){if(X.has(V)){vn(V,Ki(void 0));return}if(Vo(Be))if(Ke>rt){vn(V,Ki(void 0));return}else{Te.add(V),await Ht(Fe,Be,!1,{preventScrollReset:pe});return}if(Fn(Be)){at(V,U,Be.error);return}vn(V,Ki(Be.data))}}async function Ht(V,U,Q,{submission:Z,fetcherSubmission:fe,preventScrollReset:ye,replace:Ce}={}){U.response.headers.has("X-Remix-Revalidate")&&(P=!0);let pe=U.response.headers.get("Location");qe(pe,"Expected a Location header on the redirect Response"),pe=cg(pe,new URL(V.url),f);let _e=ja(L.location,pe,{_isRedirect:!0});if(t){let Be=!1;if(U.response.headers.has("X-Remix-Reload-Document"))Be=!0;else if(Yd.test(pe)){const et=n.history.createURL(pe);Be=et.origin!==e.location.origin||Rr(et.pathname,f)==null}if(Be){Ce?e.location.replace(pe):e.location.assign(pe);return}}T=null;let ue=Ce===!0||U.response.headers.has("X-Remix-Replace")?"REPLACE":"PUSH",{formMethod:xe,formAction:Fe,formEncType:rt}=L.navigation;!Z&&!fe&&xe&&Fe&&rt&&(Z=yg(L.navigation));let Rt=Z||fe;if(jE.has(U.response.status)&&Rt&&_r(Rt.formMethod))await nn(ue,_e,{submission:{...Rt,formAction:pe},preventScrollReset:ye||k,enableViewTransition:Q?I:void 0});else{let Be=rd(_e,Z);await nn(ue,_e,{overrideNavigation:Be,fetcherSubmission:fe,preventScrollReset:ye||k,enableViewTransition:Q?I:void 0})}}async function tr(V,U,Q,Z,fe,ye){let Ce,pe={};try{Ce=await GE(p,V,U,Q,Z,fe,ye,s,o)}catch(_e){return Z.forEach(ue=>{pe[ue.route.id]={type:"error",error:_e}}),pe}for(let[_e,ue]of Object.entries(Ce))if(tw(ue)){let xe=ue.result;pe[_e]={type:"redirect",response:JE(xe,Q,_e,fe,f)}}else pe[_e]=await XE(ue);return pe}async function Kr(V,U,Q,Z,fe){let ye=tr("loader",V,fe,Q,U,null),Ce=Promise.all(Z.map(async ue=>{if(ue.matches&&ue.match&&ue.controller){let Fe=(await tr("loader",V,Ps(n.history,ue.path,ue.controller.signal),[ue.match],ue.matches,ue.key))[ue.match.route.id];return{[ue.key]:Fe}}else return Promise.resolve({[ue.key]:{type:"error",error:Xn(404,{pathname:ue.path})}})})),pe=await ye,_e=(await Ce).reduce((ue,xe)=>Object.assign(ue,xe),{});return{loaderResults:pe,fetcherResults:_e}}function Cr(){P=!0,de.forEach((V,U)=>{We.has(U)&&ct.add(U),qt(U)})}function vn(V,U,Q={}){L.fetchers.set(V,U),be({fetchers:new Map(L.fetchers)},{flushSync:(Q&&Q.flushSync)===!0})}function at(V,U,Q,Z={}){let fe=No(L.matches,U);xn(V),be({errors:{[fe.route.id]:Q},fetchers:new Map(L.fetchers)},{flushSync:(Z&&Z.flushSync)===!0})}function St(V){return F.set(V,(F.get(V)||0)+1),X.has(V)&&X.delete(V),L.fetchers.get(V)||zE}function xn(V){let U=L.fetchers.get(V);We.has(V)&&!(U&&U.state==="loading"&&le.has(V))&&qt(V),de.delete(V),le.delete(V),Te.delete(V),X.delete(V),ct.delete(V),L.fetchers.delete(V)}function lo(V){let U=(F.get(V)||0)-1;U<=0?(F.delete(V),X.add(V)):F.set(V,U),be({fetchers:new Map(L.fetchers)})}function qt(V){let U=We.get(V);U&&(U.abort(),We.delete(V))}function Ar(V){for(let U of V){let Q=St(U),Z=Ki(Q.data);L.fetchers.set(U,Z)}}function Pr(){let V=[],U=!1;for(let Q of Te){let Z=L.fetchers.get(Q);qe(Z,`Expected fetcher: ${Q}`),Z.state==="loading"&&(Te.delete(Q),V.push(Q),U=!0)}return Ar(V),U}function wi(V){let U=[];for(let[Q,Z]of le)if(Z<V){let fe=L.fetchers.get(Q);qe(fe,`Expected fetcher: ${Q}`),fe.state==="loading"&&(qt(Q),le.delete(Q),U.push(Q))}return Ar(U),U.length>0}function uo(V,U){let Q=L.blockers.get(V)||Aa;return Ee.get(V)!==U&&Ee.set(V,U),Q}function Ti(V){L.blockers.delete(V),Ee.delete(V)}function kr(V,U){let Q=L.blockers.get(V)||Aa;qe(Q.state==="unblocked"&&U.state==="blocked"||Q.state==="blocked"&&U.state==="blocked"||Q.state==="blocked"&&U.state==="proceeding"||Q.state==="blocked"&&U.state==="unblocked"||Q.state==="proceeding"&&U.state==="unblocked",`Invalid blocker state transition: ${Q.state} -> ${U.state}`);let Z=new Map(L.blockers);Z.set(V,U),be({blockers:Z})}function Si({currentLocation:V,nextLocation:U,historyAction:Q}){if(Ee.size===0)return;Ee.size>1&&$t(!1,"A router only supports one blocker at a time");let Z=Array.from(Ee.entries()),[fe,ye]=Z[Z.length-1],Ce=L.blockers.get(fe);if(!(Ce&&Ce.state==="proceeding")&&ye({currentLocation:V,nextLocation:U,historyAction:Q}))return fe}function nr(V){let U=Xn(404,{pathname:V}),Q=h||l,{matches:Z,route:fe}=mg(Q);return{notFoundMatches:Z,route:fe,error:U}}function Ri(V,U,Q){if(C=V,z=U,D=Q||null,!O&&L.navigation===nd){O=!0;let Z=Dn(L.location,L.matches);Z!=null&&be({restoreScrollPosition:Z})}return()=>{C=null,z=null,D=null}}function Qr(V,U){return D&&D(V,U.map(Z=>vE(Z,L.loaderData)))||V.key}function _n(V,U){if(C&&z){let Q=Qr(V,U);C[Q]=z()}}function Dn(V,U){if(C){let Q=Qr(V,U),Z=C[Q];if(typeof Z=="number")return Z}return null}function rr(V,U,Q){if(y)if(V){if(Object.keys(V[0].params).length>0)return{active:!0,matches:Iu(U,Q,f,!0)}}else return{active:!0,matches:Iu(U,Q,f,!0)||[]};return{active:!1,matches:null}}async function fn(V,U,Q){if(!y)return{type:"success",matches:V};let Z=V;for(;;){let fe=h==null,ye=h||l,Ce=s;try{await y({path:U,matches:Z,patch:(ue,xe)=>{Q.aborted||ug(ue,xe,ye,Ce,o)}})}catch(ue){return{type:"error",error:ue,partialMatches:Z}}finally{fe&&!Q.aborted&&(l=[...l])}if(Q.aborted)return{type:"aborted"};let pe=Qi(ye,U,f);if(pe)return{type:"success",matches:pe};let _e=Iu(ye,U,f,!0);if(!_e||Z.length===_e.length&&Z.every((ue,xe)=>ue.route.id===_e[xe].route.id))return{type:"success",matches:null};Z=_e}}function co(V){s={},h=Lu(V,o,void 0,s)}function Gr(V,U){let Q=h==null;ug(V,U,h||l,s,o),Q&&(l=[...l],be({}))}return ne={get basename(){return f},get future(){return _},get state(){return L},get routes(){return l},get window(){return e},initialize:je,subscribe:Ze,enableScrollRestoration:Ri,navigate:Bn,fetch:Ko,revalidate:yi,createHref:V=>n.history.createHref(V),encodeLocation:V=>n.history.encodeLocation(V),getFetcher:St,deleteFetcher:lo,dispose:Je,getBlocker:uo,deleteBlocker:Ti,patchRoutes:Gr,_internalFetchControllers:We,_internalSetRoutes:co},ne}function HE(n){return n!=null&&("formData"in n&&n.formData!=null||"body"in n&&n.body!==void 0)}function _d(n,e,t,o,s,l){let h,f;if(s){h=[];for(let y of e)if(h.push(y),y.route.id===s){f=y;break}}else h=e,f=e[e.length-1];let p=Gd(o||".",Qd(h),Rr(n.pathname,t)||n.pathname,l==="path");if(o==null&&(p.search=n.search,p.hash=n.hash),(o==null||o===""||o===".")&&f){let y=Xd(p.search);if(f.route.index&&!y)p.search=p.search?p.search.replace(/^\?/,"?index&"):"?index";else if(!f.route.index&&y){let _=new URLSearchParams(p.search),S=_.getAll("index");_.delete("index"),S.filter(C=>C).forEach(C=>_.append("index",C));let R=_.toString();p.search=R?`?${R}`:""}}return t!=="/"&&(p.pathname=p.pathname==="/"?t:jr([t,p.pathname])),eo(p)}function og(n,e,t){if(!t||!HE(t))return{path:e};if(t.formMethod&&!nw(t.formMethod))return{path:e,error:Xn(405,{method:t.formMethod})};let o=()=>({path:e,error:Xn(400,{type:"invalid-body"})}),l=(t.formMethod||"get").toUpperCase(),h=zy(e);if(t.body!==void 0){if(t.formEncType==="text/plain"){if(!_r(l))return o();let S=typeof t.body=="string"?t.body:t.body instanceof FormData||t.body instanceof URLSearchParams?Array.from(t.body.entries()).reduce((R,[C,D])=>`${R}${C}=${D}
`,""):String(t.body);return{path:e,submission:{formMethod:l,formAction:h,formEncType:t.formEncType,formData:void 0,json:void 0,text:S}}}else if(t.formEncType==="application/json"){if(!_r(l))return o();try{let S=typeof t.body=="string"?JSON.parse(t.body):t.body;return{path:e,submission:{formMethod:l,formAction:h,formEncType:t.formEncType,formData:void 0,json:S,text:void 0}}}catch{return o()}}}qe(typeof FormData=="function","FormData is not available in this environment");let f,p;if(t.formData)f=wd(t.formData),p=t.formData;else if(t.body instanceof FormData)f=wd(t.body),p=t.body;else if(t.body instanceof URLSearchParams)f=t.body,p=hg(f);else if(t.body==null)f=new URLSearchParams,p=new FormData;else try{f=new URLSearchParams(t.body),p=hg(f)}catch{return o()}let y={formMethod:l,formAction:h,formEncType:t&&t.formEncType||"application/x-www-form-urlencoded",formData:p,json:void 0,text:void 0};if(_r(y.formMethod))return{path:e,submission:y};let _=gi(e);return n&&_.search&&Xd(_.search)&&f.append("index",""),_.search=`?${f}`,{path:eo(_),submission:y}}function sg(n,e,t=!1){let o=n.findIndex(s=>s.route.id===e);return o>=0?n.slice(0,t?o+1:o):n}function ag(n,e,t,o,s,l,h,f,p,y,_,S,R,C){let D=C?Fn(C[1])?C[1].error:C[1].data:void 0,z=n.createURL(e.location),O=n.createURL(s),B=t;l&&e.errors?B=sg(t,Object.keys(e.errors)[0],!0):C&&Fn(C[1])&&(B=sg(t,C[0]));let J=C?C[1].statusCode:void 0,Y=J&&J>=400,ne=B.filter((ie,k)=>{let{route:T}=ie;if(T.lazy)return!0;if(T.loader==null)return!1;if(l)return Ed(T,e.loaderData,e.errors);if(qE(e.loaderData,e.matches[k],ie))return!0;let I=e.matches[k],x=ie;return lg(ie,{currentUrl:z,currentParams:I.params,nextUrl:O,nextParams:x.params,...o,actionResult:D,actionStatus:J,defaultShouldRevalidate:Y?!1:h||z.pathname+z.search===O.pathname+O.search||z.search!==O.search||WE(I,x)})}),L=[];return y.forEach((ie,k)=>{if(l||!t.some(j=>j.route.id===ie.routeId)||p.has(k))return;let T=Qi(S,ie.path,R);if(!T){L.push({key:k,routeId:ie.routeId,path:ie.path,matches:null,match:null,controller:null});return}let I=e.fetchers.get(k),x=xa(T,ie.path),M=!1;_.has(k)?M=!1:f.has(k)?(f.delete(k),M=!0):I&&I.state!=="idle"&&I.data===void 0?M=h:M=lg(x,{currentUrl:z,currentParams:e.matches[e.matches.length-1].params,nextUrl:O,nextParams:t[t.length-1].params,...o,actionResult:D,actionStatus:J,defaultShouldRevalidate:Y?!1:h}),M&&L.push({key:k,routeId:ie.routeId,path:ie.path,matches:T,match:x,controller:new AbortController})}),[ne,L]}function Ed(n,e,t){if(n.lazy)return!0;if(!n.loader)return!1;let o=e!=null&&e[n.id]!==void 0,s=t!=null&&t[n.id]!==void 0;return!o&&s?!1:typeof n.loader=="function"&&n.loader.hydrate===!0?!0:!o&&!s}function qE(n,e,t){let o=!e||t.route.id!==e.route.id,s=!n.hasOwnProperty(t.route.id);return o||s}function WE(n,e){let t=n.route.path;return n.pathname!==e.pathname||t!=null&&t.endsWith("*")&&n.params["*"]!==e.params["*"]}function lg(n,e){if(n.route.shouldRevalidate){let t=n.route.shouldRevalidate(e);if(typeof t=="boolean")return t}return e.defaultShouldRevalidate}function ug(n,e,t,o,s){let l;if(n){let p=o[n];qe(p,`No route found to patch children into: routeId = ${n}`),p.children||(p.children=[]),l=p.children}else l=t;let h=e.filter(p=>!l.some(y=>jy(p,y))),f=Lu(h,s,[n||"_","patch",String((l==null?void 0:l.length)||"0")],o);l.push(...f)}function jy(n,e){return"id"in n&&"id"in e&&n.id===e.id?!0:n.index===e.index&&n.path===e.path&&n.caseSensitive===e.caseSensitive?(!n.children||n.children.length===0)&&(!e.children||e.children.length===0)?!0:n.children.every((t,o)=>{var s;return(s=e.children)==null?void 0:s.some(l=>jy(t,l))}):!1}async function KE(n,e,t){if(!n.lazy)return;let o=await n.lazy();if(!n.lazy)return;let s=t[n.id];qe(s,"No route found in manifest");let l={};for(let h in o){let p=s[h]!==void 0&&h!=="hasErrorBoundary";$t(!p,`Route "${s.id}" has a static property "${h}" defined but its lazy function is also returning a value for this property. The lazy route property "${h}" will be ignored.`),!p&&!gE.has(h)&&(l[h]=o[h])}Object.assign(s,l),Object.assign(s,{...e(s),lazy:void 0})}async function QE({matches:n}){let e=n.filter(o=>o.shouldLoad);return(await Promise.all(e.map(o=>o.resolve()))).reduce((o,s,l)=>Object.assign(o,{[e[l].route.id]:s}),{})}async function GE(n,e,t,o,s,l,h,f,p,y){let _=l.map(C=>C.route.lazy?KE(C.route,p,f):void 0),S=l.map((C,D)=>{let z=_[D],O=s.some(J=>J.route.id===C.route.id);return{...C,shouldLoad:O,resolve:async J=>(J&&o.method==="GET"&&(C.route.lazy||C.route.loader)&&(O=!0),O?YE(e,o,C,z,J,y):Promise.resolve({type:"data",result:void 0}))}}),R=await n({matches:S,request:o,params:l[0].params,fetcherKey:h,context:y});try{await Promise.all(_)}catch{}return R}async function YE(n,e,t,o,s,l){let h,f,p=y=>{let _,S=new Promise((D,z)=>_=z);f=()=>_(),e.signal.addEventListener("abort",f);let R=D=>typeof y!="function"?Promise.reject(new Error(`You cannot call the handler for a route which defines a boolean "${n}" [routeId: ${t.route.id}]`)):y({request:e,params:t.params,context:l},...D!==void 0?[D]:[]),C=(async()=>{try{return{type:"data",result:await(s?s(z=>R(z)):R())}}catch(D){return{type:"error",result:D}}})();return Promise.race([C,S])};try{let y=t.route[n];if(o)if(y){let _,[S]=await Promise.all([p(y).catch(R=>{_=R}),o]);if(_!==void 0)throw _;h=S}else if(await o,y=t.route[n],y)h=await p(y);else if(n==="action"){let _=new URL(e.url),S=_.pathname+_.search;throw Xn(405,{method:e.method,pathname:S,routeId:t.route.id})}else return{type:"data",result:void 0};else if(y)h=await p(y);else{let _=new URL(e.url),S=_.pathname+_.search;throw Xn(404,{pathname:S})}}catch(y){return{type:"error",result:y}}finally{f&&e.signal.removeEventListener("abort",f)}return h}async function XE(n){var o,s,l,h;let{result:e,type:t}=n;if(By(e)){let f;try{let p=e.headers.get("Content-Type");p&&/\bapplication\/json\b/.test(p)?e.body==null?f=null:f=await e.json():f=await e.text()}catch(p){return{type:"error",error:p}}return t==="error"?{type:"error",error:new Ou(e.status,e.statusText,f),statusCode:e.status,headers:e.headers}:{type:"data",data:f,statusCode:e.status,headers:e.headers}}if(t==="error"){if(gg(e)){if(e.data instanceof Error)return{type:"error",error:e.data,statusCode:(o=e.init)==null?void 0:o.status};e=new Ou(((s=e.init)==null?void 0:s.status)||500,void 0,e.data)}return{type:"error",error:e,statusCode:rc(e)?e.status:void 0}}return gg(e)?{type:"data",data:e.data,statusCode:(l=e.init)==null?void 0:l.status,headers:(h=e.init)!=null&&h.headers?new Headers(e.init.headers):void 0}:{type:"data",data:e}}function JE(n,e,t,o,s){let l=n.headers.get("Location");if(qe(l,"Redirects returned/thrown from loaders/actions must have a Location header"),!Yd.test(l)){let h=o.slice(0,o.findIndex(f=>f.route.id===t)+1);l=_d(new URL(e.url),h,s,l),n.headers.set("Location",l)}return n}function cg(n,e,t){if(Yd.test(n)){let o=n,s=o.startsWith("//")?new URL(e.protocol+o):new URL(o),l=Rr(s.pathname,t)!=null;if(s.origin===e.origin&&l)return s.pathname+s.search+s.hash}return n}function Ps(n,e,t,o){let s=n.createURL(zy(e)).toString(),l={signal:t};if(o&&_r(o.formMethod)){let{formMethod:h,formEncType:f}=o;l.method=h.toUpperCase(),f==="application/json"?(l.headers=new Headers({"Content-Type":f}),l.body=JSON.stringify(o.json)):f==="text/plain"?l.body=o.text:f==="application/x-www-form-urlencoded"&&o.formData?l.body=wd(o.formData):l.body=o.formData}return new Request(s,l)}function wd(n){let e=new URLSearchParams;for(let[t,o]of n.entries())e.append(t,typeof o=="string"?o:o.name);return e}function hg(n){let e=new FormData;for(let[t,o]of n.entries())e.append(t,o);return e}function ZE(n,e,t,o=!1,s=!1){let l={},h=null,f,p=!1,y={},_=t&&Fn(t[1])?t[1].error:void 0;return n.forEach(S=>{if(!(S.route.id in e))return;let R=S.route.id,C=e[R];if(qe(!Vo(C),"Cannot handle redirect results in processLoaderData"),Fn(C)){let D=C.error;if(_!==void 0&&(D=_,_=void 0),h=h||{},s)h[R]=D;else{let z=No(n,R);h[z.route.id]==null&&(h[z.route.id]=D)}o||(l[R]=Uy),p||(p=!0,f=rc(C.error)?C.error.status:500),C.headers&&(y[R]=C.headers)}else l[R]=C.data,C.statusCode&&C.statusCode!==200&&!p&&(f=C.statusCode),C.headers&&(y[R]=C.headers)}),_!==void 0&&t&&(h={[t[0]]:_},l[t[0]]=void 0),{loaderData:l,errors:h,statusCode:f||200,loaderHeaders:y}}function dg(n,e,t,o,s,l){let{loaderData:h,errors:f}=ZE(e,t,o);return s.forEach(p=>{let{key:y,match:_,controller:S}=p,R=l[y];if(qe(R,"Did not find corresponding fetcher result"),!(S&&S.signal.aborted))if(Fn(R)){let C=No(n.matches,_==null?void 0:_.route.id);f&&f[C.route.id]||(f={...f,[C.route.id]:R.error}),n.fetchers.delete(y)}else if(Vo(R))qe(!1,"Unhandled fetcher revalidation redirect");else{let C=Ki(R.data);n.fetchers.set(y,C)}}),{loaderData:h,errors:f}}function fg(n,e,t,o){let s=Object.entries(e).filter(([,l])=>l!==Uy).reduce((l,[h,f])=>(l[h]=f,l),{});for(let l of t){let h=l.route.id;if(!e.hasOwnProperty(h)&&n.hasOwnProperty(h)&&l.route.loader&&(s[h]=n[h]),o&&o.hasOwnProperty(h))break}return s}function pg(n){return n?Fn(n[1])?{actionData:{}}:{actionData:{[n[0]]:n[1].data}}:{}}function No(n,e){return(e?n.slice(0,n.findIndex(o=>o.route.id===e)+1):[...n]).reverse().find(o=>o.route.hasErrorBoundary===!0)||n[0]}function mg(n){let e=n.length===1?n[0]:n.find(t=>t.index||!t.path||t.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Xn(n,{pathname:e,routeId:t,method:o,type:s,message:l}={}){let h="Unknown Server Error",f="Unknown @remix-run/router error";return n===400?(h="Bad Request",o&&e&&t?f=`You made a ${o} request to "${e}" but did not provide a \`loader\` for route "${t}", so there is no way to handle the request.`:s==="invalid-body"&&(f="Unable to encode submission body")):n===403?(h="Forbidden",f=`Route "${t}" does not match URL "${e}"`):n===404?(h="Not Found",f=`No route matches URL "${e}"`):n===405&&(h="Method Not Allowed",o&&e&&t?f=`You made a ${o.toUpperCase()} request to "${e}" but did not provide an \`action\` for route "${t}", so there is no way to handle the request.`:o&&(f=`Invalid request method "${o.toUpperCase()}"`)),new Ou(n||500,h,new Error(f),!0)}function gu(n){let e=Object.entries(n);for(let t=e.length-1;t>=0;t--){let[o,s]=e[t];if(Vo(s))return{key:o,result:s}}}function zy(n){let e=typeof n=="string"?gi(n):n;return eo({...e,hash:""})}function ew(n,e){return n.pathname!==e.pathname||n.search!==e.search?!1:n.hash===""?e.hash!=="":n.hash===e.hash?!0:e.hash!==""}function tw(n){return By(n.result)&&UE.has(n.result.status)}function Fn(n){return n.type==="error"}function Vo(n){return(n&&n.type)==="redirect"}function gg(n){return typeof n=="object"&&n!=null&&"type"in n&&"data"in n&&"init"in n&&n.type==="DataWithResponseInit"}function By(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.headers=="object"&&typeof n.body<"u"}function nw(n){return FE.has(n.toUpperCase())}function _r(n){return OE.has(n.toUpperCase())}function Xd(n){return new URLSearchParams(n).getAll("index").some(e=>e==="")}function xa(n,e){let t=typeof e=="string"?gi(e).search:e.search;if(n[n.length-1].route.index&&Xd(t||""))return n[n.length-1];let o=Oy(n);return o[o.length-1]}function yg(n){let{formMethod:e,formAction:t,formEncType:o,text:s,formData:l,json:h}=n;if(!(!e||!t||!o)){if(s!=null)return{formMethod:e,formAction:t,formEncType:o,formData:void 0,json:void 0,text:s};if(l!=null)return{formMethod:e,formAction:t,formEncType:o,formData:l,json:void 0,text:void 0};if(h!==void 0)return{formMethod:e,formAction:t,formEncType:o,formData:void 0,json:h,text:void 0}}}function rd(n,e){return e?{state:"loading",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:n,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function rw(n,e){return{state:"submitting",location:n,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function Pa(n,e){return n?{state:"loading",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function iw(n,e){return{state:"submitting",formMethod:n.formMethod,formAction:n.formAction,formEncType:n.formEncType,formData:n.formData,json:n.json,text:n.text,data:e?e.data:void 0}}function Ki(n){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:n}}function ow(n,e){try{let t=n.sessionStorage.getItem(Fy);if(t){let o=JSON.parse(t);for(let[s,l]of Object.entries(o||{}))l&&Array.isArray(l)&&e.set(s,new Set(l||[]))}}catch{}}function sw(n,e){if(e.size>0){let t={};for(let[o,s]of e)t[o]=[...s];try{n.sessionStorage.setItem(Fy,JSON.stringify(t))}catch(o){$t(!1,`Failed to save applied view transitions in sessionStorage (${o}).`)}}}function aw(){let n,e,t=new Promise((o,s)=>{n=async l=>{o(l);try{await t}catch{}},e=async l=>{s(l);try{await t}catch{}}});return{promise:t,resolve:n,reject:e}}var zo=K.createContext(null);zo.displayName="DataRouter";var Za=K.createContext(null);Za.displayName="DataRouterState";var Jd=K.createContext({isTransitioning:!1});Jd.displayName="ViewTransition";var $y=K.createContext(new Map);$y.displayName="Fetchers";var lw=K.createContext(null);lw.displayName="Await";var qr=K.createContext(null);qr.displayName="Navigation";var ic=K.createContext(null);ic.displayName="Location";var Ir=K.createContext({outlet:null,matches:[],isDataRoute:!1});Ir.displayName="Route";var Zd=K.createContext(null);Zd.displayName="RouteError";function uw(n,{relative:e}={}){qe(el(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:o}=K.useContext(qr),{hash:s,pathname:l,search:h}=tl(n,{relative:e}),f=l;return t!=="/"&&(f=l==="/"?t:jr([t,l])),o.createHref({pathname:f,search:h,hash:s})}function el(){return K.useContext(ic)!=null}function Bo(){return qe(el(),"useLocation() may be used only in the context of a <Router> component."),K.useContext(ic).location}var Hy="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function qy(n){K.useContext(qr).static||K.useLayoutEffect(n)}function Wy(){let{isDataRoute:n}=K.useContext(Ir);return n?Iw():cw()}function cw(){qe(el(),"useNavigate() may be used only in the context of a <Router> component.");let n=K.useContext(zo),{basename:e,navigator:t}=K.useContext(qr),{matches:o}=K.useContext(Ir),{pathname:s}=Bo(),l=JSON.stringify(Qd(o)),h=K.useRef(!1);return qy(()=>{h.current=!0}),K.useCallback((p,y={})=>{if($t(h.current,Hy),!h.current)return;if(typeof p=="number"){t.go(p);return}let _=Gd(p,JSON.parse(l),s,y.relative==="path");n==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:jr([e,_.pathname])),(y.replace?t.replace:t.push)(_,y.state,y)},[e,t,l,s,n])}var hw=K.createContext(null);function dw(n){let e=K.useContext(Ir).outlet;return e&&K.createElement(hw.Provider,{value:n},e)}function fw(){let{matches:n}=K.useContext(Ir),e=n[n.length-1];return e?e.params:{}}function tl(n,{relative:e}={}){let{matches:t}=K.useContext(Ir),{pathname:o}=Bo(),s=JSON.stringify(Qd(t));return K.useMemo(()=>Gd(n,JSON.parse(s),o,e==="path"),[n,s,o,e])}function pw(n,e,t,o){qe(el(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=K.useContext(qr),{matches:l}=K.useContext(Ir),h=l[l.length-1],f=h?h.params:{},p=h?h.pathname:"/",y=h?h.pathnameBase:"/",_=h&&h.route;{let B=_&&_.path||"";Ky(p,!_||B.endsWith("*")||B.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${B}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${B}"> to <Route path="${B==="/"?"*":`${B}/*`}">.`)}let S=Bo(),R;R=S;let C=R.pathname||"/",D=C;if(y!=="/"){let B=y.replace(/^\//,"").split("/");D="/"+C.replace(/^\//,"").split("/").slice(B.length).join("/")}let z=Qi(n,{pathname:D});return $t(_||z!=null,`No routes matched location "${R.pathname}${R.search}${R.hash}" `),$t(z==null||z[z.length-1].route.element!==void 0||z[z.length-1].route.Component!==void 0||z[z.length-1].route.lazy!==void 0,`Matched leaf route at location "${R.pathname}${R.search}${R.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),_w(z&&z.map(B=>Object.assign({},B,{params:Object.assign({},f,B.params),pathname:jr([y,s.encodeLocation?s.encodeLocation(B.pathname).pathname:B.pathname]),pathnameBase:B.pathnameBase==="/"?y:jr([y,s.encodeLocation?s.encodeLocation(B.pathnameBase).pathname:B.pathnameBase])})),l,t,o)}function mw(){let n=Rw(),e=rc(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,o="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:o},l={padding:"2px 4px",backgroundColor:o},h=null;return console.error("Error handled by React Router default ErrorBoundary:",n),h=K.createElement(K.Fragment,null,K.createElement("p",null," Hey developer "),K.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",K.createElement("code",{style:l},"ErrorBoundary")," or"," ",K.createElement("code",{style:l},"errorElement")," prop on your route.")),K.createElement(K.Fragment,null,K.createElement("h2",null,"Unexpected Application Error!"),K.createElement("h3",{style:{fontStyle:"italic"}},e),t?K.createElement("pre",{style:s},t):null,h)}var gw=K.createElement(mw,null),yw=class extends K.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?K.createElement(Ir.Provider,{value:this.props.routeContext},K.createElement(Zd.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function vw({routeContext:n,match:e,children:t}){let o=K.useContext(zo);return o&&o.static&&o.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=e.route.id),K.createElement(Ir.Provider,{value:n},t)}function _w(n,e=[],t=null,o=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let s=n,l=t==null?void 0:t.errors;if(l!=null){let p=s.findIndex(y=>y.route.id&&(l==null?void 0:l[y.route.id])!==void 0);qe(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),s=s.slice(0,Math.min(s.length,p+1))}let h=!1,f=-1;if(t)for(let p=0;p<s.length;p++){let y=s[p];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(f=p),y.route.id){let{loaderData:_,errors:S}=t,R=y.route.loader&&!_.hasOwnProperty(y.route.id)&&(!S||S[y.route.id]===void 0);if(y.route.lazy||R){h=!0,f>=0?s=s.slice(0,f+1):s=[s[0]];break}}}return s.reduceRight((p,y,_)=>{let S,R=!1,C=null,D=null;t&&(S=l&&y.route.id?l[y.route.id]:void 0,C=y.route.errorElement||gw,h&&(f<0&&_===0?(Ky("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),R=!0,D=null):f===_&&(R=!0,D=y.route.hydrateFallbackElement||null)));let z=e.concat(s.slice(0,_+1)),O=()=>{let B;return S?B=C:R?B=D:y.route.Component?B=K.createElement(y.route.Component,null):y.route.element?B=y.route.element:B=p,K.createElement(vw,{match:y,routeContext:{outlet:p,matches:z,isDataRoute:t!=null},children:B})};return t&&(y.route.ErrorBoundary||y.route.errorElement||_===0)?K.createElement(yw,{location:t.location,revalidation:t.revalidation,component:C,error:S,children:O(),routeContext:{outlet:null,matches:z,isDataRoute:!0}}):O()},null)}function ef(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ew(n){let e=K.useContext(zo);return qe(e,ef(n)),e}function ww(n){let e=K.useContext(Za);return qe(e,ef(n)),e}function Tw(n){let e=K.useContext(Ir);return qe(e,ef(n)),e}function tf(n){let e=Tw(n),t=e.matches[e.matches.length-1];return qe(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function Sw(){return tf("useRouteId")}function Rw(){var o;let n=K.useContext(Zd),e=ww("useRouteError"),t=tf("useRouteError");return n!==void 0?n:(o=e.errors)==null?void 0:o[t]}function Iw(){let{router:n}=Ew("useNavigate"),e=tf("useNavigate"),t=K.useRef(!1);return qy(()=>{t.current=!0}),K.useCallback(async(s,l={})=>{$t(t.current,Hy),t.current&&(typeof s=="number"?n.navigate(s):await n.navigate(s,{fromRouteId:e,...l}))},[n,e])}var vg={};function Ky(n,e,t){!e&&!vg[n]&&(vg[n]=!0,$t(!1,t))}var _g={};function Eg(n,e){!n&&!_g[e]&&(_g[e]=!0,console.warn(e))}function Cw(n){let e={hasErrorBoundary:n.hasErrorBoundary||n.ErrorBoundary!=null||n.errorElement!=null};return n.Component&&(n.element&&$t(!1,"You should not include both `Component` and `element` on your route - `Component` will be used."),Object.assign(e,{element:K.createElement(n.Component),Component:void 0})),n.HydrateFallback&&(n.hydrateFallbackElement&&$t(!1,"You should not include both `HydrateFallback` and `hydrateFallbackElement` on your route - `HydrateFallback` will be used."),Object.assign(e,{hydrateFallbackElement:K.createElement(n.HydrateFallback),HydrateFallback:void 0})),n.ErrorBoundary&&(n.errorElement&&$t(!1,"You should not include both `ErrorBoundary` and `errorElement` on your route - `ErrorBoundary` will be used."),Object.assign(e,{errorElement:K.createElement(n.ErrorBoundary),ErrorBoundary:void 0})),e}var Aw=class{constructor(){this.status="pending",this.promise=new Promise((e,t)=>{this.resolve=o=>{this.status==="pending"&&(this.status="resolved",e(o))},this.reject=o=>{this.status==="pending"&&(this.status="rejected",t(o))}})}};function Pw({router:n,flushSync:e}){let[t,o]=K.useState(n.state),[s,l]=K.useState(),[h,f]=K.useState({isTransitioning:!1}),[p,y]=K.useState(),[_,S]=K.useState(),[R,C]=K.useState(),D=K.useRef(new Map),z=K.useCallback((Y,{deletedFetchers:ne,flushSync:L,viewTransitionOpts:ie})=>{ne.forEach(T=>D.current.delete(T)),Y.fetchers.forEach((T,I)=>{T.data!==void 0&&D.current.set(I,T.data)}),Eg(L===!1||e!=null,'You provided the `flushSync` option to a router update, but you are not using the `<RouterProvider>` from `react-router/dom` so `ReactDOM.flushSync()` is unavailable.  Please update your app to `import { RouterProvider } from "react-router/dom"` and ensure you have `react-dom` installed as a dependency to use the `flushSync` option.');let k=n.window!=null&&n.window.document!=null&&typeof n.window.document.startViewTransition=="function";if(Eg(ie==null||k,"You provided the `viewTransition` option to a router update, but you do not appear to be running in a DOM environment as `window.startViewTransition` is not available."),!ie||!k){e&&L?e(()=>o(Y)):K.startTransition(()=>o(Y));return}if(e&&L){e(()=>{_&&(p&&p.resolve(),_.skipTransition()),f({isTransitioning:!0,flushSync:!0,currentLocation:ie.currentLocation,nextLocation:ie.nextLocation})});let T=n.window.document.startViewTransition(()=>{e(()=>o(Y))});T.finished.finally(()=>{e(()=>{y(void 0),S(void 0),l(void 0),f({isTransitioning:!1})})}),e(()=>S(T));return}_?(p&&p.resolve(),_.skipTransition(),C({state:Y,currentLocation:ie.currentLocation,nextLocation:ie.nextLocation})):(l(Y),f({isTransitioning:!0,flushSync:!1,currentLocation:ie.currentLocation,nextLocation:ie.nextLocation}))},[n.window,e,_,p]);K.useLayoutEffect(()=>n.subscribe(z),[n,z]),K.useEffect(()=>{h.isTransitioning&&!h.flushSync&&y(new Aw)},[h]),K.useEffect(()=>{if(p&&s&&n.window){let Y=s,ne=p.promise,L=n.window.document.startViewTransition(async()=>{K.startTransition(()=>o(Y)),await ne});L.finished.finally(()=>{y(void 0),S(void 0),l(void 0),f({isTransitioning:!1})}),S(L)}},[s,p,n.window]),K.useEffect(()=>{p&&s&&t.location.key===s.location.key&&p.resolve()},[p,_,t.location,s]),K.useEffect(()=>{!h.isTransitioning&&R&&(l(R.state),f({isTransitioning:!0,flushSync:!1,currentLocation:R.currentLocation,nextLocation:R.nextLocation}),C(void 0))},[h.isTransitioning,R]);let O=K.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:Y=>n.navigate(Y),push:(Y,ne,L)=>n.navigate(Y,{state:ne,preventScrollReset:L==null?void 0:L.preventScrollReset}),replace:(Y,ne,L)=>n.navigate(Y,{replace:!0,state:ne,preventScrollReset:L==null?void 0:L.preventScrollReset})}),[n]),B=n.basename||"/",J=K.useMemo(()=>({router:n,navigator:O,static:!1,basename:B}),[n,O,B]);return K.createElement(K.Fragment,null,K.createElement(zo.Provider,{value:J},K.createElement(Za.Provider,{value:t},K.createElement($y.Provider,{value:D.current},K.createElement(Jd.Provider,{value:h},K.createElement(Nw,{basename:B,location:t.location,navigationType:t.historyAction,navigator:O},K.createElement(kw,{routes:n.routes,future:n.future,state:t})))))),null)}var kw=K.memo(xw);function xw({routes:n,future:e,state:t}){return pw(n,void 0,t,e)}function Dw(n){return dw(n.context)}function Nw({basename:n="/",children:e=null,location:t,navigationType:o="POP",navigator:s,static:l=!1}){qe(!el(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=n.replace(/^\/*/,"/"),f=K.useMemo(()=>({basename:h,navigator:s,static:l,future:{}}),[h,s,l]);typeof t=="string"&&(t=gi(t));let{pathname:p="/",search:y="",hash:_="",state:S=null,key:R="default"}=t,C=K.useMemo(()=>{let D=Rr(p,h);return D==null?null:{location:{pathname:D,search:y,hash:_,state:S,key:R},navigationType:o}},[h,p,y,_,S,R,o]);return $t(C!=null,`<Router basename="${h}"> is not able to match the URL "${p}${y}${_}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:K.createElement(qr.Provider,{value:f},K.createElement(ic.Provider,{children:e,value:C}))}var Cu="get",Au="application/x-www-form-urlencoded";function oc(n){return n!=null&&typeof n.tagName=="string"}function Vw(n){return oc(n)&&n.tagName.toLowerCase()==="button"}function Lw(n){return oc(n)&&n.tagName.toLowerCase()==="form"}function Mw(n){return oc(n)&&n.tagName.toLowerCase()==="input"}function Ow(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function bw(n,e){return n.button===0&&(!e||e==="_self")&&!Ow(n)}var yu=null;function Fw(){if(yu===null)try{new FormData(document.createElement("form"),0),yu=!1}catch{yu=!0}return yu}var Uw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function id(n){return n!=null&&!Uw.has(n)?($t(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Au}"`),null):n}function jw(n,e){let t,o,s,l,h;if(Lw(n)){let f=n.getAttribute("action");o=f?Rr(f,e):null,t=n.getAttribute("method")||Cu,s=id(n.getAttribute("enctype"))||Au,l=new FormData(n)}else if(Vw(n)||Mw(n)&&(n.type==="submit"||n.type==="image")){let f=n.form;if(f==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=n.getAttribute("formaction")||f.getAttribute("action");if(o=p?Rr(p,e):null,t=n.getAttribute("formmethod")||f.getAttribute("method")||Cu,s=id(n.getAttribute("formenctype"))||id(f.getAttribute("enctype"))||Au,l=new FormData(f,n),!Fw()){let{name:y,type:_,value:S}=n;if(_==="image"){let R=y?`${y}.`:"";l.append(`${R}x`,"0"),l.append(`${R}y`,"0")}else y&&l.append(y,S)}}else{if(oc(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Cu,o=null,s=Au,h=n}return l&&s==="text/plain"&&(h=l,l=void 0),{action:o,method:t.toLowerCase(),encType:s,formData:l,body:h}}function nf(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function zw(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Bw(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function $w(n,e,t){let o=await Promise.all(n.map(async s=>{let l=e.routes[s.route.id];if(l){let h=await zw(l,t);return h.links?h.links():[]}return[]}));return Kw(o.flat(1).filter(Bw).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function wg(n,e,t,o,s,l){let h=(p,y)=>t[y]?p.route.id!==t[y].route.id:!0,f=(p,y)=>{var _;return t[y].pathname!==p.pathname||((_=t[y].route.path)==null?void 0:_.endsWith("*"))&&t[y].params["*"]!==p.params["*"]};return l==="assets"?e.filter((p,y)=>h(p,y)||f(p,y)):l==="data"?e.filter((p,y)=>{var S;let _=o.routes[p.route.id];if(!_||!_.hasLoader)return!1;if(h(p,y)||f(p,y))return!0;if(p.route.shouldRevalidate){let R=p.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((S=t[0])==null?void 0:S.params)||{},nextUrl:new URL(n,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof R=="boolean")return R}return!0}):[]}function Hw(n,e){return qw(n.map(t=>{let o=e.routes[t.route.id];if(!o)return[];let s=[o.module];return o.imports&&(s=s.concat(o.imports)),s}).flat(1))}function qw(n){return[...new Set(n)]}function Ww(n){let e={},t=Object.keys(n).sort();for(let o of t)e[o]=n[o];return e}function Kw(n,e){let t=new Set;return new Set(e),n.reduce((o,s)=>{let l=JSON.stringify(Ww(s));return t.has(l)||(t.add(l),o.push({key:l,link:s})),o},[])}function Qw(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function Gw(){let n=K.useContext(zo);return nf(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function Yw(){let n=K.useContext(Za);return nf(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var rf=K.createContext(void 0);rf.displayName="FrameworkContext";function Qy(){let n=K.useContext(rf);return nf(n,"You must render this element inside a <HydratedRouter> element"),n}function Xw(n,e){let t=K.useContext(rf),[o,s]=K.useState(!1),[l,h]=K.useState(!1),{onFocus:f,onBlur:p,onMouseEnter:y,onMouseLeave:_,onTouchStart:S}=e,R=K.useRef(null);K.useEffect(()=>{if(n==="render"&&h(!0),n==="viewport"){let z=B=>{B.forEach(J=>{h(J.isIntersecting)})},O=new IntersectionObserver(z,{threshold:.5});return R.current&&O.observe(R.current),()=>{O.disconnect()}}},[n]),K.useEffect(()=>{if(o){let z=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(z)}}},[o]);let C=()=>{s(!0)},D=()=>{s(!1),h(!1)};return t?n!=="intent"?[l,R,{}]:[l,R,{onFocus:ka(f,C),onBlur:ka(p,D),onMouseEnter:ka(y,C),onMouseLeave:ka(_,D),onTouchStart:ka(S,C)}]:[!1,R,{}]}function ka(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function Jw({page:n,...e}){let{router:t}=Gw(),o=K.useMemo(()=>Qi(t.routes,n,t.basename),[t.routes,n,t.basename]);return o?K.createElement(e1,{page:n,matches:o,...e}):(console.warn(`Tried to prefetch ${n} but no routes matched.`),null)}function Zw(n){let{manifest:e,routeModules:t}=Qy(),[o,s]=K.useState([]);return K.useEffect(()=>{let l=!1;return $w(n,e,t).then(h=>{l||s(h)}),()=>{l=!0}},[n,e,t]),o}function e1({page:n,matches:e,...t}){let o=Bo(),{manifest:s,routeModules:l}=Qy(),{loaderData:h,matches:f}=Yw(),p=K.useMemo(()=>wg(n,e,f,s,o,"data"),[n,e,f,s,o]),y=K.useMemo(()=>wg(n,e,f,s,o,"assets"),[n,e,f,s,o]),_=K.useMemo(()=>{if(n===o.pathname+o.search+o.hash)return[];let C=new Set,D=!1;if(e.forEach(O=>{var J;let B=s.routes[O.route.id];!B||!B.hasLoader||(!p.some(Y=>Y.route.id===O.route.id)&&O.route.id in h&&((J=l[O.route.id])!=null&&J.shouldRevalidate)||B.hasClientLoader?D=!0:C.add(O.route.id))}),C.size===0)return[];let z=Qw(n);return D&&C.size>0&&z.searchParams.set("_routes",e.filter(O=>C.has(O.route.id)).map(O=>O.route.id).join(",")),[z.pathname+z.search]},[h,o,s,p,e,n,l]),S=K.useMemo(()=>Hw(y,s),[y,s]),R=Zw(y);return K.createElement(K.Fragment,null,_.map(C=>K.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...t})),S.map(C=>K.createElement("link",{key:C,rel:"modulepreload",href:C,...t})),R.map(({key:C,link:D})=>K.createElement("link",{key:C,...D})))}function t1(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var Gy=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Gy&&(window.__reactRouterVersion="7.0.2")}catch{}function n1(n,e){return $E({basename:e==null?void 0:e.basename,future:e==null?void 0:e.future,history:fE({window:e==null?void 0:e.window}),hydrationData:r1(),routes:n,mapRouteProperties:Cw,dataStrategy:e==null?void 0:e.dataStrategy,patchRoutesOnNavigation:e==null?void 0:e.patchRoutesOnNavigation,window:e==null?void 0:e.window}).initialize()}function r1(){let n=window==null?void 0:window.__staticRouterHydrationData;return n&&n.errors&&(n={...n,errors:i1(n.errors)}),n}function i1(n){if(!n)return null;let e=Object.entries(n),t={};for(let[o,s]of e)if(s&&s.__type==="RouteErrorResponse")t[o]=new Ou(s.status,s.statusText,s.data,s.internal===!0);else if(s&&s.__type==="Error"){if(s.__subType){let l=window[s.__subType];if(typeof l=="function")try{let h=new l(s.message);h.stack="",t[o]=h}catch{}}if(t[o]==null){let l=new Error(s.message);l.stack="",t[o]=l}}else t[o]=s;return t}var Yy=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Er=K.forwardRef(function({onClick:e,discover:t="render",prefetch:o="none",relative:s,reloadDocument:l,replace:h,state:f,target:p,to:y,preventScrollReset:_,viewTransition:S,...R},C){let{basename:D}=K.useContext(qr),z=typeof y=="string"&&Yy.test(y),O,B=!1;if(typeof y=="string"&&z&&(O=y,Gy))try{let I=new URL(window.location.href),x=y.startsWith("//")?new URL(I.protocol+y):new URL(y),M=Rr(x.pathname,D);x.origin===I.origin&&M!=null?y=M+x.search+x.hash:B=!0}catch{$t(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let J=uw(y,{relative:s}),[Y,ne,L]=Xw(o,R),ie=a1(y,{replace:h,state:f,target:p,preventScrollReset:_,relative:s,viewTransition:S});function k(I){e&&e(I),I.defaultPrevented||ie(I)}let T=K.createElement("a",{...R,...L,href:O||J,onClick:B||l?e:k,ref:t1(C,ne),target:p,"data-discover":!z&&t==="render"?"true":void 0});return Y&&!z?K.createElement(K.Fragment,null,T,K.createElement(Jw,{page:J})):T});Er.displayName="Link";var Xy=K.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:o="",end:s=!1,style:l,to:h,viewTransition:f,children:p,...y},_){let S=tl(h,{relative:y.relative}),R=Bo(),C=K.useContext(Za),{navigator:D,basename:z}=K.useContext(qr),O=C!=null&&d1(S)&&f===!0,B=D.encodeLocation?D.encodeLocation(S).pathname:S.pathname,J=R.pathname,Y=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;t||(J=J.toLowerCase(),Y=Y?Y.toLowerCase():null,B=B.toLowerCase()),Y&&z&&(Y=Rr(Y,z)||Y);const ne=B!=="/"&&B.endsWith("/")?B.length-1:B.length;let L=J===B||!s&&J.startsWith(B)&&J.charAt(ne)==="/",ie=Y!=null&&(Y===B||!s&&Y.startsWith(B)&&Y.charAt(B.length)==="/"),k={isActive:L,isPending:ie,isTransitioning:O},T=L?e:void 0,I;typeof o=="function"?I=o(k):I=[o,L?"active":null,ie?"pending":null,O?"transitioning":null].filter(Boolean).join(" ");let x=typeof l=="function"?l(k):l;return K.createElement(Er,{...y,"aria-current":T,className:I,ref:_,style:x,to:h,viewTransition:f},typeof p=="function"?p(k):p)});Xy.displayName="NavLink";var o1=K.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:o,replace:s,state:l,method:h=Cu,action:f,onSubmit:p,relative:y,preventScrollReset:_,viewTransition:S,...R},C)=>{let D=c1(),z=h1(f,{relative:y}),O=h.toLowerCase()==="get"?"get":"post",B=typeof f=="string"&&Yy.test(f),J=Y=>{if(p&&p(Y),Y.defaultPrevented)return;Y.preventDefault();let ne=Y.nativeEvent.submitter,L=(ne==null?void 0:ne.getAttribute("formmethod"))||h;D(ne||Y.currentTarget,{fetcherKey:e,method:L,navigate:t,replace:s,state:l,relative:y,preventScrollReset:_,viewTransition:S})};return K.createElement("form",{ref:C,method:O,action:z,onSubmit:o?p:J,...R,"data-discover":!B&&n==="render"?"true":void 0})});o1.displayName="Form";function s1(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Jy(n){let e=K.useContext(zo);return qe(e,s1(n)),e}function a1(n,{target:e,replace:t,state:o,preventScrollReset:s,relative:l,viewTransition:h}={}){let f=Wy(),p=Bo(),y=tl(n,{relative:l});return K.useCallback(_=>{if(bw(_,e)){_.preventDefault();let S=t!==void 0?t:eo(p)===eo(y);f(n,{replace:S,state:o,preventScrollReset:s,relative:l,viewTransition:h})}},[p,f,y,t,o,e,n,s,l,h])}var l1=0,u1=()=>`__${String(++l1)}__`;function c1(){let{router:n}=Jy("useSubmit"),{basename:e}=K.useContext(qr),t=Sw();return K.useCallback(async(o,s={})=>{let{action:l,method:h,encType:f,formData:p,body:y}=jw(o,e);if(s.navigate===!1){let _=s.fetcherKey||u1();await n.fetch(_,t,s.action||l,{preventScrollReset:s.preventScrollReset,formData:p,body:y,formMethod:s.method||h,formEncType:s.encType||f,flushSync:s.flushSync})}else await n.navigate(s.action||l,{preventScrollReset:s.preventScrollReset,formData:p,body:y,formMethod:s.method||h,formEncType:s.encType||f,replace:s.replace,state:s.state,fromRouteId:t,flushSync:s.flushSync,viewTransition:s.viewTransition})},[n,e,t])}function h1(n,{relative:e}={}){let{basename:t}=K.useContext(qr),o=K.useContext(Ir);qe(o,"useFormAction must be used inside a RouteContext");let[s]=o.matches.slice(-1),l={...tl(n||".",{relative:e})},h=Bo();if(n==null){l.search=h.search;let f=new URLSearchParams(l.search),p=f.getAll("index");if(p.some(_=>_==="")){f.delete("index"),p.filter(S=>S).forEach(S=>f.append("index",S));let _=f.toString();l.search=_?`?${_}`:""}}return(!n||n===".")&&s.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(l.pathname=l.pathname==="/"?t:jr([t,l.pathname])),eo(l)}function d1(n,e={}){let t=K.useContext(Jd);qe(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:o}=Jy("useViewTransitionState"),s=tl(n,{relative:e.relative});if(!t.isTransitioning)return!1;let l=Rr(t.currentLocation.pathname,o)||t.currentLocation.pathname,h=Rr(t.nextLocation.pathname,o)||t.nextLocation.pathname;return Mu(s.pathname,h)!=null||Mu(s.pathname,l)!=null}new TextEncoder;var f1=Vy();/**
 * react-router v7.0.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function p1(n){return K.createElement(Pw,{flushSync:f1.flushSync,...n})}const m1=()=>he.jsxs("div",{children:[he.jsx("p",{className:"text-center text-green-950 text-6xl",children:"  "}),he.jsx(Dw,{})]});function Jt(n){return`Minified Redux error #${n}; visit https://redux.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}var g1=typeof Symbol=="function"&&Symbol.observable||"@@observable",Tg=g1,od=()=>Math.random().toString(36).substring(7).split("").join("."),y1={INIT:`@@redux/INIT${od()}`,REPLACE:`@@redux/REPLACE${od()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${od()}`},bu=y1;function of(n){if(typeof n!="object"||n===null)return!1;let e=n;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(n)===e||Object.getPrototypeOf(n)===null}function Zy(n,e,t){if(typeof n!="function")throw new Error(Jt(2));if(typeof e=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(Jt(0));if(typeof e=="function"&&typeof t>"u"&&(t=e,e=void 0),typeof t<"u"){if(typeof t!="function")throw new Error(Jt(1));return t(Zy)(n,e)}let o=n,s=e,l=new Map,h=l,f=0,p=!1;function y(){h===l&&(h=new Map,l.forEach((O,B)=>{h.set(B,O)}))}function _(){if(p)throw new Error(Jt(3));return s}function S(O){if(typeof O!="function")throw new Error(Jt(4));if(p)throw new Error(Jt(5));let B=!0;y();const J=f++;return h.set(J,O),function(){if(B){if(p)throw new Error(Jt(6));B=!1,y(),h.delete(J),l=null}}}function R(O){if(!of(O))throw new Error(Jt(7));if(typeof O.type>"u")throw new Error(Jt(8));if(typeof O.type!="string")throw new Error(Jt(17));if(p)throw new Error(Jt(9));try{p=!0,s=o(s,O)}finally{p=!1}return(l=h).forEach(J=>{J()}),O}function C(O){if(typeof O!="function")throw new Error(Jt(10));o=O,R({type:bu.REPLACE})}function D(){const O=S;return{subscribe(B){if(typeof B!="object"||B===null)throw new Error(Jt(11));function J(){const ne=B;ne.next&&ne.next(_())}return J(),{unsubscribe:O(J)}},[Tg](){return this}}}return R({type:bu.INIT}),{dispatch:R,subscribe:S,getState:_,replaceReducer:C,[Tg]:D}}function v1(n){Object.keys(n).forEach(e=>{const t=n[e];if(typeof t(void 0,{type:bu.INIT})>"u")throw new Error(Jt(12));if(typeof t(void 0,{type:bu.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Jt(13))})}function _1(n){const e=Object.keys(n),t={};for(let l=0;l<e.length;l++){const h=e[l];typeof n[h]=="function"&&(t[h]=n[h])}const o=Object.keys(t);let s;try{v1(t)}catch(l){s=l}return function(h={},f){if(s)throw s;let p=!1;const y={};for(let _=0;_<o.length;_++){const S=o[_],R=t[S],C=h[S],D=R(C,f);if(typeof D>"u")throw f&&f.type,new Error(Jt(14));y[S]=D,p=p||D!==C}return p=p||o.length!==Object.keys(h).length,p?y:h}}function Fu(...n){return n.length===0?e=>e:n.length===1?n[0]:n.reduce((e,t)=>(...o)=>e(t(...o)))}function E1(...n){return e=>(t,o)=>{const s=e(t,o);let l=()=>{throw new Error(Jt(15))};const h={getState:s.getState,dispatch:(p,...y)=>l(p,...y)},f=n.map(p=>p(h));return l=Fu(...f)(s.dispatch),{...s,dispatch:l}}}function w1(n){return of(n)&&"type"in n&&typeof n.type=="string"}var ev=Symbol.for("immer-nothing"),Sg=Symbol.for("immer-draftable"),jn=Symbol.for("immer-state");function wr(n,...e){throw new Error(`[Immer] minified error nr: ${n}. Full error at: https://bit.ly/3cXEKWf`)}var Ms=Object.getPrototypeOf;function bo(n){return!!n&&!!n[jn]}function di(n){var e;return n?tv(n)||Array.isArray(n)||!!n[Sg]||!!((e=n.constructor)!=null&&e[Sg])||ac(n)||lc(n):!1}var T1=Object.prototype.constructor.toString();function tv(n){if(!n||typeof n!="object")return!1;const e=Ms(n);if(e===null)return!0;const t=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return t===Object?!0:typeof t=="function"&&Function.toString.call(t)===T1}function Uu(n,e){sc(n)===0?Reflect.ownKeys(n).forEach(t=>{e(t,n[t],n)}):n.forEach((t,o)=>e(o,t,n))}function sc(n){const e=n[jn];return e?e.type_:Array.isArray(n)?1:ac(n)?2:lc(n)?3:0}function Td(n,e){return sc(n)===2?n.has(e):Object.prototype.hasOwnProperty.call(n,e)}function nv(n,e,t){const o=sc(n);o===2?n.set(e,t):o===3?n.add(t):n[e]=t}function S1(n,e){return n===e?n!==0||1/n===1/e:n!==n&&e!==e}function ac(n){return n instanceof Map}function lc(n){return n instanceof Set}function xo(n){return n.copy_||n.base_}function Sd(n,e){if(ac(n))return new Map(n);if(lc(n))return new Set(n);if(Array.isArray(n))return Array.prototype.slice.call(n);const t=tv(n);if(e===!0||e==="class_only"&&!t){const o=Object.getOwnPropertyDescriptors(n);delete o[jn];let s=Reflect.ownKeys(o);for(let l=0;l<s.length;l++){const h=s[l],f=o[h];f.writable===!1&&(f.writable=!0,f.configurable=!0),(f.get||f.set)&&(o[h]={configurable:!0,writable:!0,enumerable:f.enumerable,value:n[h]})}return Object.create(Ms(n),o)}else{const o=Ms(n);if(o!==null&&t)return{...n};const s=Object.create(o);return Object.assign(s,n)}}function sf(n,e=!1){return uc(n)||bo(n)||!di(n)||(sc(n)>1&&(n.set=n.add=n.clear=n.delete=R1),Object.freeze(n),e&&Object.entries(n).forEach(([t,o])=>sf(o,!0))),n}function R1(){wr(2)}function uc(n){return Object.isFrozen(n)}var I1={};function Fo(n){const e=I1[n];return e||wr(0,n),e}var za;function rv(){return za}function C1(n,e){return{drafts_:[],parent_:n,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Rg(n,e){e&&(Fo("Patches"),n.patches_=[],n.inversePatches_=[],n.patchListener_=e)}function Rd(n){Id(n),n.drafts_.forEach(A1),n.drafts_=null}function Id(n){n===za&&(za=n.parent_)}function Ig(n){return za=C1(za,n)}function A1(n){const e=n[jn];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function Cg(n,e){e.unfinalizedDrafts_=e.drafts_.length;const t=e.drafts_[0];return n!==void 0&&n!==t?(t[jn].modified_&&(Rd(e),wr(4)),di(n)&&(n=ju(e,n),e.parent_||zu(e,n)),e.patches_&&Fo("Patches").generateReplacementPatches_(t[jn].base_,n,e.patches_,e.inversePatches_)):n=ju(e,t,[]),Rd(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),n!==ev?n:void 0}function ju(n,e,t){if(uc(e))return e;const o=e[jn];if(!o)return Uu(e,(s,l)=>Ag(n,o,e,s,l,t)),e;if(o.scope_!==n)return e;if(!o.modified_)return zu(n,o.base_,!0),o.base_;if(!o.finalized_){o.finalized_=!0,o.scope_.unfinalizedDrafts_--;const s=o.copy_;let l=s,h=!1;o.type_===3&&(l=new Set(s),s.clear(),h=!0),Uu(l,(f,p)=>Ag(n,o,s,f,p,t,h)),zu(n,s,!1),t&&n.patches_&&Fo("Patches").generatePatches_(o,t,n.patches_,n.inversePatches_)}return o.copy_}function Ag(n,e,t,o,s,l,h){if(bo(s)){const f=l&&e&&e.type_!==3&&!Td(e.assigned_,o)?l.concat(o):void 0,p=ju(n,s,f);if(nv(t,o,p),bo(p))n.canAutoFreeze_=!1;else return}else h&&t.add(s);if(di(s)&&!uc(s)){if(!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1)return;ju(n,s),(!e||!e.scope_.parent_)&&typeof o!="symbol"&&Object.prototype.propertyIsEnumerable.call(t,o)&&zu(n,s)}}function zu(n,e,t=!1){!n.parent_&&n.immer_.autoFreeze_&&n.canAutoFreeze_&&sf(e,t)}function P1(n,e){const t=Array.isArray(n),o={type_:t?1:0,scope_:e?e.scope_:rv(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:n,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=o,l=af;t&&(s=[o],l=Ba);const{revoke:h,proxy:f}=Proxy.revocable(s,l);return o.draft_=f,o.revoke_=h,f}var af={get(n,e){if(e===jn)return n;const t=xo(n);if(!Td(t,e))return k1(n,t,e);const o=t[e];return n.finalized_||!di(o)?o:o===sd(n.base_,e)?(ad(n),n.copy_[e]=Ad(o,n)):o},has(n,e){return e in xo(n)},ownKeys(n){return Reflect.ownKeys(xo(n))},set(n,e,t){const o=iv(xo(n),e);if(o!=null&&o.set)return o.set.call(n.draft_,t),!0;if(!n.modified_){const s=sd(xo(n),e),l=s==null?void 0:s[jn];if(l&&l.base_===t)return n.copy_[e]=t,n.assigned_[e]=!1,!0;if(S1(t,s)&&(t!==void 0||Td(n.base_,e)))return!0;ad(n),Cd(n)}return n.copy_[e]===t&&(t!==void 0||e in n.copy_)||Number.isNaN(t)&&Number.isNaN(n.copy_[e])||(n.copy_[e]=t,n.assigned_[e]=!0),!0},deleteProperty(n,e){return sd(n.base_,e)!==void 0||e in n.base_?(n.assigned_[e]=!1,ad(n),Cd(n)):delete n.assigned_[e],n.copy_&&delete n.copy_[e],!0},getOwnPropertyDescriptor(n,e){const t=xo(n),o=Reflect.getOwnPropertyDescriptor(t,e);return o&&{writable:!0,configurable:n.type_!==1||e!=="length",enumerable:o.enumerable,value:t[e]}},defineProperty(){wr(11)},getPrototypeOf(n){return Ms(n.base_)},setPrototypeOf(){wr(12)}},Ba={};Uu(af,(n,e)=>{Ba[n]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Ba.deleteProperty=function(n,e){return Ba.set.call(this,n,e,void 0)};Ba.set=function(n,e,t){return af.set.call(this,n[0],e,t,n[0])};function sd(n,e){const t=n[jn];return(t?xo(t):n)[e]}function k1(n,e,t){var s;const o=iv(e,t);return o?"value"in o?o.value:(s=o.get)==null?void 0:s.call(n.draft_):void 0}function iv(n,e){if(!(e in n))return;let t=Ms(n);for(;t;){const o=Object.getOwnPropertyDescriptor(t,e);if(o)return o;t=Ms(t)}}function Cd(n){n.modified_||(n.modified_=!0,n.parent_&&Cd(n.parent_))}function ad(n){n.copy_||(n.copy_=Sd(n.base_,n.scope_.immer_.useStrictShallowCopy_))}var x1=class{constructor(n){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,o)=>{if(typeof e=="function"&&typeof t!="function"){const l=t;t=e;const h=this;return function(p=l,...y){return h.produce(p,_=>t.call(this,_,...y))}}typeof t!="function"&&wr(6),o!==void 0&&typeof o!="function"&&wr(7);let s;if(di(e)){const l=Ig(this),h=Ad(e,void 0);let f=!0;try{s=t(h),f=!1}finally{f?Rd(l):Id(l)}return Rg(l,o),Cg(s,l)}else if(!e||typeof e!="object"){if(s=t(e),s===void 0&&(s=e),s===ev&&(s=void 0),this.autoFreeze_&&sf(s,!0),o){const l=[],h=[];Fo("Patches").generateReplacementPatches_(e,s,l,h),o(l,h)}return s}else wr(1,e)},this.produceWithPatches=(e,t)=>{if(typeof e=="function")return(h,...f)=>this.produceWithPatches(h,p=>e(p,...f));let o,s;return[this.produce(e,t,(h,f)=>{o=h,s=f}),o,s]},typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze),typeof(n==null?void 0:n.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(n.useStrictShallowCopy)}createDraft(n){di(n)||wr(8),bo(n)&&(n=D1(n));const e=Ig(this),t=Ad(n,void 0);return t[jn].isManual_=!0,Id(e),t}finishDraft(n,e){const t=n&&n[jn];(!t||!t.isManual_)&&wr(9);const{scope_:o}=t;return Rg(o,e),Cg(void 0,o)}setAutoFreeze(n){this.autoFreeze_=n}setUseStrictShallowCopy(n){this.useStrictShallowCopy_=n}applyPatches(n,e){let t;for(t=e.length-1;t>=0;t--){const s=e[t];if(s.path.length===0&&s.op==="replace"){n=s.value;break}}t>-1&&(e=e.slice(t+1));const o=Fo("Patches").applyPatches_;return bo(n)?o(n,e):this.produce(n,s=>o(s,e))}};function Ad(n,e){const t=ac(n)?Fo("MapSet").proxyMap_(n,e):lc(n)?Fo("MapSet").proxySet_(n,e):P1(n,e);return(e?e.scope_:rv()).drafts_.push(t),t}function D1(n){return bo(n)||wr(10,n),ov(n)}function ov(n){if(!di(n)||uc(n))return n;const e=n[jn];let t;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,t=Sd(n,e.scope_.immer_.useStrictShallowCopy_)}else t=Sd(n,!0);return Uu(t,(o,s)=>{nv(t,o,ov(s))}),e&&(e.finalized_=!1),t}var zn=new x1,sv=zn.produce;zn.produceWithPatches.bind(zn);zn.setAutoFreeze.bind(zn);zn.setUseStrictShallowCopy.bind(zn);zn.applyPatches.bind(zn);zn.createDraft.bind(zn);zn.finishDraft.bind(zn);function av(n){return({dispatch:t,getState:o})=>s=>l=>typeof l=="function"?l(t,o,n):s(l)}var N1=av(),V1=av,L1=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Fu:Fu.apply(null,arguments)},M1=n=>n&&typeof n.match=="function";function Ma(n,e){function t(...o){if(e){let s=e(...o);if(!s)throw new Error(hi(0));return{type:n,payload:s.payload,..."meta"in s&&{meta:s.meta},..."error"in s&&{error:s.error}}}return{type:n,payload:o[0]}}return t.toString=()=>`${n}`,t.type=n,t.match=o=>w1(o)&&o.type===n,t}var lv=class Da extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Da.prototype)}static get[Symbol.species](){return Da}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Da(...e[0].concat(this)):new Da(...e.concat(this))}};function Pg(n){return di(n)?sv(n,()=>{}):n}function kg(n,e,t){return n.has(e)?n.get(e):n.set(e,t(e)).get(e)}function O1(n){return typeof n=="boolean"}var b1=()=>function(e){const{thunk:t=!0,immutableCheck:o=!0,serializableCheck:s=!0,actionCreatorCheck:l=!0}=e??{};let h=new lv;return t&&(O1(t)?h.push(N1):h.push(V1(t.extraArgument))),h},F1="RTK_autoBatch",xg=n=>e=>{setTimeout(e,n)},U1=(n={type:"raf"})=>e=>(...t)=>{const o=e(...t);let s=!0,l=!1,h=!1;const f=new Set,p=n.type==="tick"?queueMicrotask:n.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:xg(10):n.type==="callback"?n.queueNotification:xg(n.timeout),y=()=>{h=!1,l&&(l=!1,f.forEach(_=>_()))};return Object.assign({},o,{subscribe(_){const S=()=>s&&_(),R=o.subscribe(S);return f.add(_),()=>{R(),f.delete(_)}},dispatch(_){var S;try{return s=!((S=_==null?void 0:_.meta)!=null&&S[F1]),l=!s,l&&(h||(h=!0,p(y))),o.dispatch(_)}finally{s=!0}}})},j1=n=>function(t){const{autoBatch:o=!0}=t??{};let s=new lv(n);return o&&s.push(U1(typeof o=="object"?o:void 0)),s};function z1(n){const e=b1(),{reducer:t=void 0,middleware:o,devTools:s=!0,preloadedState:l=void 0,enhancers:h=void 0}=n||{};let f;if(typeof t=="function")f=t;else if(of(t))f=_1(t);else throw new Error(hi(1));let p;typeof o=="function"?p=o(e):p=e();let y=Fu;s&&(y=L1({trace:!1,...typeof s=="object"&&s}));const _=E1(...p),S=j1(_);let R=typeof h=="function"?h(S):S();const C=y(...R);return Zy(f,l,C)}function uv(n){const e={},t=[];let o;const s={addCase(l,h){const f=typeof l=="string"?l:l.type;if(!f)throw new Error(hi(28));if(f in e)throw new Error(hi(29));return e[f]=h,s},addMatcher(l,h){return t.push({matcher:l,reducer:h}),s},addDefaultCase(l){return o=l,s}};return n(s),[e,t,o]}function B1(n){return typeof n=="function"}function $1(n,e){let[t,o,s]=uv(e),l;if(B1(n))l=()=>Pg(n());else{const f=Pg(n);l=()=>f}function h(f=l(),p){let y=[t[p.type],...o.filter(({matcher:_})=>_(p)).map(({reducer:_})=>_)];return y.filter(_=>!!_).length===0&&(y=[s]),y.reduce((_,S)=>{if(S)if(bo(_)){const C=S(_,p);return C===void 0?_:C}else{if(di(_))return sv(_,R=>S(R,p));{const R=S(_,p);if(R===void 0){if(_===null)return _;throw Error("A case reducer on a non-draftable value must not return undefined")}return R}}return _},f)}return h.getInitialState=l,h}var H1=(n,e)=>M1(n)?n.match(e):n(e);function q1(...n){return e=>n.some(t=>H1(t,e))}var W1="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",cv=(n=21)=>{let e="",t=n;for(;t--;)e+=W1[Math.random()*64|0];return e},K1=["name","message","stack","code"],ld=class{constructor(n,e){Gh(this,"_type");this.payload=n,this.meta=e}},Dg=class{constructor(n,e){Gh(this,"_type");this.payload=n,this.meta=e}},Q1=n=>{if(typeof n=="object"&&n!==null){const e={};for(const t of K1)typeof n[t]=="string"&&(e[t]=n[t]);return e}return{message:String(n)}},cc=(()=>{function n(e,t,o){const s=Ma(e+"/fulfilled",(p,y,_,S)=>({payload:p,meta:{...S||{},arg:_,requestId:y,requestStatus:"fulfilled"}})),l=Ma(e+"/pending",(p,y,_)=>({payload:void 0,meta:{..._||{},arg:y,requestId:p,requestStatus:"pending"}})),h=Ma(e+"/rejected",(p,y,_,S,R)=>({payload:S,error:(o&&o.serializeError||Q1)(p||"Rejected"),meta:{...R||{},arg:_,requestId:y,rejectedWithValue:!!S,requestStatus:"rejected",aborted:(p==null?void 0:p.name)==="AbortError",condition:(p==null?void 0:p.name)==="ConditionError"}}));function f(p){return(y,_,S)=>{const R=o!=null&&o.idGenerator?o.idGenerator(p):cv(),C=new AbortController;let D,z;function O(J){z=J,C.abort()}const B=async function(){var ne,L;let J;try{let ie=(ne=o==null?void 0:o.condition)==null?void 0:ne.call(o,p,{getState:_,extra:S});if(Y1(ie)&&(ie=await ie),ie===!1||C.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const k=new Promise((T,I)=>{D=()=>{I({name:"AbortError",message:z||"Aborted"})},C.signal.addEventListener("abort",D)});y(l(R,p,(L=o==null?void 0:o.getPendingMeta)==null?void 0:L.call(o,{requestId:R,arg:p},{getState:_,extra:S}))),J=await Promise.race([k,Promise.resolve(t(p,{dispatch:y,getState:_,extra:S,requestId:R,signal:C.signal,abort:O,rejectWithValue:(T,I)=>new ld(T,I),fulfillWithValue:(T,I)=>new Dg(T,I)})).then(T=>{if(T instanceof ld)throw T;return T instanceof Dg?s(T.payload,R,p,T.meta):s(T,R,p)})])}catch(ie){J=ie instanceof ld?h(null,R,p,ie.payload,ie.meta):h(ie,R,p)}finally{D&&C.signal.removeEventListener("abort",D)}return o&&!o.dispatchConditionRejection&&h.match(J)&&J.meta.condition||y(J),J}();return Object.assign(B,{abort:O,requestId:R,arg:p,unwrap(){return B.then(G1)}})}}return Object.assign(f,{pending:l,rejected:h,fulfilled:s,settled:q1(h,s),typePrefix:e})}return n.withTypes=()=>n,n})();function G1(n){if(n.meta&&n.meta.rejectedWithValue)throw n.payload;if(n.error)throw n.error;return n.payload}function Y1(n){return n!==null&&typeof n=="object"&&typeof n.then=="function"}var X1=Symbol.for("rtk-slice-createasyncthunk");function J1(n,e){return`${n}/${e}`}function Z1({creators:n}={}){var t;const e=(t=n==null?void 0:n.asyncThunk)==null?void 0:t[X1];return function(s){const{name:l,reducerPath:h=l}=s;if(!l)throw new Error(hi(11));typeof process<"u";const f=(typeof s.reducers=="function"?s.reducers(nT()):s.reducers)||{},p=Object.keys(f),y={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},_={addCase(Y,ne){const L=typeof Y=="string"?Y:Y.type;if(!L)throw new Error(hi(12));if(L in y.sliceCaseReducersByType)throw new Error(hi(13));return y.sliceCaseReducersByType[L]=ne,_},addMatcher(Y,ne){return y.sliceMatchers.push({matcher:Y,reducer:ne}),_},exposeAction(Y,ne){return y.actionCreators[Y]=ne,_},exposeCaseReducer(Y,ne){return y.sliceCaseReducersByName[Y]=ne,_}};p.forEach(Y=>{const ne=f[Y],L={reducerName:Y,type:J1(l,Y),createNotation:typeof s.reducers=="function"};iT(ne)?sT(L,ne,_,e):rT(L,ne,_)});function S(){const[Y={},ne=[],L=void 0]=typeof s.extraReducers=="function"?uv(s.extraReducers):[s.extraReducers],ie={...Y,...y.sliceCaseReducersByType};return $1(s.initialState,k=>{for(let T in ie)k.addCase(T,ie[T]);for(let T of y.sliceMatchers)k.addMatcher(T.matcher,T.reducer);for(let T of ne)k.addMatcher(T.matcher,T.reducer);L&&k.addDefaultCase(L)})}const R=Y=>Y,C=new Map;let D;function z(Y,ne){return D||(D=S()),D(Y,ne)}function O(){return D||(D=S()),D.getInitialState()}function B(Y,ne=!1){function L(k){let T=k[Y];return typeof T>"u"&&ne&&(T=O()),T}function ie(k=R){const T=kg(C,ne,()=>new WeakMap);return kg(T,k,()=>{const I={};for(const[x,M]of Object.entries(s.selectors??{}))I[x]=eT(M,k,O,ne);return I})}return{reducerPath:Y,getSelectors:ie,get selectors(){return ie(L)},selectSlice:L}}const J={name:l,reducer:z,actions:y.actionCreators,caseReducers:y.sliceCaseReducersByName,getInitialState:O,...B(h),injectInto(Y,{reducerPath:ne,...L}={}){const ie=ne??h;return Y.inject({reducerPath:ie,reducer:z},L),{...J,...B(ie,!0)}}};return J}}function eT(n,e,t,o){function s(l,...h){let f=e(l);return typeof f>"u"&&o&&(f=t()),n(f,...h)}return s.unwrapped=n,s}var tT=Z1();function nT(){function n(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}return n.withTypes=()=>n,{reducer(e){return Object.assign({[e.name](...t){return e(...t)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,t){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}},asyncThunk:n}}function rT({type:n,reducerName:e,createNotation:t},o,s){let l,h;if("reducer"in o){if(t&&!oT(o))throw new Error(hi(17));l=o.reducer,h=o.prepare}else l=o;s.addCase(n,l).exposeCaseReducer(e,l).exposeAction(e,h?Ma(n,h):Ma(n))}function iT(n){return n._reducerDefinitionType==="asyncThunk"}function oT(n){return n._reducerDefinitionType==="reducerWithPrepare"}function sT({type:n,reducerName:e},t,o,s){if(!s)throw new Error(hi(18));const{payloadCreator:l,fulfilled:h,pending:f,rejected:p,settled:y,options:_}=t,S=s(n,l,_);o.exposeAction(e,S),h&&o.addCase(S.fulfilled,h),f&&o.addCase(S.pending,f),p&&o.addCase(S.rejected,p),y&&o.addMatcher(S.settled,y),o.exposeCaseReducer(e,{fulfilled:h||vu,pending:f||vu,rejected:p||vu,settled:y||vu})}function vu(){}function hi(n){return`Minified Redux Toolkit error #${n}; visit https://redux-toolkit.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}var Ng={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hv=function(n){const e=[];let t=0;for(let o=0;o<n.length;o++){let s=n.charCodeAt(o);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&o+1<n.length&&(n.charCodeAt(o+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++o)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},aT=function(n){const e=[];let t=0,o=0;for(;t<n.length;){const s=n[t++];if(s<128)e[o++]=String.fromCharCode(s);else if(s>191&&s<224){const l=n[t++];e[o++]=String.fromCharCode((s&31)<<6|l&63)}else if(s>239&&s<365){const l=n[t++],h=n[t++],f=n[t++],p=((s&7)<<18|(l&63)<<12|(h&63)<<6|f&63)-65536;e[o++]=String.fromCharCode(55296+(p>>10)),e[o++]=String.fromCharCode(56320+(p&1023))}else{const l=n[t++],h=n[t++];e[o++]=String.fromCharCode((s&15)<<12|(l&63)<<6|h&63)}}return e.join("")},dv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,o=[];for(let s=0;s<n.length;s+=3){const l=n[s],h=s+1<n.length,f=h?n[s+1]:0,p=s+2<n.length,y=p?n[s+2]:0,_=l>>2,S=(l&3)<<4|f>>4;let R=(f&15)<<2|y>>6,C=y&63;p||(C=64,h||(R=64)),o.push(t[_],t[S],t[R],t[C])}return o.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(hv(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):aT(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,o=[];for(let s=0;s<n.length;){const l=t[n.charAt(s++)],f=s<n.length?t[n.charAt(s)]:0;++s;const y=s<n.length?t[n.charAt(s)]:64;++s;const S=s<n.length?t[n.charAt(s)]:64;if(++s,l==null||f==null||y==null||S==null)throw new lT;const R=l<<2|f>>4;if(o.push(R),y!==64){const C=f<<4&240|y>>2;if(o.push(C),S!==64){const D=y<<6&192|S;o.push(D)}}}return o},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class lT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const uT=function(n){const e=hv(n);return dv.encodeByteArray(e,!0)},Bu=function(n){return uT(n).replace(/\./g,"")},cT=function(n){try{return dv.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dT=()=>hT().__FIREBASE_DEFAULTS__,fT=()=>{if(typeof process>"u"||typeof Ng>"u")return;const n=Ng.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},pT=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&cT(n[1]);return e&&JSON.parse(e)},lf=()=>{try{return dT()||fT()||pT()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},mT=n=>{var e,t;return(t=(e=lf())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},gT=n=>{const e=mT(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const o=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),o]:[e.substring(0,t),o]},fv=()=>{var n;return(n=lf())===null||n===void 0?void 0:n.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,o)=>{t?this.reject(t):this.resolve(o),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,o))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vT(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},o=e||"demo-project",s=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${o}`,aud:o,iat:s,exp:s+3600,auth_time:s,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},n);return[Bu(JSON.stringify(t)),Bu(JSON.stringify(h)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _T(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ET(){var n;const e=(n=lf())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function wT(){return!ET()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function TT(){try{return typeof indexedDB=="object"}catch{return!1}}function ST(){return new Promise((n,e)=>{try{let t=!0;const o="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(o);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(o),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var l;e(((l=s.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RT="FirebaseError";class $s extends Error{constructor(e,t,o){super(t),this.code=e,this.customData=o,this.name=RT,Object.setPrototypeOf(this,$s.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pv.prototype.create)}}class pv{constructor(e,t,o){this.service=e,this.serviceName=t,this.errors=o}create(e,...t){const o=t[0]||{},s=`${this.service}/${e}`,l=this.errors[e],h=l?IT(l,o):"Error",f=`${this.serviceName}: ${h} (${s}).`;return new $s(s,f,o)}}function IT(n,e){return n.replace(CT,(t,o)=>{const s=e[o];return s!=null?String(s):`<${o}?>`})}const CT=/\{\$([^}]+)}/g;function Pd(n,e){if(n===e)return!0;const t=Object.keys(n),o=Object.keys(e);for(const s of t){if(!o.includes(s))return!1;const l=n[s],h=e[s];if(Vg(l)&&Vg(h)){if(!Pd(l,h))return!1}else if(l!==h)return!1}for(const s of o)if(!t.includes(s))return!1;return!0}function Vg(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $a(n){return n&&n._delegate?n._delegate:n}class Ha{constructor(e,t,o){this.name=e,this.instanceFactory=t,this.type=o,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Do="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let AT=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const o=new yT;if(this.instancesDeferred.set(t,o),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&o.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const o=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(o)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:o})}catch(l){if(s)return null;throw l}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(kT(e))try{this.getOrInitializeService({instanceIdentifier:Do})}catch{}for(const[t,o]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:s});o.resolve(l)}catch{}}}}clearInstance(e=Do){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Do){return this.instances.has(e)}getOptions(e=Do){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,o=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(o))throw Error(`${this.name}(${o}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:o,options:t});for(const[l,h]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);o===f&&h.resolve(s)}return s}onInit(e,t){var o;const s=this.normalizeInstanceIdentifier(t),l=(o=this.onInitCallbacks.get(s))!==null&&o!==void 0?o:new Set;l.add(e),this.onInitCallbacks.set(s,l);const h=this.instances.get(s);return h&&e(h,s),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const o=this.onInitCallbacks.get(t);if(o)for(const s of o)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let o=this.instances.get(e);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:PT(e),options:t}),this.instances.set(e,o),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(o,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,o)}catch{}return o||null}normalizeInstanceIdentifier(e=Do){return this.component?this.component.multipleInstances?e:Do:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function PT(n){return n===Do?void 0:n}function kT(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new AT(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xe;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Xe||(Xe={}));const DT={debug:Xe.DEBUG,verbose:Xe.VERBOSE,info:Xe.INFO,warn:Xe.WARN,error:Xe.ERROR,silent:Xe.SILENT},NT=Xe.INFO,VT={[Xe.DEBUG]:"log",[Xe.VERBOSE]:"log",[Xe.INFO]:"info",[Xe.WARN]:"warn",[Xe.ERROR]:"error"},LT=(n,e,...t)=>{if(e<n.logLevel)return;const o=new Date().toISOString(),s=VT[e];if(s)console[s](`[${o}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class mv{constructor(e){this.name=e,this._logLevel=NT,this._logHandler=LT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Xe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?DT[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Xe.DEBUG,...e),this._logHandler(this,Xe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Xe.VERBOSE,...e),this._logHandler(this,Xe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Xe.INFO,...e),this._logHandler(this,Xe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Xe.WARN,...e),this._logHandler(this,Xe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Xe.ERROR,...e),this._logHandler(this,Xe.ERROR,...e)}}const MT=(n,e)=>e.some(t=>n instanceof t);let Lg,Mg;function OT(){return Lg||(Lg=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function bT(){return Mg||(Mg=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const gv=new WeakMap,kd=new WeakMap,yv=new WeakMap,ud=new WeakMap,uf=new WeakMap;function FT(n){const e=new Promise((t,o)=>{const s=()=>{n.removeEventListener("success",l),n.removeEventListener("error",h)},l=()=>{t(Yi(n.result)),s()},h=()=>{o(n.error),s()};n.addEventListener("success",l),n.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&gv.set(t,n)}).catch(()=>{}),uf.set(e,n),e}function UT(n){if(kd.has(n))return;const e=new Promise((t,o)=>{const s=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",h),n.removeEventListener("abort",h)},l=()=>{t(),s()},h=()=>{o(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",l),n.addEventListener("error",h),n.addEventListener("abort",h)});kd.set(n,e)}let xd={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return kd.get(n);if(e==="objectStoreNames")return n.objectStoreNames||yv.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Yi(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function jT(n){xd=n(xd)}function zT(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const o=n.call(cd(this),e,...t);return yv.set(o,e.sort?e.sort():[e]),Yi(o)}:bT().includes(n)?function(...e){return n.apply(cd(this),e),Yi(gv.get(this))}:function(...e){return Yi(n.apply(cd(this),e))}}function BT(n){return typeof n=="function"?zT(n):(n instanceof IDBTransaction&&UT(n),MT(n,OT())?new Proxy(n,xd):n)}function Yi(n){if(n instanceof IDBRequest)return FT(n);if(ud.has(n))return ud.get(n);const e=BT(n);return e!==n&&(ud.set(n,e),uf.set(e,n)),e}const cd=n=>uf.get(n);function $T(n,e,{blocked:t,upgrade:o,blocking:s,terminated:l}={}){const h=indexedDB.open(n,e),f=Yi(h);return o&&h.addEventListener("upgradeneeded",p=>{o(Yi(h.result),p.oldVersion,p.newVersion,Yi(h.transaction),p)}),t&&h.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),f.then(p=>{l&&p.addEventListener("close",()=>l()),s&&p.addEventListener("versionchange",y=>s(y.oldVersion,y.newVersion,y))}).catch(()=>{}),f}const HT=["get","getKey","getAll","getAllKeys","count"],qT=["put","add","delete","clear"],hd=new Map;function Og(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(hd.get(e))return hd.get(e);const t=e.replace(/FromIndex$/,""),o=e!==t,s=qT.includes(t);if(!(t in(o?IDBIndex:IDBObjectStore).prototype)||!(s||HT.includes(t)))return;const l=async function(h,...f){const p=this.transaction(h,s?"readwrite":"readonly");let y=p.store;return o&&(y=y.index(f.shift())),(await Promise.all([y[t](...f),s&&p.done]))[0]};return hd.set(e,l),l}jT(n=>({...n,get:(e,t,o)=>Og(e,t)||n.get(e,t,o),has:(e,t)=>!!Og(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(KT(t)){const o=t.getImmediate();return`${o.library}/${o.version}`}else return null}).filter(t=>t).join(" ")}}function KT(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Dd="@firebase/app",bg="0.10.16";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fi=new mv("@firebase/app"),QT="@firebase/app-compat",GT="@firebase/analytics-compat",YT="@firebase/analytics",XT="@firebase/app-check-compat",JT="@firebase/app-check",ZT="@firebase/auth",eS="@firebase/auth-compat",tS="@firebase/database",nS="@firebase/data-connect",rS="@firebase/database-compat",iS="@firebase/functions",oS="@firebase/functions-compat",sS="@firebase/installations",aS="@firebase/installations-compat",lS="@firebase/messaging",uS="@firebase/messaging-compat",cS="@firebase/performance",hS="@firebase/performance-compat",dS="@firebase/remote-config",fS="@firebase/remote-config-compat",pS="@firebase/storage",mS="@firebase/storage-compat",gS="@firebase/firestore",yS="@firebase/vertexai",vS="@firebase/firestore-compat",_S="firebase",ES="11.0.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nd="[DEFAULT]",wS={[Dd]:"fire-core",[QT]:"fire-core-compat",[YT]:"fire-analytics",[GT]:"fire-analytics-compat",[JT]:"fire-app-check",[XT]:"fire-app-check-compat",[ZT]:"fire-auth",[eS]:"fire-auth-compat",[tS]:"fire-rtdb",[nS]:"fire-data-connect",[rS]:"fire-rtdb-compat",[iS]:"fire-fn",[oS]:"fire-fn-compat",[sS]:"fire-iid",[aS]:"fire-iid-compat",[lS]:"fire-fcm",[uS]:"fire-fcm-compat",[cS]:"fire-perf",[hS]:"fire-perf-compat",[dS]:"fire-rc",[fS]:"fire-rc-compat",[pS]:"fire-gcs",[mS]:"fire-gcs-compat",[gS]:"fire-fst",[vS]:"fire-fst-compat",[yS]:"fire-vertex","fire-js":"fire-js",[_S]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $u=new Map,TS=new Map,Vd=new Map;function Fg(n,e){try{n.container.addComponent(e)}catch(t){fi.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Hu(n){const e=n.name;if(Vd.has(e))return fi.debug(`There were multiple attempts to register component ${e}.`),!1;Vd.set(e,n);for(const t of $u.values())Fg(t,n);for(const t of TS.values())Fg(t,n);return!0}function SS(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Xi=new pv("app","Firebase",RS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(e,t,o){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=o,this.container.addComponent(new Ha("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Xi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CS=ES;function vv(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const o=Object.assign({name:Nd,automaticDataCollectionEnabled:!1},e),s=o.name;if(typeof s!="string"||!s)throw Xi.create("bad-app-name",{appName:String(s)});if(t||(t=fv()),!t)throw Xi.create("no-options");const l=$u.get(s);if(l){if(Pd(t,l.options)&&Pd(o,l.config))return l;throw Xi.create("duplicate-app",{appName:s})}const h=new xT(s);for(const p of Vd.values())h.addComponent(p);const f=new IS(t,o,h);return $u.set(s,f),f}function AS(n=Nd){const e=$u.get(n);if(!e&&n===Nd&&fv())return vv();if(!e)throw Xi.create("no-app",{appName:n});return e}function Vs(n,e,t){var o;let s=(o=wS[n])!==null&&o!==void 0?o:n;t&&(s+=`-${t}`);const l=s.match(/\s|\//),h=e.match(/\s|\//);if(l||h){const f=[`Unable to register library "${s}" with version "${e}":`];l&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),l&&h&&f.push("and"),h&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),fi.warn(f.join(" "));return}Hu(new Ha(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PS="firebase-heartbeat-database",kS=1,qa="firebase-heartbeat-store";let dd=null;function _v(){return dd||(dd=$T(PS,kS,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(qa)}catch(t){console.warn(t)}}}}).catch(n=>{throw Xi.create("idb-open",{originalErrorMessage:n.message})})),dd}async function xS(n){try{const t=(await _v()).transaction(qa),o=await t.objectStore(qa).get(Ev(n));return await t.done,o}catch(e){if(e instanceof $s)fi.warn(e.message);else{const t=Xi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});fi.warn(t.message)}}}async function Ug(n,e){try{const o=(await _v()).transaction(qa,"readwrite");await o.objectStore(qa).put(e,Ev(n)),await o.done}catch(t){if(t instanceof $s)fi.warn(t.message);else{const o=Xi.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});fi.warn(o.message)}}}function Ev(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DS=1024,NS=30*24*60*60*1e3;class VS{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new MS(t),this._heartbeatsCachePromise=this._storage.read().then(o=>(this._heartbeatsCache=o,o))}async triggerHeartbeat(){var e,t;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=jg();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(h=>h.date===l)?void 0:(this._heartbeatsCache.heartbeats.push({date:l,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(h=>{const f=new Date(h.date).valueOf();return Date.now()-f<=NS}),this._storage.overwrite(this._heartbeatsCache))}catch(o){fi.warn(o)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=jg(),{heartbeatsToSend:o,unsentEntries:s}=LS(this._heartbeatsCache.heartbeats),l=Bu(JSON.stringify({version:2,heartbeats:o}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return fi.warn(t),""}}}function jg(){return new Date().toISOString().substring(0,10)}function LS(n,e=DS){const t=[];let o=n.slice();for(const s of n){const l=t.find(h=>h.agent===s.agent);if(l){if(l.dates.push(s.date),zg(t)>e){l.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),zg(t)>e){t.pop();break}o=o.slice(1)}return{heartbeatsToSend:t,unsentEntries:o}}class MS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return TT()?ST().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await xS(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return Ug(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return Ug(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function zg(n){return Bu(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OS(n){Hu(new Ha("platform-logger",e=>new WT(e),"PRIVATE")),Hu(new Ha("heartbeat",e=>new VS(e),"PRIVATE")),Vs(Dd,bg,n),Vs(Dd,bg,"esm2017"),Vs("fire-js","")}OS("");var Bg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Mo,wv;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,T){function I(){}I.prototype=T.prototype,k.D=T.prototype,k.prototype=new I,k.prototype.constructor=k,k.C=function(x,M,j){for(var P=Array(arguments.length-2),ct=2;ct<arguments.length;ct++)P[ct-2]=arguments[ct];return T.prototype[M].apply(x,P)}}function t(){this.blockSize=-1}function o(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(o,t),o.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(k,T,I){I||(I=0);var x=Array(16);if(typeof T=="string")for(var M=0;16>M;++M)x[M]=T.charCodeAt(I++)|T.charCodeAt(I++)<<8|T.charCodeAt(I++)<<16|T.charCodeAt(I++)<<24;else for(M=0;16>M;++M)x[M]=T[I++]|T[I++]<<8|T[I++]<<16|T[I++]<<24;T=k.g[0],I=k.g[1],M=k.g[2];var j=k.g[3],P=T+(j^I&(M^j))+x[0]+3614090360&4294967295;T=I+(P<<7&4294967295|P>>>25),P=j+(M^T&(I^M))+x[1]+3905402710&4294967295,j=T+(P<<12&4294967295|P>>>20),P=M+(I^j&(T^I))+x[2]+606105819&4294967295,M=j+(P<<17&4294967295|P>>>15),P=I+(T^M&(j^T))+x[3]+3250441966&4294967295,I=M+(P<<22&4294967295|P>>>10),P=T+(j^I&(M^j))+x[4]+4118548399&4294967295,T=I+(P<<7&4294967295|P>>>25),P=j+(M^T&(I^M))+x[5]+1200080426&4294967295,j=T+(P<<12&4294967295|P>>>20),P=M+(I^j&(T^I))+x[6]+2821735955&4294967295,M=j+(P<<17&4294967295|P>>>15),P=I+(T^M&(j^T))+x[7]+4249261313&4294967295,I=M+(P<<22&4294967295|P>>>10),P=T+(j^I&(M^j))+x[8]+1770035416&4294967295,T=I+(P<<7&4294967295|P>>>25),P=j+(M^T&(I^M))+x[9]+2336552879&4294967295,j=T+(P<<12&4294967295|P>>>20),P=M+(I^j&(T^I))+x[10]+4294925233&4294967295,M=j+(P<<17&4294967295|P>>>15),P=I+(T^M&(j^T))+x[11]+2304563134&4294967295,I=M+(P<<22&4294967295|P>>>10),P=T+(j^I&(M^j))+x[12]+1804603682&4294967295,T=I+(P<<7&4294967295|P>>>25),P=j+(M^T&(I^M))+x[13]+4254626195&4294967295,j=T+(P<<12&4294967295|P>>>20),P=M+(I^j&(T^I))+x[14]+2792965006&4294967295,M=j+(P<<17&4294967295|P>>>15),P=I+(T^M&(j^T))+x[15]+1236535329&4294967295,I=M+(P<<22&4294967295|P>>>10),P=T+(M^j&(I^M))+x[1]+4129170786&4294967295,T=I+(P<<5&4294967295|P>>>27),P=j+(I^M&(T^I))+x[6]+3225465664&4294967295,j=T+(P<<9&4294967295|P>>>23),P=M+(T^I&(j^T))+x[11]+643717713&4294967295,M=j+(P<<14&4294967295|P>>>18),P=I+(j^T&(M^j))+x[0]+3921069994&4294967295,I=M+(P<<20&4294967295|P>>>12),P=T+(M^j&(I^M))+x[5]+3593408605&4294967295,T=I+(P<<5&4294967295|P>>>27),P=j+(I^M&(T^I))+x[10]+38016083&4294967295,j=T+(P<<9&4294967295|P>>>23),P=M+(T^I&(j^T))+x[15]+3634488961&4294967295,M=j+(P<<14&4294967295|P>>>18),P=I+(j^T&(M^j))+x[4]+3889429448&4294967295,I=M+(P<<20&4294967295|P>>>12),P=T+(M^j&(I^M))+x[9]+568446438&4294967295,T=I+(P<<5&4294967295|P>>>27),P=j+(I^M&(T^I))+x[14]+3275163606&4294967295,j=T+(P<<9&4294967295|P>>>23),P=M+(T^I&(j^T))+x[3]+4107603335&4294967295,M=j+(P<<14&4294967295|P>>>18),P=I+(j^T&(M^j))+x[8]+1163531501&4294967295,I=M+(P<<20&4294967295|P>>>12),P=T+(M^j&(I^M))+x[13]+2850285829&4294967295,T=I+(P<<5&4294967295|P>>>27),P=j+(I^M&(T^I))+x[2]+4243563512&4294967295,j=T+(P<<9&4294967295|P>>>23),P=M+(T^I&(j^T))+x[7]+1735328473&4294967295,M=j+(P<<14&4294967295|P>>>18),P=I+(j^T&(M^j))+x[12]+2368359562&4294967295,I=M+(P<<20&4294967295|P>>>12),P=T+(I^M^j)+x[5]+4294588738&4294967295,T=I+(P<<4&4294967295|P>>>28),P=j+(T^I^M)+x[8]+2272392833&4294967295,j=T+(P<<11&4294967295|P>>>21),P=M+(j^T^I)+x[11]+1839030562&4294967295,M=j+(P<<16&4294967295|P>>>16),P=I+(M^j^T)+x[14]+4259657740&4294967295,I=M+(P<<23&4294967295|P>>>9),P=T+(I^M^j)+x[1]+2763975236&4294967295,T=I+(P<<4&4294967295|P>>>28),P=j+(T^I^M)+x[4]+1272893353&4294967295,j=T+(P<<11&4294967295|P>>>21),P=M+(j^T^I)+x[7]+4139469664&4294967295,M=j+(P<<16&4294967295|P>>>16),P=I+(M^j^T)+x[10]+3200236656&4294967295,I=M+(P<<23&4294967295|P>>>9),P=T+(I^M^j)+x[13]+681279174&4294967295,T=I+(P<<4&4294967295|P>>>28),P=j+(T^I^M)+x[0]+3936430074&4294967295,j=T+(P<<11&4294967295|P>>>21),P=M+(j^T^I)+x[3]+3572445317&4294967295,M=j+(P<<16&4294967295|P>>>16),P=I+(M^j^T)+x[6]+76029189&4294967295,I=M+(P<<23&4294967295|P>>>9),P=T+(I^M^j)+x[9]+3654602809&4294967295,T=I+(P<<4&4294967295|P>>>28),P=j+(T^I^M)+x[12]+3873151461&4294967295,j=T+(P<<11&4294967295|P>>>21),P=M+(j^T^I)+x[15]+530742520&4294967295,M=j+(P<<16&4294967295|P>>>16),P=I+(M^j^T)+x[2]+3299628645&4294967295,I=M+(P<<23&4294967295|P>>>9),P=T+(M^(I|~j))+x[0]+4096336452&4294967295,T=I+(P<<6&4294967295|P>>>26),P=j+(I^(T|~M))+x[7]+1126891415&4294967295,j=T+(P<<10&4294967295|P>>>22),P=M+(T^(j|~I))+x[14]+2878612391&4294967295,M=j+(P<<15&4294967295|P>>>17),P=I+(j^(M|~T))+x[5]+4237533241&4294967295,I=M+(P<<21&4294967295|P>>>11),P=T+(M^(I|~j))+x[12]+1700485571&4294967295,T=I+(P<<6&4294967295|P>>>26),P=j+(I^(T|~M))+x[3]+2399980690&4294967295,j=T+(P<<10&4294967295|P>>>22),P=M+(T^(j|~I))+x[10]+4293915773&4294967295,M=j+(P<<15&4294967295|P>>>17),P=I+(j^(M|~T))+x[1]+2240044497&4294967295,I=M+(P<<21&4294967295|P>>>11),P=T+(M^(I|~j))+x[8]+1873313359&4294967295,T=I+(P<<6&4294967295|P>>>26),P=j+(I^(T|~M))+x[15]+4264355552&4294967295,j=T+(P<<10&4294967295|P>>>22),P=M+(T^(j|~I))+x[6]+2734768916&4294967295,M=j+(P<<15&4294967295|P>>>17),P=I+(j^(M|~T))+x[13]+1309151649&4294967295,I=M+(P<<21&4294967295|P>>>11),P=T+(M^(I|~j))+x[4]+4149444226&4294967295,T=I+(P<<6&4294967295|P>>>26),P=j+(I^(T|~M))+x[11]+3174756917&4294967295,j=T+(P<<10&4294967295|P>>>22),P=M+(T^(j|~I))+x[2]+718787259&4294967295,M=j+(P<<15&4294967295|P>>>17),P=I+(j^(M|~T))+x[9]+3951481745&4294967295,k.g[0]=k.g[0]+T&4294967295,k.g[1]=k.g[1]+(M+(P<<21&4294967295|P>>>11))&4294967295,k.g[2]=k.g[2]+M&4294967295,k.g[3]=k.g[3]+j&4294967295}o.prototype.u=function(k,T){T===void 0&&(T=k.length);for(var I=T-this.blockSize,x=this.B,M=this.h,j=0;j<T;){if(M==0)for(;j<=I;)s(this,k,j),j+=this.blockSize;if(typeof k=="string"){for(;j<T;)if(x[M++]=k.charCodeAt(j++),M==this.blockSize){s(this,x),M=0;break}}else for(;j<T;)if(x[M++]=k[j++],M==this.blockSize){s(this,x),M=0;break}}this.h=M,this.o+=T},o.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var T=1;T<k.length-8;++T)k[T]=0;var I=8*this.o;for(T=k.length-8;T<k.length;++T)k[T]=I&255,I/=256;for(this.u(k),k=Array(16),T=I=0;4>T;++T)for(var x=0;32>x;x+=8)k[I++]=this.g[T]>>>x&255;return k};function l(k,T){var I=f;return Object.prototype.hasOwnProperty.call(I,k)?I[k]:I[k]=T(k)}function h(k,T){this.h=T;for(var I=[],x=!0,M=k.length-1;0<=M;M--){var j=k[M]|0;x&&j==T||(I[M]=j,x=!1)}this.g=I}var f={};function p(k){return-128<=k&&128>k?l(k,function(T){return new h([T|0],0>T?-1:0)}):new h([k|0],0>k?-1:0)}function y(k){if(isNaN(k)||!isFinite(k))return S;if(0>k)return O(y(-k));for(var T=[],I=1,x=0;k>=I;x++)T[x]=k/I|0,I*=4294967296;return new h(T,0)}function _(k,T){if(k.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(k.charAt(0)=="-")return O(_(k.substring(1),T));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=y(Math.pow(T,8)),x=S,M=0;M<k.length;M+=8){var j=Math.min(8,k.length-M),P=parseInt(k.substring(M,M+j),T);8>j?(j=y(Math.pow(T,j)),x=x.j(j).add(y(P))):(x=x.j(I),x=x.add(y(P)))}return x}var S=p(0),R=p(1),C=p(16777216);n=h.prototype,n.m=function(){if(z(this))return-O(this).m();for(var k=0,T=1,I=0;I<this.g.length;I++){var x=this.i(I);k+=(0<=x?x:4294967296+x)*T,T*=4294967296}return k},n.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(D(this))return"0";if(z(this))return"-"+O(this).toString(k);for(var T=y(Math.pow(k,6)),I=this,x="";;){var M=ne(I,T).g;I=B(I,M.j(T));var j=((0<I.g.length?I.g[0]:I.h)>>>0).toString(k);if(I=M,D(I))return j+x;for(;6>j.length;)j="0"+j;x=j+x}},n.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function D(k){if(k.h!=0)return!1;for(var T=0;T<k.g.length;T++)if(k.g[T]!=0)return!1;return!0}function z(k){return k.h==-1}n.l=function(k){return k=B(this,k),z(k)?-1:D(k)?0:1};function O(k){for(var T=k.g.length,I=[],x=0;x<T;x++)I[x]=~k.g[x];return new h(I,~k.h).add(R)}n.abs=function(){return z(this)?O(this):this},n.add=function(k){for(var T=Math.max(this.g.length,k.g.length),I=[],x=0,M=0;M<=T;M++){var j=x+(this.i(M)&65535)+(k.i(M)&65535),P=(j>>>16)+(this.i(M)>>>16)+(k.i(M)>>>16);x=P>>>16,j&=65535,P&=65535,I[M]=P<<16|j}return new h(I,I[I.length-1]&-2147483648?-1:0)};function B(k,T){return k.add(O(T))}n.j=function(k){if(D(this)||D(k))return S;if(z(this))return z(k)?O(this).j(O(k)):O(O(this).j(k));if(z(k))return O(this.j(O(k)));if(0>this.l(C)&&0>k.l(C))return y(this.m()*k.m());for(var T=this.g.length+k.g.length,I=[],x=0;x<2*T;x++)I[x]=0;for(x=0;x<this.g.length;x++)for(var M=0;M<k.g.length;M++){var j=this.i(x)>>>16,P=this.i(x)&65535,ct=k.i(M)>>>16,We=k.i(M)&65535;I[2*x+2*M]+=P*We,J(I,2*x+2*M),I[2*x+2*M+1]+=j*We,J(I,2*x+2*M+1),I[2*x+2*M+1]+=P*ct,J(I,2*x+2*M+1),I[2*x+2*M+2]+=j*ct,J(I,2*x+2*M+2)}for(x=0;x<T;x++)I[x]=I[2*x+1]<<16|I[2*x];for(x=T;x<2*T;x++)I[x]=0;return new h(I,0)};function J(k,T){for(;(k[T]&65535)!=k[T];)k[T+1]+=k[T]>>>16,k[T]&=65535,T++}function Y(k,T){this.g=k,this.h=T}function ne(k,T){if(D(T))throw Error("division by zero");if(D(k))return new Y(S,S);if(z(k))return T=ne(O(k),T),new Y(O(T.g),O(T.h));if(z(T))return T=ne(k,O(T)),new Y(O(T.g),T.h);if(30<k.g.length){if(z(k)||z(T))throw Error("slowDivide_ only works with positive integers.");for(var I=R,x=T;0>=x.l(k);)I=L(I),x=L(x);var M=ie(I,1),j=ie(x,1);for(x=ie(x,2),I=ie(I,2);!D(x);){var P=j.add(x);0>=P.l(k)&&(M=M.add(I),j=P),x=ie(x,1),I=ie(I,1)}return T=B(k,M.j(T)),new Y(M,T)}for(M=S;0<=k.l(T);){for(I=Math.max(1,Math.floor(k.m()/T.m())),x=Math.ceil(Math.log(I)/Math.LN2),x=48>=x?1:Math.pow(2,x-48),j=y(I),P=j.j(T);z(P)||0<P.l(k);)I-=x,j=y(I),P=j.j(T);D(j)&&(j=R),M=M.add(j),k=B(k,P)}return new Y(M,k)}n.A=function(k){return ne(this,k).h},n.and=function(k){for(var T=Math.max(this.g.length,k.g.length),I=[],x=0;x<T;x++)I[x]=this.i(x)&k.i(x);return new h(I,this.h&k.h)},n.or=function(k){for(var T=Math.max(this.g.length,k.g.length),I=[],x=0;x<T;x++)I[x]=this.i(x)|k.i(x);return new h(I,this.h|k.h)},n.xor=function(k){for(var T=Math.max(this.g.length,k.g.length),I=[],x=0;x<T;x++)I[x]=this.i(x)^k.i(x);return new h(I,this.h^k.h)};function L(k){for(var T=k.g.length+1,I=[],x=0;x<T;x++)I[x]=k.i(x)<<1|k.i(x-1)>>>31;return new h(I,k.h)}function ie(k,T){var I=T>>5;T%=32;for(var x=k.g.length-I,M=[],j=0;j<x;j++)M[j]=0<T?k.i(j+I)>>>T|k.i(j+I+1)<<32-T:k.i(j+I);return new h(M,k.h)}o.prototype.digest=o.prototype.v,o.prototype.reset=o.prototype.s,o.prototype.update=o.prototype.u,wv=o,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=y,h.fromString=_,Mo=h}).apply(typeof Bg<"u"?Bg:typeof self<"u"?self:typeof window<"u"?window:{});var _u=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Tv,Na,Sv,Pu,Ld,Rv,Iv,Cv;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,v){return u==Array.prototype||u==Object.prototype||(u[m]=v.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof _u=="object"&&_u];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var o=t(this);function s(u,m){if(m)e:{var v=o;u=u.split(".");for(var w=0;w<u.length-1;w++){var $=u[w];if(!($ in v))break e;v=v[$]}u=u[u.length-1],w=v[u],m=m(w),m!=w&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}function l(u,m){u instanceof String&&(u+="");var v=0,w=!1,$={next:function(){if(!w&&v<u.length){var G=v++;return{value:m(G,u[G]),done:!1}}return w=!0,{done:!0,value:void 0}}};return $[Symbol.iterator]=function(){return $},$}s("Array.prototype.values",function(u){return u||function(){return l(this,function(m,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},f=this||self;function p(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,v){return u.call.apply(u.bind,arguments)}function S(u,m,v){if(!u)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var $=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply($,w),u.apply(m,$)}}return function(){return u.apply(m,arguments)}}function R(u,m,v){return R=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:S,R.apply(null,arguments)}function C(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var w=v.slice();return w.push.apply(w,arguments),u.apply(this,w)}}function D(u,m){function v(){}v.prototype=m.prototype,u.aa=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Qb=function(w,$,G){for(var ce=Array(arguments.length-2),lt=2;lt<arguments.length;lt++)ce[lt-2]=arguments[lt];return m.prototype[$].apply(w,ce)}}function z(u){const m=u.length;if(0<m){const v=Array(m);for(let w=0;w<m;w++)v[w]=u[w];return v}return[]}function O(u,m){for(let v=1;v<arguments.length;v++){const w=arguments[v];if(p(w)){const $=u.length||0,G=w.length||0;u.length=$+G;for(let ce=0;ce<G;ce++)u[$+ce]=w[ce]}else u.push(w)}}class B{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function J(u){return/^[\s\xa0]*$/.test(u)}function Y(){var u=f.navigator;return u&&(u=u.userAgent)?u:""}function ne(u){return ne[" "](u),u}ne[" "]=function(){};var L=Y().indexOf("Gecko")!=-1&&!(Y().toLowerCase().indexOf("webkit")!=-1&&Y().indexOf("Edge")==-1)&&!(Y().indexOf("Trident")!=-1||Y().indexOf("MSIE")!=-1)&&Y().indexOf("Edge")==-1;function ie(u,m,v){for(const w in u)m.call(v,u[w],w,u)}function k(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function T(u){const m={};for(const v in u)m[v]=u[v];return m}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(u,m){let v,w;for(let $=1;$<arguments.length;$++){w=arguments[$];for(v in w)u[v]=w[v];for(let G=0;G<I.length;G++)v=I[G],Object.prototype.hasOwnProperty.call(w,v)&&(u[v]=w[v])}}function M(u){var m=1;u=u.split(":");const v=[];for(;0<m&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function j(u){f.setTimeout(()=>{throw u},0)}function P(){var u=Te;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class ct{constructor(){this.h=this.g=null}add(m,v){const w=We.get();w.set(m,v),this.h?this.h.next=w:this.g=w,this.h=w}}var We=new B(()=>new Ct,u=>u.reset());class Ct{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Ke,le=!1,Te=new ct,de=()=>{const u=f.Promise.resolve(void 0);Ke=()=>{u.then(F)}};var F=()=>{for(var u;u=P();){try{u.h.call(u.g)}catch(v){j(v)}var m=We;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}le=!1};function X(){this.s=this.s,this.C=this.C}X.prototype.s=!1,X.prototype.ma=function(){this.s||(this.s=!0,this.N())},X.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ee(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}Ee.prototype.h=function(){this.defaultPrevented=!0};var Me=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};f.addEventListener("test",v,m),f.removeEventListener("test",v,m)}catch{}return u}();function Ve(u,m){if(Ee.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var v=this.type=u.type,w=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(L){e:{try{ne(m.nodeName);var $=!0;break e}catch{}$=!1}$||(m=null)}}else v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement);this.relatedTarget=m,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:je[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Ve.aa.h.call(this)}}D(Ve,Ee);var je={2:"touch",3:"pen",4:"mouse"};Ve.prototype.h=function(){Ve.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Je="closure_listenable_"+(1e6*Math.random()|0),Ze=0;function be(u,m,v,w,$){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!w,this.ha=$,this.key=++Ze,this.da=this.fa=!1}function dt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Bn(u){this.src=u,this.g={},this.h=0}Bn.prototype.add=function(u,m,v,w,$){var G=u.toString();u=this.g[G],u||(u=this.g[G]=[],this.h++);var ce=nn(u,m,w,$);return-1<ce?(m=u[ce],v||(m.fa=!1)):(m=new be(m,this.src,G,!!w,$),m.fa=v,u.push(m)),m};function yi(u,m){var v=m.type;if(v in u.g){var w=u.g[v],$=Array.prototype.indexOf.call(w,m,void 0),G;(G=0<=$)&&Array.prototype.splice.call(w,$,1),G&&(dt(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function nn(u,m,v,w){for(var $=0;$<u.length;++$){var G=u[$];if(!G.da&&G.listener==m&&G.capture==!!v&&G.ha==w)return $}return-1}var Wr="closure_lm_"+(1e6*Math.random()|0),vi={};function _i(u,m,v,w,$){if(Array.isArray(m)){for(var G=0;G<m.length;G++)_i(u,m[G],v,w,$);return null}return v=vn(v),u&&u[Je]?u.K(m,v,y(w)?!!w.capture:!!w,$):ao(u,m,v,!1,w,$)}function ao(u,m,v,w,$,G){if(!m)throw Error("Invalid event type");var ce=y($)?!!$.capture:!!$,lt=Kr(u);if(lt||(u[Wr]=lt=new Bn(u)),v=lt.add(m,v,w,ce,G),v.proxy)return v;if(w=Ko(),v.proxy=w,w.src=u,w.listener=v,u.addEventListener)Me||($=ce),$===void 0&&($=!1),u.addEventListener(m.toString(),w,$);else if(u.attachEvent)u.attachEvent(Ht(m.toString()),w);else if(u.addListener&&u.removeListener)u.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Ko(){function u(v){return m.call(u.src,u.listener,v)}const m=tr;return u}function Ei(u,m,v,w,$){if(Array.isArray(m))for(var G=0;G<m.length;G++)Ei(u,m[G],v,w,$);else w=y(w)?!!w.capture:!!w,v=vn(v),u&&u[Je]?(u=u.i,m=String(m).toString(),m in u.g&&(G=u.g[m],v=nn(G,v,w,$),-1<v&&(dt(G[v]),Array.prototype.splice.call(G,v,1),G.length==0&&(delete u.g[m],u.h--)))):u&&(u=Kr(u))&&(m=u.g[m.toString()],u=-1,m&&(u=nn(m,v,w,$)),(v=-1<u?m[u]:null)&&er(v))}function er(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Je])yi(m.i,u);else{var v=u.type,w=u.proxy;m.removeEventListener?m.removeEventListener(v,w,u.capture):m.detachEvent?m.detachEvent(Ht(v),w):m.addListener&&m.removeListener&&m.removeListener(w),(v=Kr(m))?(yi(v,u),v.h==0&&(v.src=null,m[Wr]=null)):dt(u)}}}function Ht(u){return u in vi?vi[u]:vi[u]="on"+u}function tr(u,m){if(u.da)u=!0;else{m=new Ve(m,this);var v=u.listener,w=u.ha||u.src;u.fa&&er(u),u=v.call(w,m)}return u}function Kr(u){return u=u[Wr],u instanceof Bn?u:null}var Cr="__closure_events_fn_"+(1e9*Math.random()>>>0);function vn(u){return typeof u=="function"?u:(u[Cr]||(u[Cr]=function(m){return u.handleEvent(m)}),u[Cr])}function at(){X.call(this),this.i=new Bn(this),this.M=this,this.F=null}D(at,X),at.prototype[Je]=!0,at.prototype.removeEventListener=function(u,m,v,w){Ei(this,u,m,v,w)};function St(u,m){var v,w=u.F;if(w)for(v=[];w;w=w.F)v.push(w);if(u=u.M,w=m.type||m,typeof m=="string")m=new Ee(m,u);else if(m instanceof Ee)m.target=m.target||u;else{var $=m;m=new Ee(w,u),x(m,$)}if($=!0,v)for(var G=v.length-1;0<=G;G--){var ce=m.g=v[G];$=xn(ce,w,!0,m)&&$}if(ce=m.g=u,$=xn(ce,w,!0,m)&&$,$=xn(ce,w,!1,m)&&$,v)for(G=0;G<v.length;G++)ce=m.g=v[G],$=xn(ce,w,!1,m)&&$}at.prototype.N=function(){if(at.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var v=u.g[m],w=0;w<v.length;w++)dt(v[w]);delete u.g[m],u.h--}}this.F=null},at.prototype.K=function(u,m,v,w){return this.i.add(String(u),m,!1,v,w)},at.prototype.L=function(u,m,v,w){return this.i.add(String(u),m,!0,v,w)};function xn(u,m,v,w){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var $=!0,G=0;G<m.length;++G){var ce=m[G];if(ce&&!ce.da&&ce.capture==v){var lt=ce.listener,Nt=ce.ha||ce.src;ce.fa&&yi(u.i,ce),$=lt.call(Nt,w)!==!1&&$}}return $&&!w.defaultPrevented}function lo(u,m,v){if(typeof u=="function")v&&(u=R(u,v));else if(u&&typeof u.handleEvent=="function")u=R(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:f.setTimeout(u,m||0)}function qt(u){u.g=lo(()=>{u.g=null,u.i&&(u.i=!1,qt(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Ar extends X{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:qt(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Pr(u){X.call(this),this.h=u,this.g={}}D(Pr,X);var wi=[];function uo(u){ie(u.g,function(m,v){this.g.hasOwnProperty(v)&&er(m)},u),u.g={}}Pr.prototype.N=function(){Pr.aa.N.call(this),uo(this)},Pr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ti=f.JSON.stringify,kr=f.JSON.parse,Si=class{stringify(u){return f.JSON.stringify(u,void 0)}parse(u){return f.JSON.parse(u,void 0)}};function nr(){}nr.prototype.h=null;function Ri(u){return u.h||(u.h=u.i())}function Qr(){}var _n={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Dn(){Ee.call(this,"d")}D(Dn,Ee);function rr(){Ee.call(this,"c")}D(rr,Ee);var fn={},co=null;function Gr(){return co=co||new at}fn.La="serverreachability";function V(u){Ee.call(this,fn.La,u)}D(V,Ee);function U(u){const m=Gr();St(m,new V(m))}fn.STAT_EVENT="statevent";function Q(u,m){Ee.call(this,fn.STAT_EVENT,u),this.stat=m}D(Q,Ee);function Z(u){const m=Gr();St(m,new Q(m,u))}fn.Ma="timingevent";function fe(u,m){Ee.call(this,fn.Ma,u),this.size=m}D(fe,Ee);function ye(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){u()},m)}function Ce(){this.g=!0}Ce.prototype.xa=function(){this.g=!1};function pe(u,m,v,w,$,G){u.info(function(){if(u.g)if(G)for(var ce="",lt=G.split("&"),Nt=0;Nt<lt.length;Nt++){var Ge=lt[Nt].split("=");if(1<Ge.length){var Ft=Ge[0];Ge=Ge[1];var kt=Ft.split("_");ce=2<=kt.length&&kt[1]=="type"?ce+(Ft+"="+Ge+"&"):ce+(Ft+"=redacted&")}}else ce=null;else ce=G;return"XMLHTTP REQ ("+w+") [attempt "+$+"]: "+m+`
`+v+`
`+ce})}function _e(u,m,v,w,$,G,ce){u.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+$+"]: "+m+`
`+v+`
`+G+" "+ce})}function ue(u,m,v,w){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Fe(u,v)+(w?" "+w:"")})}function xe(u,m){u.info(function(){return"TIMEOUT: "+m})}Ce.prototype.info=function(){};function Fe(u,m){if(!u.g)return m;if(!m)return null;try{var v=JSON.parse(m);if(v){for(u=0;u<v.length;u++)if(Array.isArray(v[u])){var w=v[u];if(!(2>w.length)){var $=w[1];if(Array.isArray($)&&!(1>$.length)){var G=$[0];if(G!="noop"&&G!="stop"&&G!="close")for(var ce=1;ce<$.length;ce++)$[ce]=""}}}}return Ti(v)}catch{return m}}var rt={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Rt={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Be;function et(){}D(et,nr),et.prototype.g=function(){return new XMLHttpRequest},et.prototype.i=function(){return{}},Be=new et;function it(u,m,v,w){this.j=u,this.i=m,this.l=v,this.R=w||1,this.U=new Pr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ir}function ir(){this.i=null,this.g="",this.h=!1}var or={},rn={};function Wt(u,m,v){u.L=1,u.v=Pi(Nn(m)),u.m=v,u.P=!0,Yr(u,null)}function Yr(u,m){u.F=Date.now(),ot(u),u.A=Nn(u.v);var v=u.A,w=u.R;Array.isArray(w)||(w=[String(w)]),xi(v.i,"t",w),u.C=0,v=u.j.J,u.h=new ir,u.g=El(u.j,v?m:null,!u.m),0<u.O&&(u.M=new Ar(R(u.Y,u,u.g),u.O)),m=u.U,v=u.g,w=u.ca;var $="readystatechange";Array.isArray($)||($&&(wi[0]=$.toString()),$=wi);for(var G=0;G<$.length;G++){var ce=_i(v,$[G],w||m.handleEvent,!1,m.h||m);if(!ce)break;m.g[ce.key]=ce}m=u.H?T(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),U(),pe(u.i,u.u,u.A,u.l,u.R,u.m)}it.prototype.ca=function(u){u=u.target;const m=this.M;m&&Tn(u)==3?m.j():this.Y(u)},it.prototype.Y=function(u){try{if(u==this.g)e:{const kt=Tn(this.g);var m=this.g.Ba();const Hn=this.g.Z();if(!(3>kt)&&(kt!=3||this.g&&(this.h.h||this.g.oa()||Js(this.g)))){this.J||kt!=4||m==7||(m==8||0>=Hn?U(3):U(2)),Qe(this);var v=this.g.Z();this.X=v;t:if(xr(this)){var w=Js(this.g);u="";var $=w.length,G=Tn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Kt(this),ft(this);var ce="";break t}this.h.i=new f.TextDecoder}for(m=0;m<$;m++)this.h.h=!0,u+=this.h.i.decode(w[m],{stream:!(G&&m==$-1)});w.length=0,this.h.g+=u,this.C=0,ce=this.h.g}else ce=this.g.oa();if(this.o=v==200,_e(this.i,this.u,this.A,this.l,this.R,kt,v),this.o){if(this.T&&!this.K){t:{if(this.g){var lt,Nt=this.g;if((lt=Nt.g?Nt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!J(lt)){var Ge=lt;break t}}Ge=null}if(v=Ge)ue(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ar(this,v);else{this.o=!1,this.s=3,Z(12),Kt(this),ft(this);break e}}if(this.P){v=!0;let Ln;for(;!this.J&&this.C<ce.length;)if(Ln=sr(this,ce),Ln==rn){kt==4&&(this.s=4,Z(14),v=!1),ue(this.i,this.l,null,"[Incomplete Response]");break}else if(Ln==or){this.s=4,Z(15),ue(this.i,this.l,ce,"[Invalid Chunk]"),v=!1;break}else ue(this.i,this.l,Ln,null),ar(this,Ln);if(xr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),kt!=4||ce.length!=0||this.h.h||(this.s=1,Z(16),v=!1),this.o=this.o&&v,!v)ue(this.i,this.l,ce,"[Invalid Chunked Response]"),Kt(this),ft(this);else if(0<ce.length&&!this.W){this.W=!0;var Ft=this.j;Ft.g==this&&Ft.ba&&!Ft.M&&(Ft.j.info("Great, no buffering proxy detected. Bytes received: "+ce.length),ea(Ft),Ft.M=!0,Z(11))}}else ue(this.i,this.l,ce,null),ar(this,ce);kt==4&&Kt(this),this.o&&!this.J&&(kt==4?os(this.j,this):(this.o=!1,ot(this)))}else es(this.g),v==400&&0<ce.indexOf("Unknown SID")?(this.s=3,Z(12)):(this.s=0,Z(13)),Kt(this),ft(this)}}}catch{}finally{}};function xr(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function sr(u,m){var v=u.C,w=m.indexOf(`
`,v);return w==-1?rn:(v=Number(m.substring(v,w)),isNaN(v)?or:(w+=1,w+v>m.length?rn:(m=m.slice(w,w+v),u.C=w+v,m)))}it.prototype.cancel=function(){this.J=!0,Kt(this)};function ot(u){u.S=Date.now()+u.I,Xr(u,u.I)}function Xr(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=ye(R(u.ba,u),m)}function Qe(u){u.B&&(f.clearTimeout(u.B),u.B=null)}it.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(xe(this.i,this.A),this.L!=2&&(U(),Z(17)),Kt(this),this.s=2,ft(this)):Xr(this,this.S-u)};function ft(u){u.j.G==0||u.J||os(u.j,u)}function Kt(u){Qe(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,uo(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function ar(u,m){try{var v=u.j;if(v.G!=0&&(v.g==u||pn(v.h,u))){if(!u.K&&pn(v.h,u)&&v.G==3){try{var w=v.Da.g.parse(m)}catch{w=null}if(Array.isArray(w)&&w.length==3){var $=w;if($[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<u.F)is(v),dr(v);else break e;rs(v),Z(18)}}else v.za=$[1],0<v.za-v.T&&37500>$[2]&&v.F&&v.v==0&&!v.C&&(v.C=ye(R(v.Za,v),6e3));if(1>=Qo(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else ni(v,11)}else if((u.K||v.g==u)&&is(v),!J(m))for($=v.Da.g.parse(m),m=0;m<$.length;m++){let Ge=$[m];if(v.T=Ge[0],Ge=Ge[1],v.G==2)if(Ge[0]=="c"){v.K=Ge[1],v.ia=Ge[2];const Ft=Ge[3];Ft!=null&&(v.la=Ft,v.j.info("VER="+v.la));const kt=Ge[4];kt!=null&&(v.Aa=kt,v.j.info("SVER="+v.Aa));const Hn=Ge[5];Hn!=null&&typeof Hn=="number"&&0<Hn&&(w=1.5*Hn,v.L=w,v.j.info("backChannelRequestTimeoutMs_="+w)),w=v;const Ln=u.g;if(Ln){const yo=Ln.g?Ln.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(yo){var G=w.h;G.g||yo.indexOf("spdy")==-1&&yo.indexOf("quic")==-1&&yo.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(Qs(G,G.h),G.h=null))}if(w.D){const as=Ln.g?Ln.g.getResponseHeader("X-HTTP-Session-Id"):null;as&&(w.ya=as,ut(w.I,w.D,as))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-u.F,v.j.info("Handshake RTT: "+v.R+"ms")),w=v;var ce=u;if(w.qa=_l(w,w.J?w.ia:null,w.W),ce.K){al(w.h,ce);var lt=ce,Nt=w.L;Nt&&(lt.I=Nt),lt.B&&(Qe(lt),ot(lt)),w.g=ce}else go(w);0<v.i.length&&Lr(v)}else Ge[0]!="stop"&&Ge[0]!="close"||ni(v,7);else v.G==3&&(Ge[0]=="stop"||Ge[0]=="close"?Ge[0]=="stop"?ni(v,7):Gt(v):Ge[0]!="noop"&&v.l&&v.l.ta(Ge),v.v=0)}}U(4)}catch{}}var pt=class{constructor(u,m){this.g=u,this.map=m}};function En(u){this.l=u||10,f.PerformanceNavigationTiming?(u=f.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function on(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Qo(u){return u.h?1:u.g?u.g.size:0}function pn(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Qs(u,m){u.g?u.g.add(m):u.h=m}function al(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}En.prototype.cancel=function(){if(this.i=ll(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function ll(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.D);return m}return z(u.i)}function Go(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var m=[],v=u.length,w=0;w<v;w++)m.push(u[w]);return m}m=[],v=0;for(w in u)m[v++]=u[w];return m}function Yo(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var m=[];u=u.length;for(var v=0;v<u;v++)m.push(v);return m}m=[],v=0;for(const w in u)m[v++]=w;return m}}}function Ii(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var v=Yo(u),w=Go(u),$=w.length,G=0;G<$;G++)m.call(void 0,w[G],v&&v[G],u)}var ho=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ic(u,m){if(u){u=u.split("&");for(var v=0;v<u.length;v++){var w=u[v].indexOf("="),$=null;if(0<=w){var G=u[v].substring(0,w);$=u[v].substring(w+1)}else G=u[v];m(G,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function Jr(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Jr){this.h=u.h,fo(this,u.j),this.o=u.o,this.g=u.g,Ci(this,u.s),this.l=u.l;var m=u.i,v=new Dr;v.i=m.i,m.g&&(v.g=new Map(m.g),v.h=m.h),Ai(this,v),this.m=u.m}else u&&(m=String(u).match(ho))?(this.h=!1,fo(this,m[1]||"",!0),this.o=$e(m[2]||""),this.g=$e(m[3]||"",!0),Ci(this,m[4]),this.l=$e(m[5]||"",!0),Ai(this,m[6]||"",!0),this.m=$e(m[7]||"")):(this.h=!1,this.i=new Dr(null,this.h))}Jr.prototype.toString=function(){var u=[],m=this.j;m&&u.push(ki(m,Xo,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(ki(m,Xo,!0),"@"),u.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&u.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(ki(v,v.charAt(0)=="/"?hl:cl,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",ki(v,Gs)),u.join("")};function Nn(u){return new Jr(u)}function fo(u,m,v){u.j=v?$e(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Ci(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function Ai(u,m,v){m instanceof Dr?(u.i=m,Nr(u.i,u.h)):(v||(m=ki(m,dl)),u.i=new Dr(m,u.h))}function ut(u,m,v){u.i.set(m,v)}function Pi(u){return ut(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function $e(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function ki(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,ul),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function ul(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Xo=/[#\/\?@]/g,cl=/[#\?:]/g,hl=/[#\?]/g,dl=/[#\?@]/g,Gs=/#/g;function Dr(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Qt(u){u.g||(u.g=new Map,u.h=0,u.i&&Ic(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}n=Dr.prototype,n.add=function(u,m){Qt(this),this.i=null,u=$n(this,u);var v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function lr(u,m){Qt(u),m=$n(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function ur(u,m){return Qt(u),m=$n(u,m),u.g.has(m)}n.forEach=function(u,m){Qt(this),this.g.forEach(function(v,w){v.forEach(function($){u.call(m,$,w,this)},this)},this)},n.na=function(){Qt(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),v=[];for(let w=0;w<m.length;w++){const $=u[w];for(let G=0;G<$.length;G++)v.push(m[w])}return v},n.V=function(u){Qt(this);let m=[];if(typeof u=="string")ur(this,u)&&(m=m.concat(this.g.get($n(this,u))));else{u=Array.from(this.g.values());for(let v=0;v<u.length;v++)m=m.concat(u[v])}return m},n.set=function(u,m){return Qt(this),this.i=null,u=$n(this,u),ur(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},n.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function xi(u,m,v){lr(u,m),0<v.length&&(u.i=null,u.g.set($n(u,m),z(v)),u.h+=v.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var v=0;v<m.length;v++){var w=m[v];const G=encodeURIComponent(String(w)),ce=this.V(w);for(w=0;w<ce.length;w++){var $=G;ce[w]!==""&&($+="="+encodeURIComponent(String(ce[w]))),u.push($)}}return this.i=u.join("&")};function $n(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Nr(u,m){m&&!u.j&&(Qt(u),u.i=null,u.g.forEach(function(v,w){var $=w.toLowerCase();w!=$&&(lr(this,w),xi(this,$,v))},u)),u.j=m}function Cc(u,m){const v=new Ce;if(f.Image){const w=new Image;w.onload=C(wn,v,"TestLoadImage: loaded",!0,m,w),w.onerror=C(wn,v,"TestLoadImage: error",!1,m,w),w.onabort=C(wn,v,"TestLoadImage: abort",!1,m,w),w.ontimeout=C(wn,v,"TestLoadImage: timeout",!1,m,w),f.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=u}else m(!1)}function fl(u,m){const v=new Ce,w=new AbortController,$=setTimeout(()=>{w.abort(),wn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:w.signal}).then(G=>{clearTimeout($),G.ok?wn(v,"TestPingServer: ok",!0,m):wn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout($),wn(v,"TestPingServer: error",!1,m)})}function wn(u,m,v,w,$){try{$&&($.onload=null,$.onerror=null,$.onabort=null,$.ontimeout=null),w(v)}catch{}}function Ac(){this.g=new Si}function pl(u,m,v){const w=v||"";try{Ii(u,function($,G){let ce=$;y($)&&(ce=Ti($)),m.push(w+G+"="+encodeURIComponent(ce))})}catch($){throw m.push(w+"type="+encodeURIComponent("_badmap")),$}}function Zr(u){this.l=u.Ub||null,this.j=u.eb||!1}D(Zr,nr),Zr.prototype.g=function(){return new po(this.l,this.j)},Zr.prototype.i=function(u){return function(){return u}}({});function po(u,m){at.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}D(po,at),n=po.prototype,n.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,hr(this)},n.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||f).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,cr(this)),this.readyState=0},n.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,hr(this)),this.g&&(this.readyState=3,hr(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ml(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function ml(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}n.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?cr(this):hr(this),this.readyState==3&&ml(this)}},n.Ra=function(u){this.g&&(this.response=this.responseText=u,cr(this))},n.Qa=function(u){this.g&&(this.response=u,cr(this))},n.ga=function(){this.g&&cr(this)};function cr(u){u.readyState=4,u.l=null,u.j=null,u.v=null,hr(u)}n.setRequestHeader=function(u,m){this.u.append(u,m)},n.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function hr(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(po.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function ei(u){let m="";return ie(u,function(v,w){m+=w,m+=":",m+=v,m+=`\r
`}),m}function Di(u,m,v){e:{for(w in v){var w=!1;break e}w=!0}w||(v=ei(v),typeof u=="string"?v!=null&&encodeURIComponent(String(v)):ut(u,m,v))}function yt(u){at.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}D(yt,at);var Pc=/^https?$/i,Ys=["POST","PUT"];n=yt.prototype,n.Ha=function(u){this.J=u},n.ea=function(u,m,v,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Be.g(),this.v=this.o?Ri(this.o):Ri(Be),this.g.onreadystatechange=R(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(G){mo(this,G);return}if(u=v||"",v=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var $ in w)v.set($,w[$]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const G of w.keys())v.set(G,w.get(G));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(v.keys()).find(G=>G.toLowerCase()=="content-type"),$=f.FormData&&u instanceof f.FormData,!(0<=Array.prototype.indexOf.call(Ys,m,void 0))||w||$||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,ce]of v)this.g.setRequestHeader(G,ce);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Zo(this),this.u=!0,this.g.send(u),this.u=!1}catch(G){mo(this,G)}};function mo(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,Jo(u),Vn(u)}function Jo(u){u.A||(u.A=!0,St(u,"complete"),St(u,"error"))}n.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,St(this,"complete"),St(this,"abort"),Vn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Vn(this,!0)),yt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Xs(this):this.bb())},n.bb=function(){Xs(this)};function Xs(u){if(u.h&&typeof h<"u"&&(!u.v[1]||Tn(u)!=4||u.Z()!=2)){if(u.u&&Tn(u)==4)lo(u.Ea,0,u);else if(St(u,"readystatechange"),Tn(u)==4){u.h=!1;try{const ce=u.Z();e:switch(ce){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var w;if(w=ce===0){var $=String(u.D).match(ho)[1]||null;!$&&f.self&&f.self.location&&($=f.self.location.protocol.slice(0,-1)),w=!Pc.test($?$.toLowerCase():"")}v=w}if(v)St(u,"complete"),St(u,"success");else{u.m=6;try{var G=2<Tn(u)?u.g.statusText:""}catch{G=""}u.l=G+" ["+u.Z()+"]",Jo(u)}}finally{Vn(u)}}}}function Vn(u,m){if(u.g){Zo(u);const v=u.g,w=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||St(u,"ready");try{v.onreadystatechange=w}catch{}}}function Zo(u){u.I&&(f.clearTimeout(u.I),u.I=null)}n.isActive=function(){return!!this.g};function Tn(u){return u.g?u.g.readyState:0}n.Z=function(){try{return 2<Tn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),kr(m)}};function Js(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function es(u){const m={};u=(u.g&&2<=Tn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<u.length;w++){if(J(u[w]))continue;var v=M(u[w]);const $=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const G=m[$]||[];m[$]=G,G.push(v)}k(m,function(w){return w.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Vr(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function Zs(u){this.Aa=0,this.i=[],this.j=new Ce,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Vr("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Vr("baseRetryDelayMs",5e3,u),this.cb=Vr("retryDelaySeedMs",1e4,u),this.Wa=Vr("forwardChannelMaxRetries",2,u),this.wa=Vr("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new En(u&&u.concurrentRequestLimit),this.Da=new Ac,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Zs.prototype,n.la=8,n.G=1,n.connect=function(u,m,v,w){Z(0),this.W=u,this.H=m||{},v&&w!==void 0&&(this.H.OSID=v,this.H.OAID=w),this.F=this.X,this.I=_l(this,null,this.W),Lr(this)};function Gt(u){if(ts(u),u.G==3){var m=u.U++,v=Nn(u.I);if(ut(v,"SID",u.K),ut(v,"RID",m),ut(v,"TYPE","terminate"),ti(u,v),m=new it(u,u.j,m),m.L=2,m.v=Pi(Nn(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(m.v.toString(),"")}catch{}!v&&f.Image&&(new Image().src=m.v,v=!0),v||(m.g=El(m.j,null),m.g.ea(m.v)),m.F=Date.now(),ot(m)}vl(u)}function dr(u){u.g&&(ea(u),u.g.cancel(),u.g=null)}function ts(u){dr(u),u.u&&(f.clearTimeout(u.u),u.u=null),is(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&f.clearTimeout(u.s),u.s=null)}function Lr(u){if(!on(u.h)&&!u.s){u.s=!0;var m=u.Ga;Ke||de(),le||(Ke(),le=!0),Te.add(m,u),u.B=0}}function kc(u,m){return Qo(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=ye(R(u.Ga,u,m),yl(u,u.B)),u.B++,!0)}n.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const $=new it(this,this.j,u);let G=this.o;if(this.S&&(G?(G=T(G),x(G,this.S)):G=this.S),this.m!==null||this.O||($.H=G,G=null),this.P)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var w=this.i[v];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(m+=w,4096<m){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=Ni(this,$,m),v=Nn(this.I),ut(v,"RID",u),ut(v,"CVER",22),this.D&&ut(v,"X-HTTP-Session-Id",this.D),ti(this,v),G&&(this.O?m="headers="+encodeURIComponent(String(ei(G)))+"&"+m:this.m&&Di(v,this.m,G)),Qs(this.h,$),this.Ua&&ut(v,"TYPE","init"),this.P?(ut(v,"$req",m),ut(v,"SID","null"),$.T=!0,Wt($,v,null)):Wt($,v,m),this.G=2}}else this.G==3&&(u?ns(this,u):this.i.length==0||on(this.h)||ns(this))};function ns(u,m){var v;m?v=m.l:v=u.U++;const w=Nn(u.I);ut(w,"SID",u.K),ut(w,"RID",v),ut(w,"AID",u.T),ti(u,w),u.m&&u.o&&Di(w,u.m,u.o),v=new it(u,u.j,v,u.B+1),u.m===null&&(v.H=u.o),m&&(u.i=m.D.concat(u.i)),m=Ni(u,v,1e3),v.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Qs(u.h,v),Wt(v,w,m)}function ti(u,m){u.H&&ie(u.H,function(v,w){ut(m,w,v)}),u.l&&Ii({},function(v,w){ut(m,w,v)})}function Ni(u,m,v){v=Math.min(u.i.length,v);var w=u.l?R(u.l.Na,u.l,u):null;e:{var $=u.i;let G=-1;for(;;){const ce=["count="+v];G==-1?0<v?(G=$[0].g,ce.push("ofs="+G)):G=0:ce.push("ofs="+G);let lt=!0;for(let Nt=0;Nt<v;Nt++){let Ge=$[Nt].g;const Ft=$[Nt].map;if(Ge-=G,0>Ge)G=Math.max(0,$[Nt].g-100),lt=!1;else try{pl(Ft,ce,"req"+Ge+"_")}catch{w&&w(Ft)}}if(lt){w=ce.join("&");break e}}}return u=u.i.splice(0,v),m.D=u,w}function go(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;Ke||de(),le||(Ke(),le=!0),Te.add(m,u),u.v=0}}function rs(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=ye(R(u.Fa,u),yl(u,u.v)),u.v++,!0)}n.Fa=function(){if(this.u=null,gl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=ye(R(this.ab,this),u)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Z(10),dr(this),gl(this))};function ea(u){u.A!=null&&(f.clearTimeout(u.A),u.A=null)}function gl(u){u.g=new it(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=Nn(u.qa);ut(m,"RID","rpc"),ut(m,"SID",u.K),ut(m,"AID",u.T),ut(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&ut(m,"TO",u.ja),ut(m,"TYPE","xmlhttp"),ti(u,m),u.m&&u.o&&Di(m,u.m,u.o),u.L&&(u.g.I=u.L);var v=u.g;u=u.ia,v.L=1,v.v=Pi(Nn(m)),v.m=null,v.P=!0,Yr(v,u)}n.Za=function(){this.C!=null&&(this.C=null,dr(this),rs(this),Z(19))};function is(u){u.C!=null&&(f.clearTimeout(u.C),u.C=null)}function os(u,m){var v=null;if(u.g==m){is(u),ea(u),u.g=null;var w=2}else if(pn(u.h,m))v=m.D,al(u.h,m),w=1;else return;if(u.G!=0){if(m.o)if(w==1){v=m.m?m.m.length:0,m=Date.now()-m.F;var $=u.B;w=Gr(),St(w,new fe(w,v)),Lr(u)}else go(u);else if($=m.s,$==3||$==0&&0<m.X||!(w==1&&kc(u,m)||w==2&&rs(u)))switch(v&&0<v.length&&(m=u.h,m.i=m.i.concat(v)),$){case 1:ni(u,5);break;case 4:ni(u,10);break;case 3:ni(u,6);break;default:ni(u,2)}}}function yl(u,m){let v=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(v*=2),v*m}function ni(u,m){if(u.j.info("Error code "+m),m==2){var v=R(u.fb,u),w=u.Xa;const $=!w;w=new Jr(w||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||fo(w,"https"),Pi(w),$?Cc(w.toString(),v):fl(w.toString(),v)}else Z(2);u.G=0,u.l&&u.l.sa(m),vl(u),ts(u)}n.fb=function(u){u?(this.j.info("Successfully pinged google.com"),Z(2)):(this.j.info("Failed to ping google.com"),Z(1))};function vl(u){if(u.G=0,u.ka=[],u.l){const m=ll(u.h);(m.length!=0||u.i.length!=0)&&(O(u.ka,m),O(u.ka,u.i),u.h.i.length=0,z(u.i),u.i.length=0),u.l.ra()}}function _l(u,m,v){var w=v instanceof Jr?Nn(v):new Jr(v);if(w.g!="")m&&(w.g=m+"."+w.g),Ci(w,w.s);else{var $=f.location;w=$.protocol,m=m?m+"."+$.hostname:$.hostname,$=+$.port;var G=new Jr(null);w&&fo(G,w),m&&(G.g=m),$&&Ci(G,$),v&&(G.l=v),w=G}return v=u.D,m=u.ya,v&&m&&ut(w,v,m),ut(w,"VER",u.la),ti(u,w),w}function El(u,m,v){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new yt(new Zr({eb:v})):new yt(u.pa),m.Ha(u.J),m}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function ta(){}n=ta.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function ss(){}ss.prototype.g=function(u,m){return new mn(u,m)};function mn(u,m){at.call(this),this.g=new Zs(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!J(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!J(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Mr(this)}D(mn,at),mn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},mn.prototype.close=function(){Gt(this.g)},mn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.u&&(v={},v.__data__=Ti(u),u=v);m.i.push(new pt(m.Ya++,u)),m.G==3&&Lr(m)},mn.prototype.N=function(){this.g.l=null,delete this.j,Gt(this.g),delete this.g,mn.aa.N.call(this)};function wl(u){Dn.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}D(wl,Dn);function Tl(){rr.call(this),this.status=1}D(Tl,rr);function Mr(u){this.g=u}D(Mr,ta),Mr.prototype.ua=function(){St(this.g,"a")},Mr.prototype.ta=function(u){St(this.g,new wl(u))},Mr.prototype.sa=function(u){St(this.g,new Tl)},Mr.prototype.ra=function(){St(this.g,"b")},ss.prototype.createWebChannel=ss.prototype.g,mn.prototype.send=mn.prototype.o,mn.prototype.open=mn.prototype.m,mn.prototype.close=mn.prototype.close,Cv=function(){return new ss},Iv=function(){return Gr()},Rv=fn,Ld={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},rt.NO_ERROR=0,rt.TIMEOUT=8,rt.HTTP_ERROR=6,Pu=rt,Rt.COMPLETE="complete",Sv=Rt,Qr.EventType=_n,_n.OPEN="a",_n.CLOSE="b",_n.ERROR="c",_n.MESSAGE="d",at.prototype.listen=at.prototype.K,Na=Qr,yt.prototype.listenOnce=yt.prototype.L,yt.prototype.getLastError=yt.prototype.Ka,yt.prototype.getLastErrorCode=yt.prototype.Ba,yt.prototype.getStatus=yt.prototype.Z,yt.prototype.getResponseJson=yt.prototype.Oa,yt.prototype.getResponseText=yt.prototype.oa,yt.prototype.send=yt.prototype.ea,yt.prototype.setWithCredentials=yt.prototype.Ha,Tv=yt}).apply(typeof _u<"u"?_u:typeof self<"u"?self:typeof window<"u"?window:{});const $g="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}hn.UNAUTHENTICATED=new hn(null),hn.GOOGLE_CREDENTIALS=new hn("google-credentials-uid"),hn.FIRST_PARTY=new hn("first-party-uid"),hn.MOCK_USER=new hn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hs="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uo=new mv("@firebase/firestore");function ks(){return Uo.logLevel}function ge(n,...e){if(Uo.logLevel<=Xe.DEBUG){const t=e.map(cf);Uo.debug(`Firestore (${Hs}): ${n}`,...t)}}function pi(n,...e){if(Uo.logLevel<=Xe.ERROR){const t=e.map(cf);Uo.error(`Firestore (${Hs}): ${n}`,...t)}}function Os(n,...e){if(Uo.logLevel<=Xe.WARN){const t=e.map(cf);Uo.warn(`Firestore (${Hs}): ${n}`,...t)}}function cf(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ne(n="Unexpected state"){const e=`FIRESTORE (${Hs}) INTERNAL ASSERTION FAILED: `+n;throw pi(e),new Error(e)}function st(n,e){n||Ne()}function Oe(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ie extends $s{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Av{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class bS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(hn.UNAUTHENTICATED))}shutdown(){}}class FS{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class US{constructor(e){this.t=e,this.currentUser=hn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){st(this.o===void 0);let o=this.i;const s=p=>this.i!==o?(o=this.i,t(p)):Promise.resolve();let l=new Ji;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Ji,e.enqueueRetryable(()=>s(this.currentUser))};const h=()=>{const p=l;e.enqueueRetryable(async()=>{await p.promise,await s(this.currentUser)})},f=p=>{ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(p=>f(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?f(p):(ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Ji)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(o=>this.i!==e?(ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(st(typeof o.accessToken=="string"),new Av(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return st(e===null||typeof e=="string"),new hn(e)}}class jS{constructor(e,t,o){this.l=e,this.h=t,this.P=o,this.type="FirstParty",this.user=hn.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class zS{constructor(e,t,o){this.l=e,this.h=t,this.P=o}getToken(){return Promise.resolve(new jS(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(hn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class BS{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class $S{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){st(this.o===void 0);const o=l=>{l.error!=null&&ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const h=l.token!==this.R;return this.R=l.token,ge("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>o(l))};const s=l=>{ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>s(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?s(l):ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(st(typeof t.token=="string"),this.R=t.token,new BS(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HS(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let o=0;o<n;o++)t[o]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pv{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let o="";for(;o.length<20;){const s=HS(40);for(let l=0;l<s.length;++l)o.length<20&&s[l]<t&&(o+=e.charAt(s[l]%e.length))}return o}}function He(n,e){return n<e?-1:n>e?1:0}function bs(n,e,t){return n.length===e.length&&n.every((o,s)=>t(o,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{static now(){return Ot.fromMillis(Date.now())}static fromDate(e){return Ot.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*t));return new Ot(t,o)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ie(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ie(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ie(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ie(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?He(this.nanoseconds,e.nanoseconds):He(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le{static fromTimestamp(e){return new Le(e)}static min(){return new Le(new Ot(0,0))}static max(){return new Le(new Ot(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(e,t,o){t===void 0?t=0:t>e.length&&Ne(),o===void 0?o=e.length-t:o>e.length-t&&Ne(),this.segments=e,this.offset=t,this.len=o}get length(){return this.len}isEqual(e){return Wa.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Wa?e.forEach(o=>{t.push(o)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,o=this.limit();t<o;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const o=Math.min(e.length,t.length);for(let s=0;s<o;s++){const l=e.get(s),h=t.get(s);if(l<h)return-1;if(l>h)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class _t extends Wa{construct(e,t,o){return new _t(e,t,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const o of e){if(o.indexOf("//")>=0)throw new Ie(oe.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);t.push(...o.split("/").filter(s=>s.length>0))}return new _t(t)}static emptyPath(){return new _t([])}}const qS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class en extends Wa{construct(e,t,o){return new en(e,t,o)}static isValidIdentifier(e){return qS.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),en.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new en(["__name__"])}static fromServerFormat(e){const t=[];let o="",s=0;const l=()=>{if(o.length===0)throw new Ie(oe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(o),o=""};let h=!1;for(;s<e.length;){const f=e[s];if(f==="\\"){if(s+1===e.length)throw new Ie(oe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[s+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new Ie(oe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=p,s+=2}else f==="`"?(h=!h,s++):f!=="."||h?(o+=f,s++):(l(),s++)}if(l(),h)throw new Ie(oe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new en(t)}static emptyPath(){return new en([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{constructor(e){this.path=e}static fromPath(e){return new ke(_t.fromString(e))}static fromName(e){return new ke(_t.fromString(e).popFirst(5))}static empty(){return new ke(_t.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&_t.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return _t.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ke(new _t(e.slice()))}}function WS(n,e){const t=n.toTimestamp().seconds,o=n.toTimestamp().nanoseconds+1,s=Le.fromTimestamp(o===1e9?new Ot(t+1,0):new Ot(t,o));return new to(s,ke.empty(),e)}function KS(n){return new to(n.readTime,n.key,-1)}class to{constructor(e,t,o){this.readTime=e,this.documentKey=t,this.largestBatchId=o}static min(){return new to(Le.min(),ke.empty(),-1)}static max(){return new to(Le.max(),ke.empty(),-1)}}function QS(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ke.comparator(n.documentKey,e.documentKey),t!==0?t:He(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class YS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qs(n){if(n.code!==oe.FAILED_PRECONDITION||n.message!==GS)throw n;ge("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ne(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ee((o,s)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(o,s)},this.catchCallback=l=>{this.wrapFailure(t,l).next(o,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ee?t:ee.resolve(t)}catch(t){return ee.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ee.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ee.reject(t)}static resolve(e){return new ee((t,o)=>{t(e)})}static reject(e){return new ee((t,o)=>{o(e)})}static waitFor(e){return new ee((t,o)=>{let s=0,l=0,h=!1;e.forEach(f=>{++s,f.next(()=>{++l,h&&l===s&&t()},p=>o(p))}),h=!0,l===s&&t()})}static or(e){let t=ee.resolve(!1);for(const o of e)t=t.next(s=>s?ee.resolve(s):o());return t}static forEach(e,t){const o=[];return e.forEach((s,l)=>{o.push(t.call(this,s,l))}),this.waitFor(o)}static mapArray(e,t){return new ee((o,s)=>{const l=e.length,h=new Array(l);let f=0;for(let p=0;p<l;p++){const y=p;t(e[y]).next(_=>{h[y]=_,++f,f===l&&o(h)},_=>s(_))}})}static doWhile(e,t){return new ee((o,s)=>{const l=()=>{e()===!0?t().next(()=>{l()},s):o()};l()})}}function XS(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Ws(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=o=>this.ie(o),this.se=o=>t.writeSequenceNumber(o))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}hc.oe=-1;function dc(n){return n==null}function qu(n){return n===0&&1/n==-1/0}function JS(n){return typeof n=="number"&&Number.isInteger(n)&&!qu(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZS(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Hg(e)),e=eR(n.get(t),e);return Hg(e)}function eR(n,e){let t=e;const o=n.length;for(let s=0;s<o;s++){const l=n.charAt(s);switch(l){case"\0":t+="";break;case"":t+="";break;default:t+=l}}return t}function Hg(n){return n+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qg(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function $o(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function kv(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e,t){this.comparator=e,this.root=t||Zt.EMPTY}insert(e,t){return new Tt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Zt.BLACK,null,null))}remove(e){return new Tt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const o=this.comparator(e,t.key);if(o===0)return t.value;o<0?t=t.left:o>0&&(t=t.right)}return null}indexOf(e){let t=0,o=this.root;for(;!o.isEmpty();){const s=this.comparator(e,o.key);if(s===0)return t+o.left.size;s<0?o=o.left:(t+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,o)=>(e(t,o),!1))}toString(){const e=[];return this.inorderTraversal((t,o)=>(e.push(`${t}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Eu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Eu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Eu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Eu(this.root,e,this.comparator,!0)}}class Eu{constructor(e,t,o,s){this.isReverse=s,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?o(e.key,t):1,t&&s&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Zt{constructor(e,t,o,s,l){this.key=e,this.value=t,this.color=o??Zt.RED,this.left=s??Zt.EMPTY,this.right=l??Zt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,o,s,l){return new Zt(e??this.key,t??this.value,o??this.color,s??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,o){let s=this;const l=o(e,s.key);return s=l<0?s.copy(null,null,null,s.left.insert(e,t,o),null):l===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,o)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Zt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let o,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return Zt.EMPTY;o=s.right.min(),s=s.copy(o.key,o.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Zt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Zt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ne();const e=this.left.check();if(e!==this.right.check())throw Ne();return e+(this.isRed()?0:1)}}Zt.EMPTY=null,Zt.RED=!0,Zt.BLACK=!1;Zt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ne()}get value(){throw Ne()}get color(){throw Ne()}get left(){throw Ne()}get right(){throw Ne()}copy(e,t,o,s,l){return this}insert(e,t,o){return new Zt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e){this.comparator=e,this.data=new Tt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,o)=>(e(t),!1))}forEachInRange(e,t){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const s=o.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let o;for(o=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Wg(this.data.getIterator())}getIteratorFrom(e){return new Wg(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(o=>{t=t.add(o)}),t}isEqual(e){if(!(e instanceof bt)||this.size!==e.size)return!1;const t=this.data.getIterator(),o=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,l=o.getNext().key;if(this.comparator(s,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new bt(this.comparator);return t.data=e,t}}class Wg{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(e){this.fields=e,e.sort(en.comparator)}static empty(){return new Tr([])}unionWith(e){let t=new bt(en.comparator);for(const o of this.fields)t=t.add(o);for(const o of e)t=t.add(o);return new Tr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return bs(this.fields,e.fields,(t,o)=>t.isEqual(o))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new xv("Invalid base64 string: "+l):l}}(e);return new tn(t)}static fromUint8Array(e){const t=function(s){let l="";for(let h=0;h<s.length;++h)l+=String.fromCharCode(s[h]);return l}(e);return new tn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const o=new Uint8Array(t.length);for(let s=0;s<t.length;s++)o[s]=t.charCodeAt(s);return o}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return He(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}tn.EMPTY_BYTE_STRING=new tn("");const tR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function no(n){if(st(!!n),typeof n=="string"){let e=0;const t=tR.exec(n);if(st(!!t),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const o=new Date(n);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:Pt(n.seconds),nanos:Pt(n.nanos)}}function Pt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function ro(n){return typeof n=="string"?tn.fromBase64String(n):tn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hf(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function fc(n){const e=n.mapValue.fields.__previous_value__;return hf(e)?fc(e):e}function Ka(n){const e=no(n.mapValue.fields.__local_write_time__.timestampValue);return new Ot(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nR{constructor(e,t,o,s,l,h,f,p,y){this.databaseId=e,this.appId=t,this.persistenceKey=o,this.host=s,this.ssl=l,this.forceLongPolling=h,this.autoDetectLongPolling=f,this.longPollingOptions=p,this.useFetchStreams=y}}class Qa{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Qa("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Qa&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wu={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function io(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?hf(n)?4:iR(n)?9007199254740991:rR(n)?10:11:Ne()}function $r(n,e){if(n===e)return!0;const t=io(n);if(t!==io(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Ka(n).isEqual(Ka(e));case 3:return function(s,l){if(typeof s.timestampValue=="string"&&typeof l.timestampValue=="string"&&s.timestampValue.length===l.timestampValue.length)return s.timestampValue===l.timestampValue;const h=no(s.timestampValue),f=no(l.timestampValue);return h.seconds===f.seconds&&h.nanos===f.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(s,l){return ro(s.bytesValue).isEqual(ro(l.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(s,l){return Pt(s.geoPointValue.latitude)===Pt(l.geoPointValue.latitude)&&Pt(s.geoPointValue.longitude)===Pt(l.geoPointValue.longitude)}(n,e);case 2:return function(s,l){if("integerValue"in s&&"integerValue"in l)return Pt(s.integerValue)===Pt(l.integerValue);if("doubleValue"in s&&"doubleValue"in l){const h=Pt(s.doubleValue),f=Pt(l.doubleValue);return h===f?qu(h)===qu(f):isNaN(h)&&isNaN(f)}return!1}(n,e);case 9:return bs(n.arrayValue.values||[],e.arrayValue.values||[],$r);case 10:case 11:return function(s,l){const h=s.mapValue.fields||{},f=l.mapValue.fields||{};if(qg(h)!==qg(f))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(f[p]===void 0||!$r(h[p],f[p])))return!1;return!0}(n,e);default:return Ne()}}function Ga(n,e){return(n.values||[]).find(t=>$r(t,e))!==void 0}function Fs(n,e){if(n===e)return 0;const t=io(n),o=io(e);if(t!==o)return He(t,o);switch(t){case 0:case 9007199254740991:return 0;case 1:return He(n.booleanValue,e.booleanValue);case 2:return function(l,h){const f=Pt(l.integerValue||l.doubleValue),p=Pt(h.integerValue||h.doubleValue);return f<p?-1:f>p?1:f===p?0:isNaN(f)?isNaN(p)?0:-1:1}(n,e);case 3:return Kg(n.timestampValue,e.timestampValue);case 4:return Kg(Ka(n),Ka(e));case 5:return He(n.stringValue,e.stringValue);case 6:return function(l,h){const f=ro(l),p=ro(h);return f.compareTo(p)}(n.bytesValue,e.bytesValue);case 7:return function(l,h){const f=l.split("/"),p=h.split("/");for(let y=0;y<f.length&&y<p.length;y++){const _=He(f[y],p[y]);if(_!==0)return _}return He(f.length,p.length)}(n.referenceValue,e.referenceValue);case 8:return function(l,h){const f=He(Pt(l.latitude),Pt(h.latitude));return f!==0?f:He(Pt(l.longitude),Pt(h.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return Qg(n.arrayValue,e.arrayValue);case 10:return function(l,h){var f,p,y,_;const S=l.fields||{},R=h.fields||{},C=(f=S.value)===null||f===void 0?void 0:f.arrayValue,D=(p=R.value)===null||p===void 0?void 0:p.arrayValue,z=He(((y=C==null?void 0:C.values)===null||y===void 0?void 0:y.length)||0,((_=D==null?void 0:D.values)===null||_===void 0?void 0:_.length)||0);return z!==0?z:Qg(C,D)}(n.mapValue,e.mapValue);case 11:return function(l,h){if(l===wu.mapValue&&h===wu.mapValue)return 0;if(l===wu.mapValue)return 1;if(h===wu.mapValue)return-1;const f=l.fields||{},p=Object.keys(f),y=h.fields||{},_=Object.keys(y);p.sort(),_.sort();for(let S=0;S<p.length&&S<_.length;++S){const R=He(p[S],_[S]);if(R!==0)return R;const C=Fs(f[p[S]],y[_[S]]);if(C!==0)return C}return He(p.length,_.length)}(n.mapValue,e.mapValue);default:throw Ne()}}function Kg(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return He(n,e);const t=no(n),o=no(e),s=He(t.seconds,o.seconds);return s!==0?s:He(t.nanos,o.nanos)}function Qg(n,e){const t=n.values||[],o=e.values||[];for(let s=0;s<t.length&&s<o.length;++s){const l=Fs(t[s],o[s]);if(l)return l}return He(t.length,o.length)}function Us(n){return Md(n)}function Md(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const o=no(t);return`time(${o.seconds},${o.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return ro(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return ke.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let o="[",s=!0;for(const l of t.values||[])s?s=!1:o+=",",o+=Md(l);return o+"]"}(n.arrayValue):"mapValue"in n?function(t){const o=Object.keys(t.fields||{}).sort();let s="{",l=!0;for(const h of o)l?l=!1:s+=",",s+=`${h}:${Md(t.fields[h])}`;return s+"}"}(n.mapValue):Ne()}function ku(n){switch(io(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=fc(n);return e?16+ku(e):16;case 5:return 2*n.stringValue.length;case 6:return ro(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(o){return(o.values||[]).reduce((s,l)=>s+ku(l),0)}(n.arrayValue);case 10:case 11:return function(o){let s=0;return $o(o.fields,(l,h)=>{s+=l.length+ku(h)}),s}(n.mapValue);default:throw Ne()}}function Od(n){return!!n&&"integerValue"in n}function df(n){return!!n&&"arrayValue"in n}function Gg(n){return!!n&&"nullValue"in n}function Yg(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function xu(n){return!!n&&"mapValue"in n}function rR(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function Oa(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return $o(n.mapValue.fields,(t,o)=>e.mapValue.fields[t]=Oa(o)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Oa(n.arrayValue.values[t]);return e}return Object.assign({},n)}function iR(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(e){this.value=e}static empty(){return new Jn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let o=0;o<e.length-1;++o)if(t=(t.mapValue.fields||{})[e.get(o)],!xu(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Oa(t)}setAll(e){let t=en.emptyPath(),o={},s=[];e.forEach((h,f)=>{if(!t.isImmediateParentOf(f)){const p=this.getFieldsMap(t);this.applyChanges(p,o,s),o={},s=[],t=f.popLast()}h?o[f.lastSegment()]=Oa(h):s.push(f.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,o,s)}delete(e){const t=this.field(e.popLast());xu(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return $r(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let o=0;o<e.length;++o){let s=t.mapValue.fields[e.get(o)];xu(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(o)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,o){$o(t,(s,l)=>e[s]=l);for(const s of o)delete e[s]}clone(){return new Jn(Oa(this.value))}}function Dv(n){const e=[];return $o(n.fields,(t,o)=>{const s=new en([t]);if(xu(o)){const l=Dv(o.mapValue).fields;if(l.length===0)e.push(s);else for(const h of l)e.push(s.child(h))}else e.push(s)}),new Tr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e,t,o,s,l,h,f){this.key=e,this.documentType=t,this.version=o,this.readTime=s,this.createTime=l,this.data=h,this.documentState=f}static newInvalidDocument(e){return new dn(e,0,Le.min(),Le.min(),Le.min(),Jn.empty(),0)}static newFoundDocument(e,t,o,s){return new dn(e,1,t,Le.min(),o,s,0)}static newNoDocument(e,t){return new dn(e,2,t,Le.min(),Le.min(),Jn.empty(),0)}static newUnknownDocument(e,t){return new dn(e,3,t,Le.min(),Le.min(),Jn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Le.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Jn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Jn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Le.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof dn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new dn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu{constructor(e,t){this.position=e,this.inclusive=t}}function Xg(n,e,t){let o=0;for(let s=0;s<n.position.length;s++){const l=e[s],h=n.position[s];if(l.field.isKeyField()?o=ke.comparator(ke.fromName(h.referenceValue),t.key):o=Fs(h,t.data.field(l.field)),l.dir==="desc"&&(o*=-1),o!==0)break}return o}function Jg(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!$r(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku{constructor(e,t="asc"){this.field=e,this.dir=t}}function oR(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nv{}class Mt extends Nv{constructor(e,t,o){super(),this.field=e,this.op=t,this.value=o}static create(e,t,o){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,o):new aR(e,t,o):t==="array-contains"?new cR(e,o):t==="in"?new hR(e,o):t==="not-in"?new dR(e,o):t==="array-contains-any"?new fR(e,o):new Mt(e,t,o)}static createKeyFieldInFilter(e,t,o){return t==="in"?new lR(e,o):new uR(e,o)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Fs(t,this.value)):t!==null&&io(this.value)===io(t)&&this.matchesComparison(Fs(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ne()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Hr extends Nv{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new Hr(e,t)}matches(e){return Vv(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Vv(n){return n.op==="and"}function Lv(n){return sR(n)&&Vv(n)}function sR(n){for(const e of n.filters)if(e instanceof Hr)return!1;return!0}function bd(n){if(n instanceof Mt)return n.field.canonicalString()+n.op.toString()+Us(n.value);if(Lv(n))return n.filters.map(e=>bd(e)).join(",");{const e=n.filters.map(t=>bd(t)).join(",");return`${n.op}(${e})`}}function Mv(n,e){return n instanceof Mt?function(o,s){return s instanceof Mt&&o.op===s.op&&o.field.isEqual(s.field)&&$r(o.value,s.value)}(n,e):n instanceof Hr?function(o,s){return s instanceof Hr&&o.op===s.op&&o.filters.length===s.filters.length?o.filters.reduce((l,h,f)=>l&&Mv(h,s.filters[f]),!0):!1}(n,e):void Ne()}function Ov(n){return n instanceof Mt?function(t){return`${t.field.canonicalString()} ${t.op} ${Us(t.value)}`}(n):n instanceof Hr?function(t){return t.op.toString()+" {"+t.getFilters().map(Ov).join(" ,")+"}"}(n):"Filter"}class aR extends Mt{constructor(e,t,o){super(e,t,o),this.key=ke.fromName(o.referenceValue)}matches(e){const t=ke.comparator(e.key,this.key);return this.matchesComparison(t)}}class lR extends Mt{constructor(e,t){super(e,"in",t),this.keys=bv("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class uR extends Mt{constructor(e,t){super(e,"not-in",t),this.keys=bv("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function bv(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(o=>ke.fromName(o.referenceValue))}class cR extends Mt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return df(t)&&Ga(t.arrayValue,this.value)}}class hR extends Mt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Ga(this.value.arrayValue,t)}}class dR extends Mt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ga(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!Ga(this.value.arrayValue,t)}}class fR extends Mt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!df(t)||!t.arrayValue.values)&&t.arrayValue.values.some(o=>Ga(this.value.arrayValue,o))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pR{constructor(e,t=null,o=[],s=[],l=null,h=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=o,this.filters=s,this.limit=l,this.startAt=h,this.endAt=f,this.ue=null}}function Zg(n,e=null,t=[],o=[],s=null,l=null,h=null){return new pR(n,e,t,o,s,l,h)}function ff(n){const e=Oe(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(o=>bd(o)).join(","),t+="|ob:",t+=e.orderBy.map(o=>function(l){return l.field.canonicalString()+l.dir}(o)).join(","),dc(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(o=>Us(o)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(o=>Us(o)).join(",")),e.ue=t}return e.ue}function pf(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!oR(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Mv(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Jg(n.startAt,e.startAt)&&Jg(n.endAt,e.endAt)}function Fd(n){return ke.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(e,t=null,o=[],s=[],l=null,h="F",f=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=o,this.filters=s,this.limit=l,this.limitType=h,this.startAt=f,this.endAt=p,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function mR(n,e,t,o,s,l,h,f){return new pc(n,e,t,o,s,l,h,f)}function Fv(n){return new pc(n)}function ey(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function gR(n){return n.collectionGroup!==null}function ba(n){const e=Oe(n);if(e.ce===null){e.ce=[];const t=new Set;for(const l of e.explicitOrderBy)e.ce.push(l),t.add(l.field.canonicalString());const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let f=new bt(en.comparator);return h.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(f=f.add(y.field))})}),f})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.ce.push(new Ku(l,o))}),t.has(en.keyField().canonicalString())||e.ce.push(new Ku(en.keyField(),o))}return e.ce}function zr(n){const e=Oe(n);return e.le||(e.le=yR(e,ba(n))),e.le}function yR(n,e){if(n.limitType==="F")return Zg(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(s=>{const l=s.dir==="desc"?"asc":"desc";return new Ku(s.field,l)});const t=n.endAt?new Wu(n.endAt.position,n.endAt.inclusive):null,o=n.startAt?new Wu(n.startAt.position,n.startAt.inclusive):null;return Zg(n.path,n.collectionGroup,e,n.filters,n.limit,t,o)}}function Ud(n,e,t){return new pc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function mc(n,e){return pf(zr(n),zr(e))&&n.limitType===e.limitType}function Uv(n){return`${ff(zr(n))}|lt:${n.limitType}`}function xs(n){return`Query(target=${function(t){let o=t.path.canonicalString();return t.collectionGroup!==null&&(o+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(o+=`, filters: [${t.filters.map(s=>Ov(s)).join(", ")}]`),dc(t.limit)||(o+=", limit: "+t.limit),t.orderBy.length>0&&(o+=`, orderBy: [${t.orderBy.map(s=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(s)).join(", ")}]`),t.startAt&&(o+=", startAt: ",o+=t.startAt.inclusive?"b:":"a:",o+=t.startAt.position.map(s=>Us(s)).join(",")),t.endAt&&(o+=", endAt: ",o+=t.endAt.inclusive?"a:":"b:",o+=t.endAt.position.map(s=>Us(s)).join(",")),`Target(${o})`}(zr(n))}; limitType=${n.limitType})`}function gc(n,e){return e.isFoundDocument()&&function(o,s){const l=s.key.path;return o.collectionGroup!==null?s.key.hasCollectionId(o.collectionGroup)&&o.path.isPrefixOf(l):ke.isDocumentKey(o.path)?o.path.isEqual(l):o.path.isImmediateParentOf(l)}(n,e)&&function(o,s){for(const l of ba(o))if(!l.field.isKeyField()&&s.data.field(l.field)===null)return!1;return!0}(n,e)&&function(o,s){for(const l of o.filters)if(!l.matches(s))return!1;return!0}(n,e)&&function(o,s){return!(o.startAt&&!function(h,f,p){const y=Xg(h,f,p);return h.inclusive?y<=0:y<0}(o.startAt,ba(o),s)||o.endAt&&!function(h,f,p){const y=Xg(h,f,p);return h.inclusive?y>=0:y>0}(o.endAt,ba(o),s))}(n,e)}function vR(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function jv(n){return(e,t)=>{let o=!1;for(const s of ba(n)){const l=_R(s,e,t);if(l!==0)return l;o=o||s.field.isKeyField()}return 0}}function _R(n,e,t){const o=n.field.isKeyField()?ke.comparator(e.key,t.key):function(l,h,f){const p=h.data.field(l),y=f.data.field(l);return p!==null&&y!==null?Fs(p,y):Ne()}(n.field,e,t);switch(n.dir){case"asc":return o;case"desc":return-1*o;default:return Ne()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),o=this.inner[t];if(o!==void 0){for(const[s,l]of o)if(this.equalsFn(s,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const o=this.mapKeyFn(e),s=this.inner[o];if(s===void 0)return this.inner[o]=[[e,t]],void this.innerSize++;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],e))return void(s[l]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),o=this.inner[t];if(o===void 0)return!1;for(let s=0;s<o.length;s++)if(this.equalsFn(o[s][0],e))return o.length===1?delete this.inner[t]:o.splice(s,1),this.innerSize--,!0;return!1}forEach(e){$o(this.inner,(t,o)=>{for(const[s,l]of o)e(s,l)})}isEmpty(){return kv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ER=new Tt(ke.comparator);function mi(){return ER}const zv=new Tt(ke.comparator);function Va(...n){let e=zv;for(const t of n)e=e.insert(t.key,t);return e}function Bv(n){let e=zv;return n.forEach((t,o)=>e=e.insert(t,o.overlayedDocument)),e}function Lo(){return Fa()}function $v(){return Fa()}function Fa(){return new Ho(n=>n.toString(),(n,e)=>n.isEqual(e))}const wR=new Tt(ke.comparator),TR=new bt(ke.comparator);function ze(...n){let e=TR;for(const t of n)e=e.add(t);return e}const SR=new bt(He);function RR(){return SR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mf(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qu(e)?"-0":e}}function Hv(n){return{integerValue:""+n}}function IR(n,e){return JS(e)?Hv(e):mf(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(){this._=void 0}}function CR(n,e,t){return n instanceof Qu?function(s,l){const h={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return l&&hf(l)&&(l=fc(l)),l&&(h.fields.__previous_value__=l),{mapValue:h}}(t,e):n instanceof Ya?Wv(n,e):n instanceof Xa?Kv(n,e):function(s,l){const h=qv(s,l),f=ty(h)+ty(s.Pe);return Od(h)&&Od(s.Pe)?Hv(f):mf(s.serializer,f)}(n,e)}function AR(n,e,t){return n instanceof Ya?Wv(n,e):n instanceof Xa?Kv(n,e):t}function qv(n,e){return n instanceof Gu?function(o){return Od(o)||function(l){return!!l&&"doubleValue"in l}(o)}(e)?e:{integerValue:0}:null}class Qu extends yc{}class Ya extends yc{constructor(e){super(),this.elements=e}}function Wv(n,e){const t=Qv(e);for(const o of n.elements)t.some(s=>$r(s,o))||t.push(o);return{arrayValue:{values:t}}}class Xa extends yc{constructor(e){super(),this.elements=e}}function Kv(n,e){let t=Qv(e);for(const o of n.elements)t=t.filter(s=>!$r(s,o));return{arrayValue:{values:t}}}class Gu extends yc{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function ty(n){return Pt(n.integerValue||n.doubleValue)}function Qv(n){return df(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function PR(n,e){return n.field.isEqual(e.field)&&function(o,s){return o instanceof Ya&&s instanceof Ya||o instanceof Xa&&s instanceof Xa?bs(o.elements,s.elements,$r):o instanceof Gu&&s instanceof Gu?$r(o.Pe,s.Pe):o instanceof Qu&&s instanceof Qu}(n.transform,e.transform)}class kR{constructor(e,t){this.version=e,this.transformResults=t}}class Sr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Sr}static exists(e){return new Sr(void 0,e)}static updateTime(e){return new Sr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Du(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class vc{}function Gv(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new gf(n.key,Sr.none()):new nl(n.key,n.data,Sr.none());{const t=n.data,o=Jn.empty();let s=new bt(en.comparator);for(let l of e.fields)if(!s.has(l)){let h=t.field(l);h===null&&l.length>1&&(l=l.popLast(),h=t.field(l)),h===null?o.delete(l):o.set(l,h),s=s.add(l)}return new qo(n.key,o,new Tr(s.toArray()),Sr.none())}}function xR(n,e,t){n instanceof nl?function(s,l,h){const f=s.value.clone(),p=ry(s.fieldTransforms,l,h.transformResults);f.setAll(p),l.convertToFoundDocument(h.version,f).setHasCommittedMutations()}(n,e,t):n instanceof qo?function(s,l,h){if(!Du(s.precondition,l))return void l.convertToUnknownDocument(h.version);const f=ry(s.fieldTransforms,l,h.transformResults),p=l.data;p.setAll(Yv(s)),p.setAll(f),l.convertToFoundDocument(h.version,p).setHasCommittedMutations()}(n,e,t):function(s,l,h){l.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,t)}function Ua(n,e,t,o){return n instanceof nl?function(l,h,f,p){if(!Du(l.precondition,h))return f;const y=l.value.clone(),_=iy(l.fieldTransforms,p,h);return y.setAll(_),h.convertToFoundDocument(h.version,y).setHasLocalMutations(),null}(n,e,t,o):n instanceof qo?function(l,h,f,p){if(!Du(l.precondition,h))return f;const y=iy(l.fieldTransforms,p,h),_=h.data;return _.setAll(Yv(l)),_.setAll(y),h.convertToFoundDocument(h.version,_).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(S=>S.field))}(n,e,t,o):function(l,h,f){return Du(l.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):f}(n,e,t)}function DR(n,e){let t=null;for(const o of n.fieldTransforms){const s=e.data.field(o.field),l=qv(o.transform,s||null);l!=null&&(t===null&&(t=Jn.empty()),t.set(o.field,l))}return t||null}function ny(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(o,s){return o===void 0&&s===void 0||!(!o||!s)&&bs(o,s,(l,h)=>PR(l,h))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class nl extends vc{constructor(e,t,o,s=[]){super(),this.key=e,this.value=t,this.precondition=o,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class qo extends vc{constructor(e,t,o,s,l=[]){super(),this.key=e,this.data=t,this.fieldMask=o,this.precondition=s,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function Yv(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const o=n.data.field(t);e.set(t,o)}}),e}function ry(n,e,t){const o=new Map;st(n.length===t.length);for(let s=0;s<t.length;s++){const l=n[s],h=l.transform,f=e.data.field(l.field);o.set(l.field,AR(h,f,t[s]))}return o}function iy(n,e,t){const o=new Map;for(const s of n){const l=s.transform,h=t.data.field(s.field);o.set(s.field,CR(l,h,e))}return o}class gf extends vc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class NR extends vc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(e,t,o,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=o,this.mutations=s}applyToRemoteDocument(e,t){const o=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const l=this.mutations[s];l.key.isEqual(e.key)&&xR(l,e,o[s])}}applyToLocalView(e,t){for(const o of this.baseMutations)o.key.isEqual(e.key)&&(t=Ua(o,e,t,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(e.key)&&(t=Ua(o,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const o=$v();return this.mutations.forEach(s=>{const l=e.get(s.key),h=l.overlayedDocument;let f=this.applyToLocalView(h,l.mutatedFields);f=t.has(s.key)?null:f;const p=Gv(h,f);p!==null&&o.set(s.key,p),h.isValidDocument()||h.convertToNoDocument(Le.min())}),o}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ze())}isEqual(e){return this.batchId===e.batchId&&bs(this.mutations,e.mutations,(t,o)=>ny(t,o))&&bs(this.baseMutations,e.baseMutations,(t,o)=>ny(t,o))}}class yf{constructor(e,t,o,s){this.batch=e,this.commitVersion=t,this.mutationResults=o,this.docVersions=s}static from(e,t,o){st(e.mutations.length===o.length);let s=function(){return wR}();const l=e.mutations;for(let h=0;h<l.length;h++)s=s.insert(l[h].key,o[h].version);return new yf(e,t,o,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dt,Ye;function OR(n){switch(n){default:return Ne();case oe.CANCELLED:case oe.UNKNOWN:case oe.DEADLINE_EXCEEDED:case oe.RESOURCE_EXHAUSTED:case oe.INTERNAL:case oe.UNAVAILABLE:case oe.UNAUTHENTICATED:return!1;case oe.INVALID_ARGUMENT:case oe.NOT_FOUND:case oe.ALREADY_EXISTS:case oe.PERMISSION_DENIED:case oe.FAILED_PRECONDITION:case oe.ABORTED:case oe.OUT_OF_RANGE:case oe.UNIMPLEMENTED:case oe.DATA_LOSS:return!0}}function Xv(n){if(n===void 0)return pi("GRPC error has no .code"),oe.UNKNOWN;switch(n){case Dt.OK:return oe.OK;case Dt.CANCELLED:return oe.CANCELLED;case Dt.UNKNOWN:return oe.UNKNOWN;case Dt.DEADLINE_EXCEEDED:return oe.DEADLINE_EXCEEDED;case Dt.RESOURCE_EXHAUSTED:return oe.RESOURCE_EXHAUSTED;case Dt.INTERNAL:return oe.INTERNAL;case Dt.UNAVAILABLE:return oe.UNAVAILABLE;case Dt.UNAUTHENTICATED:return oe.UNAUTHENTICATED;case Dt.INVALID_ARGUMENT:return oe.INVALID_ARGUMENT;case Dt.NOT_FOUND:return oe.NOT_FOUND;case Dt.ALREADY_EXISTS:return oe.ALREADY_EXISTS;case Dt.PERMISSION_DENIED:return oe.PERMISSION_DENIED;case Dt.FAILED_PRECONDITION:return oe.FAILED_PRECONDITION;case Dt.ABORTED:return oe.ABORTED;case Dt.OUT_OF_RANGE:return oe.OUT_OF_RANGE;case Dt.UNIMPLEMENTED:return oe.UNIMPLEMENTED;case Dt.DATA_LOSS:return oe.DATA_LOSS;default:return Ne()}}(Ye=Dt||(Dt={}))[Ye.OK=0]="OK",Ye[Ye.CANCELLED=1]="CANCELLED",Ye[Ye.UNKNOWN=2]="UNKNOWN",Ye[Ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ye[Ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ye[Ye.NOT_FOUND=5]="NOT_FOUND",Ye[Ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ye[Ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ye[Ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ye[Ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ye[Ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ye[Ye.ABORTED=10]="ABORTED",Ye[Ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ye[Ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ye[Ye.INTERNAL=13]="INTERNAL",Ye[Ye.UNAVAILABLE=14]="UNAVAILABLE",Ye[Ye.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bR(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FR=new Mo([4294967295,4294967295],0);function oy(n){const e=bR().encode(n),t=new wv;return t.update(e),new Uint8Array(t.digest())}function sy(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),o=e.getUint32(4,!0),s=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Mo([t,o],0),new Mo([s,l],0)]}class vf{constructor(e,t,o){if(this.bitmap=e,this.padding=t,this.hashCount=o,t<0||t>=8)throw new La(`Invalid padding: ${t}`);if(o<0)throw new La(`Invalid hash count: ${o}`);if(e.length>0&&this.hashCount===0)throw new La(`Invalid hash count: ${o}`);if(e.length===0&&t!==0)throw new La(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ie=Mo.fromNumber(this.Te)}Ee(e,t,o){let s=e.add(t.multiply(Mo.fromNumber(o)));return s.compare(FR)===1&&(s=new Mo([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Ie).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const t=oy(e),[o,s]=sy(t);for(let l=0;l<this.hashCount;l++){const h=this.Ee(o,s,l);if(!this.de(h))return!1}return!0}static create(e,t,o){const s=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),h=new vf(l,s,t);return o.forEach(f=>h.insert(f)),h}insert(e){if(this.Te===0)return;const t=oy(e),[o,s]=sy(t);for(let l=0;l<this.hashCount;l++){const h=this.Ee(o,s,l);this.Ae(h)}}Ae(e){const t=Math.floor(e/8),o=e%8;this.bitmap[t]|=1<<o}}class La extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(e,t,o,s,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=o,this.documentUpdates=s,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,o){const s=new Map;return s.set(e,rl.createSynthesizedTargetChangeForCurrentChange(e,t,o)),new _c(Le.min(),s,new Tt(He),mi(),ze())}}class rl{constructor(e,t,o,s,l){this.resumeToken=e,this.current=t,this.addedDocuments=o,this.modifiedDocuments=s,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,o){return new rl(o,t,ze(),ze(),ze())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu{constructor(e,t,o,s){this.Re=e,this.removedTargetIds=t,this.key=o,this.Ve=s}}class Jv{constructor(e,t){this.targetId=e,this.me=t}}class Zv{constructor(e,t,o=tn.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=o,this.cause=s}}class ay{constructor(){this.fe=0,this.ge=ly(),this.pe=tn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ze(),t=ze(),o=ze();return this.ge.forEach((s,l)=>{switch(l){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:o=o.add(s);break;default:Ne()}}),new rl(this.pe,this.ye,e,t,o)}Ce(){this.we=!1,this.ge=ly()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,st(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class UR{constructor(e){this.Le=e,this.Be=new Map,this.ke=mi(),this.qe=Tu(),this.Qe=Tu(),this.Ke=new Tt(He)}$e(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(t,e.Ve):this.We(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.We(t,e.key,e.Ve)}Ge(e){this.forEachTarget(e,t=>{const o=this.ze(t);switch(e.state){case 0:this.je(t)&&o.De(e.resumeToken);break;case 1:o.Oe(),o.Se||o.Ce(),o.De(e.resumeToken);break;case 2:o.Oe(),o.Se||this.removeTarget(t);break;case 3:this.je(t)&&(o.Ne(),o.De(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),o.De(e.resumeToken));break;default:Ne()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((o,s)=>{this.je(s)&&t(s)})}Je(e){const t=e.targetId,o=e.me.count,s=this.Ye(t);if(s){const l=s.target;if(Fd(l))if(o===0){const h=new ke(l.path);this.We(t,h,dn.newNoDocument(h,Le.min()))}else st(o===1);else{const h=this.Ze(t);if(h!==o){const f=this.Xe(e),p=f?this.et(f,e,h):1;if(p!==0){this.He(t);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,y)}}}}}Xe(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:o="",padding:s=0},hashCount:l=0}=t;let h,f;try{h=ro(o).toUint8Array()}catch(p){if(p instanceof xv)return Os("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{f=new vf(h,s,l)}catch(p){return Os(p instanceof La?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return f.Te===0?null:f}et(e,t,o){return t.me.count===o-this.rt(e,t.targetId)?0:2}rt(e,t){const o=this.Le.getRemoteKeysForTarget(t);let s=0;return o.forEach(l=>{const h=this.Le.nt(),f=`projects/${h.projectId}/databases/${h.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.We(t,l,null),s++)}),s}it(e){const t=new Map;this.Be.forEach((l,h)=>{const f=this.Ye(h);if(f){if(l.current&&Fd(f.target)){const p=new ke(f.target.path);this.st(p).has(h)||this.ot(h,p)||this.We(h,p,dn.newNoDocument(p,e))}l.be&&(t.set(h,l.ve()),l.Ce())}});let o=ze();this.Qe.forEach((l,h)=>{let f=!0;h.forEachWhile(p=>{const y=this.Ye(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(o=o.add(l))}),this.ke.forEach((l,h)=>h.setReadTime(e));const s=new _c(e,t,this.Ke,this.ke,o);return this.ke=mi(),this.qe=Tu(),this.Qe=Tu(),this.Ke=new Tt(He),s}Ue(e,t){if(!this.je(e))return;const o=this.ot(e,t.key)?2:0;this.ze(e).Fe(t.key,o),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e)),this.Qe=this.Qe.insert(t.key,this._t(t.key).add(e))}We(e,t,o){if(!this.je(e))return;const s=this.ze(e);this.ot(e,t)?s.Fe(t,1):s.Me(t),this.Qe=this.Qe.insert(t,this._t(t).delete(e)),this.Qe=this.Qe.insert(t,this._t(t).add(e)),o&&(this.ke=this.ke.insert(t,o))}removeTarget(e){this.Be.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let t=this.Be.get(e);return t||(t=new ay,this.Be.set(e,t)),t}_t(e){let t=this.Qe.get(e);return t||(t=new bt(He),this.Qe=this.Qe.insert(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new bt(He),this.qe=this.qe.insert(e,t)),t}je(e){const t=this.Ye(e)!==null;return t||ge("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new ay),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}ot(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function Tu(){return new Tt(ke.comparator)}function ly(){return new Tt(ke.comparator)}const jR={asc:"ASCENDING",desc:"DESCENDING"},zR={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},BR={and:"AND",or:"OR"};class $R{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function jd(n,e){return n.useProto3Json||dc(e)?e:{value:e}}function Yu(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function e_(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function HR(n,e){return Yu(n,e.toTimestamp())}function Br(n){return st(!!n),Le.fromTimestamp(function(t){const o=no(t);return new Ot(o.seconds,o.nanos)}(n))}function _f(n,e){return zd(n,e).canonicalString()}function zd(n,e){const t=function(s){return new _t(["projects",s.projectId,"databases",s.database])}(n).child("documents");return e===void 0?t:t.child(e)}function t_(n){const e=_t.fromString(n);return st(s_(e)),e}function Bd(n,e){return _f(n.databaseId,e.path)}function fd(n,e){const t=t_(e);if(t.get(1)!==n.databaseId.projectId)throw new Ie(oe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ie(oe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ke(r_(t))}function n_(n,e){return _f(n.databaseId,e)}function qR(n){const e=t_(n);return e.length===4?_t.emptyPath():r_(e)}function $d(n){return new _t(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function r_(n){return st(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function uy(n,e,t){return{name:Bd(n,e),fields:t.value.mapValue.fields}}function WR(n,e){let t;if("targetChange"in e){e.targetChange;const o=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Ne()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],l=function(y,_){return y.useProto3Json?(st(_===void 0||typeof _=="string"),tn.fromBase64String(_||"")):(st(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array),tn.fromUint8Array(_||new Uint8Array))}(n,e.targetChange.resumeToken),h=e.targetChange.cause,f=h&&function(y){const _=y.code===void 0?oe.UNKNOWN:Xv(y.code);return new Ie(_,y.message||"")}(h);t=new Zv(o,s,l,f||null)}else if("documentChange"in e){e.documentChange;const o=e.documentChange;o.document,o.document.name,o.document.updateTime;const s=fd(n,o.document.name),l=Br(o.document.updateTime),h=o.document.createTime?Br(o.document.createTime):Le.min(),f=new Jn({mapValue:{fields:o.document.fields}}),p=dn.newFoundDocument(s,l,h,f),y=o.targetIds||[],_=o.removedTargetIds||[];t=new Nu(y,_,p.key,p)}else if("documentDelete"in e){e.documentDelete;const o=e.documentDelete;o.document;const s=fd(n,o.document),l=o.readTime?Br(o.readTime):Le.min(),h=dn.newNoDocument(s,l),f=o.removedTargetIds||[];t=new Nu([],f,h.key,h)}else if("documentRemove"in e){e.documentRemove;const o=e.documentRemove;o.document;const s=fd(n,o.document),l=o.removedTargetIds||[];t=new Nu([],l,s,null)}else{if(!("filter"in e))return Ne();{e.filter;const o=e.filter;o.targetId;const{count:s=0,unchangedNames:l}=o,h=new MR(s,l),f=o.targetId;t=new Jv(f,h)}}return t}function KR(n,e){let t;if(e instanceof nl)t={update:uy(n,e.key,e.value)};else if(e instanceof gf)t={delete:Bd(n,e.key)};else if(e instanceof qo)t={update:uy(n,e.key,e.data),updateMask:nI(e.fieldMask)};else{if(!(e instanceof NR))return Ne();t={verify:Bd(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(o=>function(l,h){const f=h.transform;if(f instanceof Qu)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof Ya)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof Xa)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Gu)return{fieldPath:h.field.canonicalString(),increment:f.Pe};throw Ne()}(0,o))),e.precondition.isNone||(t.currentDocument=function(s,l){return l.updateTime!==void 0?{updateTime:HR(s,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ne()}(n,e.precondition)),t}function QR(n,e){return n&&n.length>0?(st(e!==void 0),n.map(t=>function(s,l){let h=s.updateTime?Br(s.updateTime):Br(l);return h.isEqual(Le.min())&&(h=Br(l)),new kR(h,s.transformResults||[])}(t,e))):[]}function GR(n,e){return{documents:[n_(n,e.path)]}}function YR(n,e){const t={structuredQuery:{}},o=e.path;let s;e.collectionGroup!==null?(s=o,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=o.popLast(),t.structuredQuery.from=[{collectionId:o.lastSegment()}]),t.parent=n_(n,s);const l=function(y){if(y.length!==0)return o_(Hr.create(y,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const h=function(y){if(y.length!==0)return y.map(_=>function(R){return{field:Ds(R.field),direction:ZR(R.dir)}}(_))}(e.orderBy);h&&(t.structuredQuery.orderBy=h);const f=jd(n,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{ct:t,parent:s}}function XR(n){let e=qR(n.parent);const t=n.structuredQuery,o=t.from?t.from.length:0;let s=null;if(o>0){st(o===1);const _=t.from[0];_.allDescendants?s=_.collectionId:e=e.child(_.collectionId)}let l=[];t.where&&(l=function(S){const R=i_(S);return R instanceof Hr&&Lv(R)?R.getFilters():[R]}(t.where));let h=[];t.orderBy&&(h=function(S){return S.map(R=>function(D){return new Ku(Ns(D.field),function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(D.direction))}(R))}(t.orderBy));let f=null;t.limit&&(f=function(S){let R;return R=typeof S=="object"?S.value:S,dc(R)?null:R}(t.limit));let p=null;t.startAt&&(p=function(S){const R=!!S.before,C=S.values||[];return new Wu(C,R)}(t.startAt));let y=null;return t.endAt&&(y=function(S){const R=!S.before,C=S.values||[];return new Wu(C,R)}(t.endAt)),mR(e,s,h,l,f,"F",p,y)}function JR(n,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ne()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function i_(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const o=Ns(t.unaryFilter.field);return Mt.create(o,"==",{doubleValue:NaN});case"IS_NULL":const s=Ns(t.unaryFilter.field);return Mt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Ns(t.unaryFilter.field);return Mt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=Ns(t.unaryFilter.field);return Mt.create(h,"!=",{nullValue:"NULL_VALUE"});default:return Ne()}}(n):n.fieldFilter!==void 0?function(t){return Mt.create(Ns(t.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ne()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Hr.create(t.compositeFilter.filters.map(o=>i_(o)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Ne()}}(t.compositeFilter.op))}(n):Ne()}function ZR(n){return jR[n]}function eI(n){return zR[n]}function tI(n){return BR[n]}function Ds(n){return{fieldPath:n.canonicalString()}}function Ns(n){return en.fromServerFormat(n.fieldPath)}function o_(n){return n instanceof Mt?function(t){if(t.op==="=="){if(Yg(t.value))return{unaryFilter:{field:Ds(t.field),op:"IS_NAN"}};if(Gg(t.value))return{unaryFilter:{field:Ds(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Yg(t.value))return{unaryFilter:{field:Ds(t.field),op:"IS_NOT_NAN"}};if(Gg(t.value))return{unaryFilter:{field:Ds(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ds(t.field),op:eI(t.op),value:t.value}}}(n):n instanceof Hr?function(t){const o=t.getFilters().map(s=>o_(s));return o.length===1?o[0]:{compositeFilter:{op:tI(t.op),filters:o}}}(n):Ne()}function nI(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function s_(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi{constructor(e,t,o,s,l=Le.min(),h=Le.min(),f=tn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=o,this.sequenceNumber=s,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=f,this.expectedCount=p}withSequenceNumber(e){return new Gi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Gi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Gi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Gi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(e){this.ht=e}}function iI(n){const e=XR({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Ud(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oI{constructor(){this.ln=new sI}addToCollectionParentIndex(e,t){return this.ln.add(t),ee.resolve()}getCollectionParents(e,t){return ee.resolve(this.ln.getEntries(t))}addFieldIndex(e,t){return ee.resolve()}deleteFieldIndex(e,t){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,t){return ee.resolve()}getDocumentsMatchingTarget(e,t){return ee.resolve(null)}getIndexType(e,t){return ee.resolve(0)}getFieldIndexes(e,t){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,t){return ee.resolve(to.min())}getMinOffsetFromCollectionGroup(e,t){return ee.resolve(to.min())}updateCollectionGroup(e,t,o){return ee.resolve()}updateIndexEntries(e,t){return ee.resolve()}}class sI{constructor(){this.index={}}add(e){const t=e.lastSegment(),o=e.popLast(),s=this.index[t]||new bt(_t.comparator),l=!s.has(o);return this.index[t]=s.add(o),l}has(e){const t=e.lastSegment(),o=e.popLast(),s=this.index[t];return s&&s.has(o)}getEntries(e){return(this.index[e]||new bt(_t.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cy={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class kn{static withCacheSize(e){return new kn(e,kn.DEFAULT_COLLECTION_PERCENTILE,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */kn.DEFAULT_COLLECTION_PERCENTILE=10,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,kn.DEFAULT=new kn(41943040,kn.DEFAULT_COLLECTION_PERCENTILE,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),kn.DISABLED=new kn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new js(0)}static Qn(){return new js(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hy([n,e],[t,o]){const s=He(n,t);return s===0?He(e,o):s}class aI{constructor(e){this.Gn=e,this.buffer=new bt(hy),this.zn=0}jn(){return++this.zn}Hn(e){const t=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(t);else{const o=this.buffer.last();hy(t,o)<0&&(this.buffer=this.buffer.delete(o).add(t))}}get maxValue(){return this.buffer.last()[0]}}class lI{constructor(e,t,o){this.garbageCollector=e,this.asyncQueue=t,this.localStore=o,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){ge("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Ws(t)?ge("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):await qs(t)}await this.Yn(3e5)})}}class uI{constructor(e,t){this.Zn=e,this.params=t}calculateTargetCount(e,t){return this.Zn.Xn(e).next(o=>Math.floor(t/100*o))}nthSequenceNumber(e,t){if(t===0)return ee.resolve(hc.oe);const o=new aI(t);return this.Zn.forEachTarget(e,s=>o.Hn(s.sequenceNumber)).next(()=>this.Zn.er(e,s=>o.Hn(s))).next(()=>o.maxValue)}removeTargets(e,t,o){return this.Zn.removeTargets(e,t,o)}removeOrphanedDocuments(e,t){return this.Zn.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ge("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(cy)):this.getCacheSize(e).next(o=>o<this.params.cacheSizeCollectionThreshold?(ge("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),cy):this.tr(e,t))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,t){let o,s,l,h,f,p,y;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(ge("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),s=this.params.maximumSequenceNumbersToCollect):s=S,h=Date.now(),this.nthSequenceNumber(e,s))).next(S=>(o=S,f=Date.now(),this.removeTargets(e,o,t))).next(S=>(l=S,p=Date.now(),this.removeOrphanedDocuments(e,o))).next(S=>(y=Date.now(),ks()<=Xe.DEBUG&&ge("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-_}ms
	Determined least recently used ${s} in `+(f-h)+`ms
	Removed ${l} targets in `+(p-f)+`ms
	Removed ${S} documents in `+(y-p)+`ms
Total Duration: ${y-_}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:l,documentsRemoved:S})))}}function cI(n,e){return new uI(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(){this.changes=new Ho(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,dn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const o=this.changes.get(t);return o!==void 0?ee.resolve(o):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{constructor(e,t,o,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=o,this.indexManager=s}getDocument(e,t){let o=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(o=s,this.remoteDocumentCache.getEntry(e,t))).next(s=>(o!==null&&Ua(o.mutation,s,Tr.empty(),Ot.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(o=>this.getLocalViewOfDocuments(e,o,ze()).next(()=>o))}getLocalViewOfDocuments(e,t,o=ze()){const s=Lo();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,o).next(l=>{let h=Va();return l.forEach((f,p)=>{h=h.insert(f,p.overlayedDocument)}),h}))}getOverlayedDocuments(e,t){const o=Lo();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,ze()))}populateOverlays(e,t,o){const s=[];return o.forEach(l=>{t.has(l)||s.push(l)}),this.documentOverlayCache.getOverlays(e,s).next(l=>{l.forEach((h,f)=>{t.set(h,f)})})}computeViews(e,t,o,s){let l=mi();const h=Fa(),f=function(){return Fa()}();return t.forEach((p,y)=>{const _=o.get(y.key);s.has(y.key)&&(_===void 0||_.mutation instanceof qo)?l=l.insert(y.key,y):_!==void 0?(h.set(y.key,_.mutation.getFieldMask()),Ua(_.mutation,y,_.mutation.getFieldMask(),Ot.now())):h.set(y.key,Tr.empty())}),this.recalculateAndSaveOverlays(e,l).next(p=>(p.forEach((y,_)=>h.set(y,_)),t.forEach((y,_)=>{var S;return f.set(y,new dI(_,(S=h.get(y))!==null&&S!==void 0?S:null))}),f))}recalculateAndSaveOverlays(e,t){const o=Fa();let s=new Tt((h,f)=>h-f),l=ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(h=>{for(const f of h)f.keys().forEach(p=>{const y=t.get(p);if(y===null)return;let _=o.get(p)||Tr.empty();_=f.applyToLocalView(y,_),o.set(p,_);const S=(s.get(f.batchId)||ze()).add(p);s=s.insert(f.batchId,S)})}).next(()=>{const h=[],f=s.getReverseIterator();for(;f.hasNext();){const p=f.getNext(),y=p.key,_=p.value,S=$v();_.forEach(R=>{if(!l.has(R)){const C=Gv(t.get(R),o.get(R));C!==null&&S.set(R,C),l=l.add(R)}}),h.push(this.documentOverlayCache.saveOverlays(e,y,S))}return ee.waitFor(h)}).next(()=>o)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(o=>this.recalculateAndSaveOverlays(e,o))}getDocumentsMatchingQuery(e,t,o,s){return function(h){return ke.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):gR(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,o,s):this.getDocumentsMatchingCollectionQuery(e,t,o,s)}getNextDocuments(e,t,o,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,o,s).next(l=>{const h=s-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,o.largestBatchId,s-l.size):ee.resolve(Lo());let f=-1,p=l;return h.next(y=>ee.forEach(y,(_,S)=>(f<S.largestBatchId&&(f=S.largestBatchId),l.get(_)?ee.resolve():this.remoteDocumentCache.getEntry(e,_).next(R=>{p=p.insert(_,R)}))).next(()=>this.populateOverlays(e,y,l)).next(()=>this.computeViews(e,p,y,ze())).next(_=>({batchId:f,changes:Bv(_)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ke(t)).next(o=>{let s=Va();return o.isFoundDocument()&&(s=s.insert(o.key,o)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,o,s){const l=t.collectionGroup;let h=Va();return this.indexManager.getCollectionParents(e,l).next(f=>ee.forEach(f,p=>{const y=function(S,R){return new pc(R,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)}(t,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,y,o,s).next(_=>{_.forEach((S,R)=>{h=h.insert(S,R)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,t,o,s){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,o.largestBatchId).next(h=>(l=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,o,l,s))).next(h=>{l.forEach((p,y)=>{const _=y.getKey();h.get(_)===null&&(h=h.insert(_,dn.newInvalidDocument(_)))});let f=Va();return h.forEach((p,y)=>{const _=l.get(p);_!==void 0&&Ua(_.mutation,y,Tr.empty(),Ot.now()),gc(t,y)&&(f=f.insert(p,y))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,t){return ee.resolve(this.Tr.get(t))}saveBundleMetadata(e,t){return this.Tr.set(t.id,function(s){return{id:s.id,version:s.version,createTime:Br(s.createTime)}}(t)),ee.resolve()}getNamedQuery(e,t){return ee.resolve(this.Ir.get(t))}saveNamedQuery(e,t){return this.Ir.set(t.name,function(s){return{name:s.name,query:iI(s.bundledQuery),readTime:Br(s.readTime)}}(t)),ee.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{constructor(){this.overlays=new Tt(ke.comparator),this.Er=new Map}getOverlay(e,t){return ee.resolve(this.overlays.get(t))}getOverlays(e,t){const o=Lo();return ee.forEach(t,s=>this.getOverlay(e,s).next(l=>{l!==null&&o.set(s,l)})).next(()=>o)}saveOverlays(e,t,o){return o.forEach((s,l)=>{this.Tt(e,t,l)}),ee.resolve()}removeOverlaysForBatchId(e,t,o){const s=this.Er.get(o);return s!==void 0&&(s.forEach(l=>this.overlays=this.overlays.remove(l)),this.Er.delete(o)),ee.resolve()}getOverlaysForCollection(e,t,o){const s=Lo(),l=t.length+1,h=new ke(t.child("")),f=this.overlays.getIteratorFrom(h);for(;f.hasNext();){const p=f.getNext().value,y=p.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===l&&p.largestBatchId>o&&s.set(p.getKey(),p)}return ee.resolve(s)}getOverlaysForCollectionGroup(e,t,o,s){let l=new Tt((y,_)=>y-_);const h=this.overlays.getIterator();for(;h.hasNext();){const y=h.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>o){let _=l.get(y.largestBatchId);_===null&&(_=Lo(),l=l.insert(y.largestBatchId,_)),_.set(y.getKey(),y)}}const f=Lo(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,_)=>f.set(y,_)),!(f.size()>=s)););return ee.resolve(f)}Tt(e,t,o){const s=this.overlays.get(o.key);if(s!==null){const h=this.Er.get(s.largestBatchId).delete(o.key);this.Er.set(s.largestBatchId,h)}this.overlays=this.overlays.insert(o.key,new LR(t,o));let l=this.Er.get(t);l===void 0&&(l=ze(),this.Er.set(t,l)),this.Er.set(t,l.add(o.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{constructor(){this.sessionToken=tn.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ee.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ef{constructor(){this.dr=new bt(Bt.Ar),this.Rr=new bt(Bt.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,t){const o=new Bt(e,t);this.dr=this.dr.add(o),this.Rr=this.Rr.add(o)}mr(e,t){e.forEach(o=>this.addReference(o,t))}removeReference(e,t){this.gr(new Bt(e,t))}pr(e,t){e.forEach(o=>this.removeReference(o,t))}yr(e){const t=new ke(new _t([])),o=new Bt(t,e),s=new Bt(t,e+1),l=[];return this.Rr.forEachInRange([o,s],h=>{this.gr(h),l.push(h.key)}),l}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const t=new ke(new _t([])),o=new Bt(t,e),s=new Bt(t,e+1);let l=ze();return this.Rr.forEachInRange([o,s],h=>{l=l.add(h.key)}),l}containsKey(e){const t=new Bt(e,0),o=this.dr.firstAfterOrEqual(t);return o!==null&&e.isEqual(o.key)}}class Bt{constructor(e,t){this.key=e,this.br=t}static Ar(e,t){return ke.comparator(e.key,t.key)||He(e.br,t.br)}static Vr(e,t){return He(e.br,t.br)||ke.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Dr=1,this.vr=new bt(Bt.Ar)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,o,s){const l=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new VR(l,t,o,s);this.mutationQueue.push(h);for(const f of s)this.vr=this.vr.add(new Bt(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return ee.resolve(h)}lookupMutationBatch(e,t){return ee.resolve(this.Cr(t))}getNextMutationBatchAfterBatchId(e,t){const o=t+1,s=this.Fr(o),l=s<0?0:s;return ee.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const o=new Bt(t,0),s=new Bt(t,Number.POSITIVE_INFINITY),l=[];return this.vr.forEachInRange([o,s],h=>{const f=this.Cr(h.br);l.push(f)}),ee.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let o=new bt(He);return t.forEach(s=>{const l=new Bt(s,0),h=new Bt(s,Number.POSITIVE_INFINITY);this.vr.forEachInRange([l,h],f=>{o=o.add(f.br)})}),ee.resolve(this.Mr(o))}getAllMutationBatchesAffectingQuery(e,t){const o=t.path,s=o.length+1;let l=o;ke.isDocumentKey(l)||(l=l.child(""));const h=new Bt(new ke(l),0);let f=new bt(He);return this.vr.forEachWhile(p=>{const y=p.key.path;return!!o.isPrefixOf(y)&&(y.length===s&&(f=f.add(p.br)),!0)},h),ee.resolve(this.Mr(f))}Mr(e){const t=[];return e.forEach(o=>{const s=this.Cr(o);s!==null&&t.push(s)}),t}removeMutationBatch(e,t){st(this.Or(t.batchId,"removed")===0),this.mutationQueue.shift();let o=this.vr;return ee.forEach(t.mutations,s=>{const l=new Bt(s.key,t.batchId);return o=o.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.vr=o})}Ln(e){}containsKey(e,t){const o=new Bt(t,0),s=this.vr.firstAfterOrEqual(o);return ee.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}Or(e,t){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const t=this.Fr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{constructor(e){this.Nr=e,this.docs=function(){return new Tt(ke.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const o=t.key,s=this.docs.get(o),l=s?s.size:0,h=this.Nr(t);return this.docs=this.docs.insert(o,{document:t.mutableCopy(),size:h}),this.size+=h-l,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const o=this.docs.get(t);return ee.resolve(o?o.document.mutableCopy():dn.newInvalidDocument(t))}getEntries(e,t){let o=mi();return t.forEach(s=>{const l=this.docs.get(s);o=o.insert(s,l?l.document.mutableCopy():dn.newInvalidDocument(s))}),ee.resolve(o)}getDocumentsMatchingQuery(e,t,o,s){let l=mi();const h=t.path,f=new ke(h.child("")),p=this.docs.getIteratorFrom(f);for(;p.hasNext();){const{key:y,value:{document:_}}=p.getNext();if(!h.isPrefixOf(y.path))break;y.path.length>h.length+1||QS(KS(_),o)<=0||(s.has(_.key)||gc(t,_))&&(l=l.insert(_.key,_.mutableCopy()))}return ee.resolve(l)}getAllFromCollectionGroup(e,t,o,s){Ne()}Lr(e,t){return ee.forEach(this.docs,o=>t(o))}newChangeBuffer(e){return new _I(this)}getSize(e){return ee.resolve(this.size)}}class _I extends hI{constructor(e){super(),this.hr=e}applyChanges(e){const t=[];return this.changes.forEach((o,s)=>{s.isValidDocument()?t.push(this.hr.addEntry(e,s)):this.hr.removeEntry(o)}),ee.waitFor(t)}getFromCache(e,t){return this.hr.getEntry(e,t)}getAllFromCache(e,t){return this.hr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(e){this.persistence=e,this.Br=new Ho(t=>ff(t),pf),this.lastRemoteSnapshotVersion=Le.min(),this.highestTargetId=0,this.kr=0,this.qr=new Ef,this.targetCount=0,this.Qr=js.qn()}forEachTarget(e,t){return this.Br.forEach((o,s)=>t(s)),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,t,o){return o&&(this.lastRemoteSnapshotVersion=o),t>this.kr&&(this.kr=t),ee.resolve()}Un(e){this.Br.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Qr=new js(t),this.highestTargetId=t),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,t){return this.Un(t),this.targetCount+=1,ee.resolve()}updateTargetData(e,t){return this.Un(t),ee.resolve()}removeTargetData(e,t){return this.Br.delete(t.target),this.qr.yr(t.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,t,o){let s=0;const l=[];return this.Br.forEach((h,f)=>{f.sequenceNumber<=t&&o.get(f.targetId)===null&&(this.Br.delete(h),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),s++)}),ee.waitFor(l).next(()=>s)}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,t){const o=this.Br.get(t)||null;return ee.resolve(o)}addMatchingKeys(e,t,o){return this.qr.mr(t,o),ee.resolve()}removeMatchingKeys(e,t,o){this.qr.pr(t,o);const s=this.persistence.referenceDelegate,l=[];return s&&t.forEach(h=>{l.push(s.markPotentiallyOrphaned(e,h))}),ee.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.qr.yr(t),ee.resolve()}getMatchingKeysForTargetId(e,t){const o=this.qr.Sr(t);return ee.resolve(o)}containsKey(e,t){return ee.resolve(this.qr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a_{constructor(e,t){this.Kr={},this.overlays={},this.$r=new hc(0),this.Ur=!1,this.Ur=!0,this.Wr=new gI,this.referenceDelegate=e(this),this.Gr=new EI(this),this.indexManager=new oI,this.remoteDocumentCache=function(s){return new vI(s)}(o=>this.referenceDelegate.zr(o)),this.serializer=new rI(t),this.jr=new pI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new mI,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let o=this.Kr[e.toKey()];return o||(o=new yI(t,this.referenceDelegate),this.Kr[e.toKey()]=o),o}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,t,o){ge("MemoryPersistence","Starting transaction:",e);const s=new wI(this.$r.next());return this.referenceDelegate.Hr(),o(s).next(l=>this.referenceDelegate.Jr(s).next(()=>l)).toPromise().then(l=>(s.raiseOnCommittedEvent(),l))}Yr(e,t){return ee.or(Object.values(this.Kr).map(o=>()=>o.containsKey(e,t)))}}class wI extends YS{constructor(e){super(),this.currentSequenceNumber=e}}class wf{constructor(e){this.persistence=e,this.Zr=new Ef,this.Xr=null}static ei(e){return new wf(e)}get ti(){if(this.Xr)return this.Xr;throw Ne()}addReference(e,t,o){return this.Zr.addReference(o,t),this.ti.delete(o.toString()),ee.resolve()}removeReference(e,t,o){return this.Zr.removeReference(o,t),this.ti.add(o.toString()),ee.resolve()}markPotentiallyOrphaned(e,t){return this.ti.add(t.toString()),ee.resolve()}removeTarget(e,t){this.Zr.yr(t.targetId).forEach(s=>this.ti.add(s.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(l=>this.ti.add(l.toString()))}).next(()=>o.removeTargetData(e,t))}Hr(){this.Xr=new Set}Jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.ti,o=>{const s=ke.fromPath(o);return this.ni(e,s).next(l=>{l||t.removeEntry(s,Le.min())})}).next(()=>(this.Xr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ni(e,t).next(o=>{o?this.ti.delete(t.toString()):this.ti.add(t.toString())})}zr(e){return 0}ni(e,t){return ee.or([()=>ee.resolve(this.Zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Yr(e,t)])}}class Xu{constructor(e,t){this.persistence=e,this.ri=new Ho(o=>ZS(o.path),(o,s)=>o.isEqual(s)),this.garbageCollector=cI(this,t)}static ei(e,t){return new Xu(e,t)}Hr(){}Jr(e){return ee.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}Xn(e){const t=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(o=>t.next(s=>o+s))}nr(e){let t=0;return this.er(e,o=>{t++}).next(()=>t)}er(e,t){return ee.forEach(this.ri,(o,s)=>this.ir(e,o,s).next(l=>l?ee.resolve():t(s)))}removeTargets(e,t,o){return this.persistence.getTargetCache().removeTargets(e,t,o)}removeOrphanedDocuments(e,t){let o=0;const s=this.persistence.getRemoteDocumentCache(),l=s.newChangeBuffer();return s.Lr(e,h=>this.ir(e,h,t).next(f=>{f||(o++,l.removeEntry(h,Le.min()))})).next(()=>l.apply(e)).next(()=>o)}markPotentiallyOrphaned(e,t){return this.ri.set(t,e.currentSequenceNumber),ee.resolve()}removeTarget(e,t){const o=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,o)}addReference(e,t,o){return this.ri.set(o,e.currentSequenceNumber),ee.resolve()}removeReference(e,t,o){return this.ri.set(o,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,t){return this.ri.set(t,e.currentSequenceNumber),ee.resolve()}zr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=ku(e.data.value)),t}ir(e,t,o){return ee.or([()=>this.persistence.Yr(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.ri.get(t);return ee.resolve(s!==void 0&&s>o)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(e,t,o,s){this.targetId=e,this.fromCache=t,this.Wi=o,this.Gi=s}static zi(e,t){let o=ze(),s=ze();for(const l of t.docChanges)switch(l.type){case 0:o=o.add(l.doc.key);break;case 1:s=s.add(l.doc.key)}return new Tf(e,t.fromCache,o,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SI{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return wT()?8:XS(_T())>0?6:4}()}initialize(e,t){this.Zi=e,this.indexManager=t,this.ji=!0}getDocumentsMatchingQuery(e,t,o,s){const l={result:null};return this.Xi(e,t).next(h=>{l.result=h}).next(()=>{if(!l.result)return this.es(e,t,s,o).next(h=>{l.result=h})}).next(()=>{if(l.result)return;const h=new TI;return this.ts(e,t,h).next(f=>{if(l.result=f,this.Hi)return this.ns(e,t,h,f.size)})}).next(()=>l.result)}ns(e,t,o,s){return o.documentReadCount<this.Ji?(ks()<=Xe.DEBUG&&ge("QueryEngine","SDK will not create cache indexes for query:",xs(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),ee.resolve()):(ks()<=Xe.DEBUG&&ge("QueryEngine","Query:",xs(t),"scans",o.documentReadCount,"local documents and returns",s,"documents as results."),o.documentReadCount>this.Yi*s?(ks()<=Xe.DEBUG&&ge("QueryEngine","The SDK decides to create cache indexes for query:",xs(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,zr(t))):ee.resolve())}Xi(e,t){if(ey(t))return ee.resolve(null);let o=zr(t);return this.indexManager.getIndexType(e,o).next(s=>s===0?null:(t.limit!==null&&s===1&&(t=Ud(t,null,"F"),o=zr(t)),this.indexManager.getDocumentsMatchingTarget(e,o).next(l=>{const h=ze(...l);return this.Zi.getDocuments(e,h).next(f=>this.indexManager.getMinOffset(e,o).next(p=>{const y=this.rs(t,f);return this.ss(t,y,h,p.readTime)?this.Xi(e,Ud(t,null,"F")):this.os(e,y,t,p)}))})))}es(e,t,o,s){return ey(t)||s.isEqual(Le.min())?ee.resolve(null):this.Zi.getDocuments(e,o).next(l=>{const h=this.rs(t,l);return this.ss(t,h,o,s)?ee.resolve(null):(ks()<=Xe.DEBUG&&ge("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),xs(t)),this.os(e,h,t,WS(s,-1)).next(f=>f))})}rs(e,t){let o=new bt(jv(e));return t.forEach((s,l)=>{gc(e,l)&&(o=o.add(l))}),o}ss(e,t,o,s){if(e.limit===null)return!1;if(o.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(s)>0)}ts(e,t,o){return ks()<=Xe.DEBUG&&ge("QueryEngine","Using full collection scan to execute query:",xs(t)),this.Zi.getDocumentsMatchingQuery(e,t,to.min(),o)}os(e,t,o,s){return this.Zi.getDocumentsMatchingQuery(e,o,s).next(l=>(t.forEach(h=>{l=l.insert(h.key,h)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{constructor(e,t,o,s){this.persistence=e,this._s=t,this.serializer=s,this.us=new Tt(He),this.cs=new Ho(l=>ff(l),pf),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(o)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new fI(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.us))}}function II(n,e,t,o){return new RI(n,e,t,o)}async function l_(n,e){const t=Oe(n);return await t.persistence.runTransaction("Handle user change","readonly",o=>{let s;return t.mutationQueue.getAllMutationBatches(o).next(l=>(s=l,t.Ps(e),t.mutationQueue.getAllMutationBatches(o))).next(l=>{const h=[],f=[];let p=ze();for(const y of s){h.push(y.batchId);for(const _ of y.mutations)p=p.add(_.key)}for(const y of l){f.push(y.batchId);for(const _ of y.mutations)p=p.add(_.key)}return t.localDocuments.getDocuments(o,p).next(y=>({Ts:y,removedBatchIds:h,addedBatchIds:f}))})})}function CI(n,e){const t=Oe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const s=e.batch.keys(),l=t.hs.newChangeBuffer({trackRemovals:!0});return function(f,p,y,_){const S=y.batch,R=S.keys();let C=ee.resolve();return R.forEach(D=>{C=C.next(()=>_.getEntry(p,D)).next(z=>{const O=y.docVersions.get(D);st(O!==null),z.version.compareTo(O)<0&&(S.applyToRemoteDocument(z,y),z.isValidDocument()&&(z.setReadTime(y.commitVersion),_.addEntry(z)))})}),C.next(()=>f.mutationQueue.removeMutationBatch(p,S))}(t,o,e,l).next(()=>l.apply(o)).next(()=>t.mutationQueue.performConsistencyCheck(o)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(o,s,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,function(f){let p=ze();for(let y=0;y<f.mutationResults.length;++y)f.mutationResults[y].transformResults.length>0&&(p=p.add(f.batch.mutations[y].key));return p}(e))).next(()=>t.localDocuments.getDocuments(o,s))})}function u_(n){const e=Oe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Gr.getLastRemoteSnapshotVersion(t))}function AI(n,e){const t=Oe(n),o=e.snapshotVersion;let s=t.us;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const h=t.hs.newChangeBuffer({trackRemovals:!0});s=t.us;const f=[];e.targetChanges.forEach((_,S)=>{const R=s.get(S);if(!R)return;f.push(t.Gr.removeMatchingKeys(l,_.removedDocuments,S).next(()=>t.Gr.addMatchingKeys(l,_.addedDocuments,S)));let C=R.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(S)!==null?C=C.withResumeToken(tn.EMPTY_BYTE_STRING,Le.min()).withLastLimboFreeSnapshotVersion(Le.min()):_.resumeToken.approximateByteSize()>0&&(C=C.withResumeToken(_.resumeToken,o)),s=s.insert(S,C),function(z,O,B){return z.resumeToken.approximateByteSize()===0||O.snapshotVersion.toMicroseconds()-z.snapshotVersion.toMicroseconds()>=3e8?!0:B.addedDocuments.size+B.modifiedDocuments.size+B.removedDocuments.size>0}(R,C,_)&&f.push(t.Gr.updateTargetData(l,C))});let p=mi(),y=ze();if(e.documentUpdates.forEach(_=>{e.resolvedLimboDocuments.has(_)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(l,_))}),f.push(PI(l,h,e.documentUpdates).next(_=>{p=_.Is,y=_.Es})),!o.isEqual(Le.min())){const _=t.Gr.getLastRemoteSnapshotVersion(l).next(S=>t.Gr.setTargetsMetadata(l,l.currentSequenceNumber,o));f.push(_)}return ee.waitFor(f).next(()=>h.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,p,y)).next(()=>p)}).then(l=>(t.us=s,l))}function PI(n,e,t){let o=ze(),s=ze();return t.forEach(l=>o=o.add(l)),e.getEntries(n,o).next(l=>{let h=mi();return t.forEach((f,p)=>{const y=l.get(f);p.isFoundDocument()!==y.isFoundDocument()&&(s=s.add(f)),p.isNoDocument()&&p.version.isEqual(Le.min())?(e.removeEntry(f,p.readTime),h=h.insert(f,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),h=h.insert(f,p)):ge("LocalStore","Ignoring outdated watch update for ",f,". Current version:",y.version," Watch version:",p.version)}),{Is:h,Es:s}})}function kI(n,e){const t=Oe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",o=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(o,e)))}function xI(n,e){const t=Oe(n);return t.persistence.runTransaction("Allocate target","readwrite",o=>{let s;return t.Gr.getTargetData(o,e).next(l=>l?(s=l,ee.resolve(s)):t.Gr.allocateTargetId(o).next(h=>(s=new Gi(e,h,"TargetPurposeListen",o.currentSequenceNumber),t.Gr.addTargetData(o,s).next(()=>s))))}).then(o=>{const s=t.us.get(o.targetId);return(s===null||o.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.us=t.us.insert(o.targetId,o),t.cs.set(e,o.targetId)),o})}async function Hd(n,e,t){const o=Oe(n),s=o.us.get(e),l=t?"readwrite":"readwrite-primary";try{t||await o.persistence.runTransaction("Release target",l,h=>o.persistence.referenceDelegate.removeTarget(h,s))}catch(h){if(!Ws(h))throw h;ge("LocalStore",`Failed to update sequence numbers for target ${e}: ${h}`)}o.us=o.us.remove(e),o.cs.delete(s.target)}function dy(n,e,t){const o=Oe(n);let s=Le.min(),l=ze();return o.persistence.runTransaction("Execute query","readwrite",h=>function(p,y,_){const S=Oe(p),R=S.cs.get(_);return R!==void 0?ee.resolve(S.us.get(R)):S.Gr.getTargetData(y,_)}(o,h,zr(e)).next(f=>{if(f)return s=f.lastLimboFreeSnapshotVersion,o.Gr.getMatchingKeysForTargetId(h,f.targetId).next(p=>{l=p})}).next(()=>o._s.getDocumentsMatchingQuery(h,e,t?s:Le.min(),t?l:ze())).next(f=>(DI(o,vR(e),f),{documents:f,ds:l})))}function DI(n,e,t){let o=n.ls.get(e)||Le.min();t.forEach((s,l)=>{l.readTime.compareTo(o)>0&&(o=l.readTime)}),n.ls.set(e,o)}class fy{constructor(){this.activeTargetIds=RR()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class NI{constructor(){this._o=new fy,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,o){}addLocalQueryTarget(e,t=!0){return t&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,t,o){this.ao[e]=t}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new fy,Promise.resolve()}handleUserChange(e,t,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class py{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){ge("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){ge("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Su=null;function pd(){return Su===null?Su=function(){return 268435456+Math.round(2147483648*Math.random())}():Su++,"0x"+Su.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MI{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cn="WebChannelConnection";class OI extends class{get Co(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const o=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Fo=o+"://"+t.host,this.Mo=`projects/${s}/databases/${l}`,this.xo=this.databaseId.database==="(default)"?`project_id=${s}`:`project_id=${s}&database_id=${l}`}Oo(t,o,s,l,h){const f=pd(),p=this.No(t,o.toUriEncodedString());ge("RestConnection",`Sending RPC '${t}' ${f}:`,p,s);const y={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(y,l,h),this.Bo(t,p,y,s).then(_=>(ge("RestConnection",`Received RPC '${t}' ${f}: `,_),_),_=>{throw Os("RestConnection",`RPC '${t}' ${f} failed with error: `,_,"url: ",p,"request:",s),_})}ko(t,o,s,l,h,f){return this.Oo(t,o,s,l,h)}Lo(t,o,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Hs}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),o&&o.headers.forEach((l,h)=>t[h]=l),s&&s.headers.forEach((l,h)=>t[h]=l)}No(t,o){const s=LI[t];return`${this.Fo}/v1/${o}:${s}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,t,o,s){const l=pd();return new Promise((h,f)=>{const p=new Tv;p.setWithCredentials(!0),p.listenOnce(Sv.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case Pu.NO_ERROR:const _=p.getResponseJson();ge(cn,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(_)),h(_);break;case Pu.TIMEOUT:ge(cn,`RPC '${e}' ${l} timed out`),f(new Ie(oe.DEADLINE_EXCEEDED,"Request time out"));break;case Pu.HTTP_ERROR:const S=p.getStatus();if(ge(cn,`RPC '${e}' ${l} failed with status:`,S,"response text:",p.getResponseText()),S>0){let R=p.getResponseJson();Array.isArray(R)&&(R=R[0]);const C=R==null?void 0:R.error;if(C&&C.status&&C.message){const D=function(O){const B=O.toLowerCase().replace(/_/g,"-");return Object.values(oe).indexOf(B)>=0?B:oe.UNKNOWN}(C.status);f(new Ie(D,C.message))}else f(new Ie(oe.UNKNOWN,"Server responded with status "+p.getStatus()))}else f(new Ie(oe.UNAVAILABLE,"Connection failed."));break;default:Ne()}}finally{ge(cn,`RPC '${e}' ${l} completed.`)}});const y=JSON.stringify(s);ge(cn,`RPC '${e}' ${l} sending request:`,s),p.send(t,"POST",y,o,15)})}qo(e,t,o){const s=pd(),l=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=Cv(),f=Iv(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Lo(p.initMessageHeaders,t,o),p.encodeInitMessageHeaders=!0;const _=l.join("");ge(cn,`Creating RPC '${e}' stream ${s}: ${_}`,p);const S=h.createWebChannel(_,p);let R=!1,C=!1;const D=new MI({Eo:O=>{C?ge(cn,`Not sending because RPC '${e}' stream ${s} is closed:`,O):(R||(ge(cn,`Opening RPC '${e}' stream ${s} transport.`),S.open(),R=!0),ge(cn,`RPC '${e}' stream ${s} sending:`,O),S.send(O))},Ao:()=>S.close()}),z=(O,B,J)=>{O.listen(B,Y=>{try{J(Y)}catch(ne){setTimeout(()=>{throw ne},0)}})};return z(S,Na.EventType.OPEN,()=>{C||(ge(cn,`RPC '${e}' stream ${s} transport opened.`),D.So())}),z(S,Na.EventType.CLOSE,()=>{C||(C=!0,ge(cn,`RPC '${e}' stream ${s} transport closed`),D.Do())}),z(S,Na.EventType.ERROR,O=>{C||(C=!0,Os(cn,`RPC '${e}' stream ${s} transport errored:`,O),D.Do(new Ie(oe.UNAVAILABLE,"The operation could not be completed")))}),z(S,Na.EventType.MESSAGE,O=>{var B;if(!C){const J=O.data[0];st(!!J);const Y=J,ne=(Y==null?void 0:Y.error)||((B=Y[0])===null||B===void 0?void 0:B.error);if(ne){ge(cn,`RPC '${e}' stream ${s} received error:`,ne);const L=ne.status;let ie=function(I){const x=Dt[I];if(x!==void 0)return Xv(x)}(L),k=ne.message;ie===void 0&&(ie=oe.INTERNAL,k="Unknown error status: "+L+" with message "+ne.message),C=!0,D.Do(new Ie(ie,k)),S.close()}else ge(cn,`RPC '${e}' stream ${s} received:`,J),D.vo(J)}}),z(f,Rv.STAT_EVENT,O=>{O.stat===Ld.PROXY?ge(cn,`RPC '${e}' stream ${s} detected buffering proxy`):O.stat===Ld.NOPROXY&&ge(cn,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{D.bo()},0),D}}function md(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ec(n){return new $R(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c_{constructor(e,t,o=1e3,s=1.5,l=6e4){this.li=e,this.timerId=t,this.Qo=o,this.Ko=s,this.$o=l,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const t=Math.floor(this.Uo+this.Ho()),o=Math.max(0,Date.now()-this.Go),s=Math.max(0,t-o);s>0&&ge("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Uo} ms, delay with jitter: ${t} ms, last attempt: ${o} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,s,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h_{constructor(e,t,o,s,l,h,f,p){this.li=e,this.Yo=o,this.Zo=s,this.connection=l,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=f,this.listener=p,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new c_(e,t)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,t){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():t&&t.code===oe.RESOURCE_EXHAUSTED?(pi(t.toString()),pi("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):t&&t.code===oe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(t)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),t=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,s])=>{this.Xo===t&&this.I_(o,s)},o=>{e(()=>{const s=new Ie(oe.UNKNOWN,"Fetching auth token failed: "+o.message);return this.E_(s)})})}I_(e,t){const o=this.T_(this.Xo);this.stream=this.d_(e,t),this.stream.Ro(()=>{o(()=>this.listener.Ro())}),this.stream.mo(()=>{o(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(s=>{o(()=>this.E_(s))}),this.stream.onMessage(s=>{o(()=>++this.n_==1?this.A_(s):this.onNext(s))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return ge("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return t=>{this.li.enqueueAndForget(()=>this.Xo===e?t():(ge("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class bI extends h_{constructor(e,t,o,s,l,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,o,s,h),this.serializer=l}d_(e,t){return this.connection.qo("Listen",e,t)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const t=WR(this.serializer,e),o=function(l){if(!("targetChange"in l))return Le.min();const h=l.targetChange;return h.targetIds&&h.targetIds.length?Le.min():h.readTime?Br(h.readTime):Le.min()}(e);return this.listener.R_(t,o)}V_(e){const t={};t.database=$d(this.serializer),t.addTarget=function(l,h){let f;const p=h.target;if(f=Fd(p)?{documents:GR(l,p)}:{query:YR(l,p).ct},f.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){f.resumeToken=e_(l,h.resumeToken);const y=jd(l,h.expectedCount);y!==null&&(f.expectedCount=y)}else if(h.snapshotVersion.compareTo(Le.min())>0){f.readTime=Yu(l,h.snapshotVersion.toTimestamp());const y=jd(l,h.expectedCount);y!==null&&(f.expectedCount=y)}return f}(this.serializer,e);const o=JR(this.serializer,e);o&&(t.labels=o),this.c_(t)}m_(e){const t={};t.database=$d(this.serializer),t.removeTarget=e,this.c_(t)}}class FI extends h_{constructor(e,t,o,s,l,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,o,s,h),this.serializer=l}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(e,t){return this.connection.qo("Write",e,t)}A_(e){return st(!!e.streamToken),this.lastStreamToken=e.streamToken,st(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){st(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const t=QR(e.writeResults,e.commitTime),o=Br(e.commitTime);return this.listener.y_(o,t)}w_(){const e={};e.database=$d(this.serializer),this.c_(e)}g_(e){const t={streamToken:this.lastStreamToken,writes:e.map(o=>KR(this.serializer,o))};this.c_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UI extends class{}{constructor(e,t,o,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=o,this.serializer=s,this.S_=!1}b_(){if(this.S_)throw new Ie(oe.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,t,o,s){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,h])=>this.connection.Oo(e,zd(t,o),s,l,h)).catch(l=>{throw l.name==="FirebaseError"?(l.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Ie(oe.UNKNOWN,l.toString())})}ko(e,t,o,s,l){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,f])=>this.connection.ko(e,zd(t,o),s,h,f,l)).catch(h=>{throw h.name==="FirebaseError"?(h.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new Ie(oe.UNKNOWN,h.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class jI{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(pi(t),this.C_=!1):ge("OnlineStateTracker",t)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zI{constructor(e,t,o,s,l){this.localStore=e,this.datastore=t,this.asyncQueue=o,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=l,this.Q_.uo(h=>{o.enqueueAndForget(async()=>{Wo(this)&&(ge("RemoteStore","Restarting streams for network reachability change."),await async function(p){const y=Oe(p);y.k_.add(4),await il(y),y.K_.set("Unknown"),y.k_.delete(4),await wc(y)}(this))})}),this.K_=new jI(o,s)}}async function wc(n){if(Wo(n))for(const e of n.q_)await e(!0)}async function il(n){for(const e of n.q_)await e(!1)}function d_(n,e){const t=Oe(n);t.B_.has(e.targetId)||(t.B_.set(e.targetId,e),Cf(t)?If(t):Ks(t).s_()&&Rf(t,e))}function Sf(n,e){const t=Oe(n),o=Ks(t);t.B_.delete(e),o.s_()&&f_(t,e),t.B_.size===0&&(o.s_()?o.a_():Wo(t)&&t.K_.set("Unknown"))}function Rf(n,e){if(n.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Le.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ks(n).V_(e)}function f_(n,e){n.U_.xe(e),Ks(n).m_(e)}function If(n){n.U_=new UR({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>n.B_.get(e)||null,nt:()=>n.datastore.serializer.databaseId}),Ks(n).start(),n.K_.F_()}function Cf(n){return Wo(n)&&!Ks(n).i_()&&n.B_.size>0}function Wo(n){return Oe(n).k_.size===0}function p_(n){n.U_=void 0}async function BI(n){n.K_.set("Online")}async function $I(n){n.B_.forEach((e,t)=>{Rf(n,e)})}async function HI(n,e){p_(n),Cf(n)?(n.K_.O_(e),If(n)):n.K_.set("Unknown")}async function qI(n,e,t){if(n.K_.set("Online"),e instanceof Zv&&e.state===2&&e.cause)try{await async function(s,l){const h=l.cause;for(const f of l.targetIds)s.B_.has(f)&&(await s.remoteSyncer.rejectListen(f,h),s.B_.delete(f),s.U_.removeTarget(f))}(n,e)}catch(o){ge("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),await Ju(n,o)}else if(e instanceof Nu?n.U_.$e(e):e instanceof Jv?n.U_.Je(e):n.U_.Ge(e),!t.isEqual(Le.min()))try{const o=await u_(n.localStore);t.compareTo(o)>=0&&await function(l,h){const f=l.U_.it(h);return f.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const _=l.B_.get(y);_&&l.B_.set(y,_.withResumeToken(p.resumeToken,h))}}),f.targetMismatches.forEach((p,y)=>{const _=l.B_.get(p);if(!_)return;l.B_.set(p,_.withResumeToken(tn.EMPTY_BYTE_STRING,_.snapshotVersion)),f_(l,p);const S=new Gi(_.target,p,y,_.sequenceNumber);Rf(l,S)}),l.remoteSyncer.applyRemoteEvent(f)}(n,t)}catch(o){ge("RemoteStore","Failed to raise snapshot:",o),await Ju(n,o)}}async function Ju(n,e,t){if(!Ws(e))throw e;n.k_.add(1),await il(n),n.K_.set("Offline"),t||(t=()=>u_(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ge("RemoteStore","Retrying IndexedDB access"),await t(),n.k_.delete(1),await wc(n)})}function m_(n,e){return e().catch(t=>Ju(n,t,e))}async function Tc(n){const e=Oe(n),t=oo(e);let o=e.L_.length>0?e.L_[e.L_.length-1].batchId:-1;for(;WI(e);)try{const s=await kI(e.localStore,o);if(s===null){e.L_.length===0&&t.a_();break}o=s.batchId,KI(e,s)}catch(s){await Ju(e,s)}g_(e)&&y_(e)}function WI(n){return Wo(n)&&n.L_.length<10}function KI(n,e){n.L_.push(e);const t=oo(n);t.s_()&&t.f_&&t.g_(e.mutations)}function g_(n){return Wo(n)&&!oo(n).i_()&&n.L_.length>0}function y_(n){oo(n).start()}async function QI(n){oo(n).w_()}async function GI(n){const e=oo(n);for(const t of n.L_)e.g_(t.mutations)}async function YI(n,e,t){const o=n.L_.shift(),s=yf.from(o,e,t);await m_(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),await Tc(n)}async function XI(n,e){e&&oo(n).f_&&await async function(o,s){if(function(h){return OR(h)&&h!==oe.ABORTED}(s.code)){const l=o.L_.shift();oo(o).__(),await m_(o,()=>o.remoteSyncer.rejectFailedWrite(l.batchId,s)),await Tc(o)}}(n,e),g_(n)&&y_(n)}async function my(n,e){const t=Oe(n);t.asyncQueue.verifyOperationInProgress(),ge("RemoteStore","RemoteStore received new credentials");const o=Wo(t);t.k_.add(3),await il(t),o&&t.K_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.k_.delete(3),await wc(t)}async function JI(n,e){const t=Oe(n);e?(t.k_.delete(2),await wc(t)):e||(t.k_.add(2),await il(t),t.K_.set("Unknown"))}function Ks(n){return n.W_||(n.W_=function(t,o,s){const l=Oe(t);return l.b_(),new bI(o,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,s)}(n.datastore,n.asyncQueue,{Ro:BI.bind(null,n),mo:$I.bind(null,n),po:HI.bind(null,n),R_:qI.bind(null,n)}),n.q_.push(async e=>{e?(n.W_.__(),Cf(n)?If(n):n.K_.set("Unknown")):(await n.W_.stop(),p_(n))})),n.W_}function oo(n){return n.G_||(n.G_=function(t,o,s){const l=Oe(t);return l.b_(),new FI(o,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,s)}(n.datastore,n.asyncQueue,{Ro:()=>Promise.resolve(),mo:QI.bind(null,n),po:XI.bind(null,n),p_:GI.bind(null,n),y_:YI.bind(null,n)}),n.q_.push(async e=>{e?(n.G_.__(),await Tc(n)):(await n.G_.stop(),n.L_.length>0&&(ge("RemoteStore",`Stopping write stream with ${n.L_.length} pending writes`),n.L_=[]))})),n.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Af{constructor(e,t,o,s,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=o,this.op=s,this.removalCallback=l,this.deferred=new Ji,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,o,s,l){const h=Date.now()+o,f=new Af(e,t,h,s,l);return f.start(o),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ie(oe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Pf(n,e){if(pi("AsyncQueue",`${e}: ${n}`),Ws(n))return new Ie(oe.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{static emptySet(e){return new Ls(e.comparator)}constructor(e){this.comparator=e?(t,o)=>e(t,o)||ke.comparator(t.key,o.key):(t,o)=>ke.comparator(t.key,o.key),this.keyedMap=Va(),this.sortedSet=new Tt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,o)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Ls)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,l=o.getNext().key;if(!s.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const o=new Ls;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=t,o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gy{constructor(){this.z_=new Tt(ke.comparator)}track(e){const t=e.doc.key,o=this.z_.get(t);o?e.type!==0&&o.type===3?this.z_=this.z_.insert(t,e):e.type===3&&o.type!==1?this.z_=this.z_.insert(t,{type:o.type,doc:e.doc}):e.type===2&&o.type===2?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):e.type===2&&o.type===0?this.z_=this.z_.insert(t,{type:0,doc:e.doc}):e.type===1&&o.type===0?this.z_=this.z_.remove(t):e.type===1&&o.type===2?this.z_=this.z_.insert(t,{type:1,doc:o.doc}):e.type===0&&o.type===1?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):Ne():this.z_=this.z_.insert(t,e)}j_(){const e=[];return this.z_.inorderTraversal((t,o)=>{e.push(o)}),e}}class zs{constructor(e,t,o,s,l,h,f,p,y){this.query=e,this.docs=t,this.oldDocs=o,this.docChanges=s,this.mutatedKeys=l,this.fromCache=h,this.syncStateChanged=f,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,t,o,s,l){const h=[];return t.forEach(f=>{h.push({type:0,doc:f})}),new zs(e,t,Ls.emptySet(t),h,o,s,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&mc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,o=e.docChanges;if(t.length!==o.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==o[s].type||!t[s].doc.isEqual(o[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class eC{constructor(){this.queries=yy(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(t,o){const s=Oe(t),l=s.queries;s.queries=yy(),l.forEach((h,f)=>{for(const p of f.J_)p.onError(o)})})(this,new Ie(oe.ABORTED,"Firestore shutting down"))}}function yy(){return new Ho(n=>Uv(n),mc)}async function tC(n,e){const t=Oe(n);let o=3;const s=e.query;let l=t.queries.get(s);l?!l.Y_()&&e.Z_()&&(o=2):(l=new ZI,o=e.Z_()?0:1);try{switch(o){case 0:l.H_=await t.onListen(s,!0);break;case 1:l.H_=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(h){const f=Pf(h,`Initialization of query '${xs(e.query)}' failed`);return void e.onError(f)}t.queries.set(s,l),l.J_.push(e),e.ea(t.onlineState),l.H_&&e.ta(l.H_)&&kf(t)}async function nC(n,e){const t=Oe(n),o=e.query;let s=3;const l=t.queries.get(o);if(l){const h=l.J_.indexOf(e);h>=0&&(l.J_.splice(h,1),l.J_.length===0?s=e.Z_()?0:1:!l.Y_()&&e.Z_()&&(s=2))}switch(s){case 0:return t.queries.delete(o),t.onUnlisten(o,!0);case 1:return t.queries.delete(o),t.onUnlisten(o,!1);case 2:return t.onLastRemoteStoreUnlisten(o);default:return}}function rC(n,e){const t=Oe(n);let o=!1;for(const s of e){const l=s.query,h=t.queries.get(l);if(h){for(const f of h.J_)f.ta(s)&&(o=!0);h.H_=s}}o&&kf(t)}function iC(n,e,t){const o=Oe(n),s=o.queries.get(e);if(s)for(const l of s.J_)l.onError(t);o.queries.delete(e)}function kf(n){n.X_.forEach(e=>{e.next()})}var qd,vy;(vy=qd||(qd={})).na="default",vy.Cache="cache";class oC{constructor(e,t,o){this.query=e,this.ra=t,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=o||{}}ta(e){if(!this.options.includeMetadataChanges){const o=[];for(const s of e.docChanges)s.type!==3&&o.push(s);e=new zs(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ia?this.oa(e)&&(this.ra.next(e),t=!0):this._a(e,this.onlineState)&&(this.aa(e),t=!0),this.sa=e,t}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let t=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),t=!0),t}_a(e,t){if(!e.fromCache||!this.Z_())return!0;const o=t!=="Offline";return(!this.options.ua||!o)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const t=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}aa(e){e=zs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==qd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v_{constructor(e){this.key=e}}class __{constructor(e){this.key=e}}class sC{constructor(e,t){this.query=e,this.da=t,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=ze(),this.mutatedKeys=ze(),this.Va=jv(e),this.ma=new Ls(this.Va)}get fa(){return this.da}ga(e,t){const o=t?t.pa:new gy,s=t?t.ma:this.ma;let l=t?t.mutatedKeys:this.mutatedKeys,h=s,f=!1;const p=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,y=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((_,S)=>{const R=s.get(_),C=gc(this.query,S)?S:null,D=!!R&&this.mutatedKeys.has(R.key),z=!!C&&(C.hasLocalMutations||this.mutatedKeys.has(C.key)&&C.hasCommittedMutations);let O=!1;R&&C?R.data.isEqual(C.data)?D!==z&&(o.track({type:3,doc:C}),O=!0):this.ya(R,C)||(o.track({type:2,doc:C}),O=!0,(p&&this.Va(C,p)>0||y&&this.Va(C,y)<0)&&(f=!0)):!R&&C?(o.track({type:0,doc:C}),O=!0):R&&!C&&(o.track({type:1,doc:R}),O=!0,(p||y)&&(f=!0)),O&&(C?(h=h.add(C),l=z?l.add(_):l.delete(_)):(h=h.delete(_),l=l.delete(_)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const _=this.query.limitType==="F"?h.last():h.first();h=h.delete(_.key),l=l.delete(_.key),o.track({type:1,doc:_})}return{ma:h,pa:o,ss:f,mutatedKeys:l}}ya(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,o,s){const l=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const h=e.pa.j_();h.sort((_,S)=>function(C,D){const z=O=>{switch(O){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ne()}};return z(C)-z(D)}(_.type,S.type)||this.Va(_.doc,S.doc)),this.wa(o),s=s!=null&&s;const f=t&&!s?this.Sa():[],p=this.Ra.size===0&&this.current&&!s?1:0,y=p!==this.Aa;return this.Aa=p,h.length!==0||y?{snapshot:new zs(this.query,e.ma,l,h,e.mutatedKeys,p===0,y,!1,!!o&&o.resumeToken.approximateByteSize()>0),ba:f}:{ba:f}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new gy,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(t=>this.da=this.da.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.da=this.da.delete(t)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=ze(),this.ma.forEach(o=>{this.Da(o.key)&&(this.Ra=this.Ra.add(o.key))});const t=[];return e.forEach(o=>{this.Ra.has(o)||t.push(new __(o))}),this.Ra.forEach(o=>{e.has(o)||t.push(new v_(o))}),t}va(e){this.da=e.ds,this.Ra=ze();const t=this.ga(e.documents);return this.applyChanges(t,!0)}Ca(){return zs.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class aC{constructor(e,t,o){this.query=e,this.targetId=t,this.view=o}}class lC{constructor(e){this.key=e,this.Fa=!1}}class uC{constructor(e,t,o,s,l,h){this.localStore=e,this.remoteStore=t,this.eventManager=o,this.sharedClientState=s,this.currentUser=l,this.maxConcurrentLimboResolutions=h,this.Ma={},this.xa=new Ho(f=>Uv(f),mc),this.Oa=new Map,this.Na=new Set,this.La=new Tt(ke.comparator),this.Ba=new Map,this.ka=new Ef,this.qa={},this.Qa=new Map,this.Ka=js.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function cC(n,e,t=!0){const o=I_(n);let s;const l=o.xa.get(e);return l?(o.sharedClientState.addLocalQueryTarget(l.targetId),s=l.view.Ca()):s=await E_(o,e,t,!0),s}async function hC(n,e){const t=I_(n);await E_(t,e,!0,!1)}async function E_(n,e,t,o){const s=await xI(n.localStore,zr(e)),l=s.targetId,h=n.sharedClientState.addLocalQueryTarget(l,t);let f;return o&&(f=await dC(n,e,l,h==="current",s.resumeToken)),n.isPrimaryClient&&t&&d_(n.remoteStore,s),f}async function dC(n,e,t,o,s){n.Ua=(S,R,C)=>async function(z,O,B,J){let Y=O.view.ga(B);Y.ss&&(Y=await dy(z.localStore,O.query,!1).then(({documents:k})=>O.view.ga(k,Y)));const ne=J&&J.targetChanges.get(O.targetId),L=J&&J.targetMismatches.get(O.targetId)!=null,ie=O.view.applyChanges(Y,z.isPrimaryClient,ne,L);return Ey(z,O.targetId,ie.ba),ie.snapshot}(n,S,R,C);const l=await dy(n.localStore,e,!0),h=new sC(e,l.ds),f=h.ga(l.documents),p=rl.createSynthesizedTargetChangeForCurrentChange(t,o&&n.onlineState!=="Offline",s),y=h.applyChanges(f,n.isPrimaryClient,p);Ey(n,t,y.ba);const _=new aC(e,t,h);return n.xa.set(e,_),n.Oa.has(t)?n.Oa.get(t).push(e):n.Oa.set(t,[e]),y.snapshot}async function fC(n,e,t){const o=Oe(n),s=o.xa.get(e),l=o.Oa.get(s.targetId);if(l.length>1)return o.Oa.set(s.targetId,l.filter(h=>!mc(h,e))),void o.xa.delete(e);o.isPrimaryClient?(o.sharedClientState.removeLocalQueryTarget(s.targetId),o.sharedClientState.isActiveQueryTarget(s.targetId)||await Hd(o.localStore,s.targetId,!1).then(()=>{o.sharedClientState.clearQueryState(s.targetId),t&&Sf(o.remoteStore,s.targetId),Wd(o,s.targetId)}).catch(qs)):(Wd(o,s.targetId),await Hd(o.localStore,s.targetId,!0))}async function pC(n,e){const t=Oe(n),o=t.xa.get(e),s=t.Oa.get(o.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(o.targetId),Sf(t.remoteStore,o.targetId))}async function mC(n,e,t){const o=TC(n);try{const s=await function(h,f){const p=Oe(h),y=Ot.now(),_=f.reduce((C,D)=>C.add(D.key),ze());let S,R;return p.persistence.runTransaction("Locally write mutations","readwrite",C=>{let D=mi(),z=ze();return p.hs.getEntries(C,_).next(O=>{D=O,D.forEach((B,J)=>{J.isValidDocument()||(z=z.add(B))})}).next(()=>p.localDocuments.getOverlayedDocuments(C,D)).next(O=>{S=O;const B=[];for(const J of f){const Y=DR(J,S.get(J.key).overlayedDocument);Y!=null&&B.push(new qo(J.key,Y,Dv(Y.value.mapValue),Sr.exists(!0)))}return p.mutationQueue.addMutationBatch(C,y,B,f)}).next(O=>{R=O;const B=O.applyToLocalDocumentSet(S,z);return p.documentOverlayCache.saveOverlays(C,O.batchId,B)})}).then(()=>({batchId:R.batchId,changes:Bv(S)}))}(o.localStore,e);o.sharedClientState.addPendingMutation(s.batchId),function(h,f,p){let y=h.qa[h.currentUser.toKey()];y||(y=new Tt(He)),y=y.insert(f,p),h.qa[h.currentUser.toKey()]=y}(o,s.batchId,t),await ol(o,s.changes),await Tc(o.remoteStore)}catch(s){const l=Pf(s,"Failed to persist write");t.reject(l)}}async function w_(n,e){const t=Oe(n);try{const o=await AI(t.localStore,e);e.targetChanges.forEach((s,l)=>{const h=t.Ba.get(l);h&&(st(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?h.Fa=!0:s.modifiedDocuments.size>0?st(h.Fa):s.removedDocuments.size>0&&(st(h.Fa),h.Fa=!1))}),await ol(t,o,e)}catch(o){await qs(o)}}function _y(n,e,t){const o=Oe(n);if(o.isPrimaryClient&&t===0||!o.isPrimaryClient&&t===1){const s=[];o.xa.forEach((l,h)=>{const f=h.view.ea(e);f.snapshot&&s.push(f.snapshot)}),function(h,f){const p=Oe(h);p.onlineState=f;let y=!1;p.queries.forEach((_,S)=>{for(const R of S.J_)R.ea(f)&&(y=!0)}),y&&kf(p)}(o.eventManager,e),s.length&&o.Ma.R_(s),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}async function gC(n,e,t){const o=Oe(n);o.sharedClientState.updateQueryState(e,"rejected",t);const s=o.Ba.get(e),l=s&&s.key;if(l){let h=new Tt(ke.comparator);h=h.insert(l,dn.newNoDocument(l,Le.min()));const f=ze().add(l),p=new _c(Le.min(),new Map,new Tt(He),h,f);await w_(o,p),o.La=o.La.remove(l),o.Ba.delete(e),xf(o)}else await Hd(o.localStore,e,!1).then(()=>Wd(o,e,t)).catch(qs)}async function yC(n,e){const t=Oe(n),o=e.batch.batchId;try{const s=await CI(t.localStore,e);S_(t,o,null),T_(t,o),t.sharedClientState.updateMutationState(o,"acknowledged"),await ol(t,s)}catch(s){await qs(s)}}async function vC(n,e,t){const o=Oe(n);try{const s=await function(h,f){const p=Oe(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let _;return p.mutationQueue.lookupMutationBatch(y,f).next(S=>(st(S!==null),_=S.keys(),p.mutationQueue.removeMutationBatch(y,S))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,_,f)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,_)).next(()=>p.localDocuments.getDocuments(y,_))})}(o.localStore,e);S_(o,e,t),T_(o,e),o.sharedClientState.updateMutationState(e,"rejected",t),await ol(o,s)}catch(s){await qs(s)}}function T_(n,e){(n.Qa.get(e)||[]).forEach(t=>{t.resolve()}),n.Qa.delete(e)}function S_(n,e,t){const o=Oe(n);let s=o.qa[o.currentUser.toKey()];if(s){const l=s.get(e);l&&(t?l.reject(t):l.resolve(),s=s.remove(e)),o.qa[o.currentUser.toKey()]=s}}function Wd(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const o of n.Oa.get(e))n.xa.delete(o),t&&n.Ma.Wa(o,t);n.Oa.delete(e),n.isPrimaryClient&&n.ka.yr(e).forEach(o=>{n.ka.containsKey(o)||R_(n,o)})}function R_(n,e){n.Na.delete(e.path.canonicalString());const t=n.La.get(e);t!==null&&(Sf(n.remoteStore,t),n.La=n.La.remove(e),n.Ba.delete(t),xf(n))}function Ey(n,e,t){for(const o of t)o instanceof v_?(n.ka.addReference(o.key,e),_C(n,o)):o instanceof __?(ge("SyncEngine","Document no longer in limbo: "+o.key),n.ka.removeReference(o.key,e),n.ka.containsKey(o.key)||R_(n,o.key)):Ne()}function _C(n,e){const t=e.key,o=t.path.canonicalString();n.La.get(t)||n.Na.has(o)||(ge("SyncEngine","New document in limbo: "+t),n.Na.add(o),xf(n))}function xf(n){for(;n.Na.size>0&&n.La.size<n.maxConcurrentLimboResolutions;){const e=n.Na.values().next().value;n.Na.delete(e);const t=new ke(_t.fromString(e)),o=n.Ka.next();n.Ba.set(o,new lC(t)),n.La=n.La.insert(t,o),d_(n.remoteStore,new Gi(zr(Fv(t.path)),o,"TargetPurposeLimboResolution",hc.oe))}}async function ol(n,e,t){const o=Oe(n),s=[],l=[],h=[];o.xa.isEmpty()||(o.xa.forEach((f,p)=>{h.push(o.Ua(p,e,t).then(y=>{var _;if((y||t)&&o.isPrimaryClient){const S=y?!y.fromCache:(_=t==null?void 0:t.targetChanges.get(p.targetId))===null||_===void 0?void 0:_.current;o.sharedClientState.updateQueryState(p.targetId,S?"current":"not-current")}if(y){s.push(y);const S=Tf.zi(p.targetId,y);l.push(S)}}))}),await Promise.all(h),o.Ma.R_(s),await async function(p,y){const _=Oe(p);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>ee.forEach(y,R=>ee.forEach(R.Wi,C=>_.persistence.referenceDelegate.addReference(S,R.targetId,C)).next(()=>ee.forEach(R.Gi,C=>_.persistence.referenceDelegate.removeReference(S,R.targetId,C)))))}catch(S){if(!Ws(S))throw S;ge("LocalStore","Failed to update sequence numbers: "+S)}for(const S of y){const R=S.targetId;if(!S.fromCache){const C=_.us.get(R),D=C.snapshotVersion,z=C.withLastLimboFreeSnapshotVersion(D);_.us=_.us.insert(R,z)}}}(o.localStore,l))}async function EC(n,e){const t=Oe(n);if(!t.currentUser.isEqual(e)){ge("SyncEngine","User change. New user:",e.toKey());const o=await l_(t.localStore,e);t.currentUser=e,function(l,h){l.Qa.forEach(f=>{f.forEach(p=>{p.reject(new Ie(oe.CANCELLED,h))})}),l.Qa.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),await ol(t,o.Ts)}}function wC(n,e){const t=Oe(n),o=t.Ba.get(e);if(o&&o.Fa)return ze().add(o.key);{let s=ze();const l=t.Oa.get(e);if(!l)return s;for(const h of l){const f=t.xa.get(h);s=s.unionWith(f.view.fa)}return s}}function I_(n){const e=Oe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=w_.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=wC.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=gC.bind(null,e),e.Ma.R_=rC.bind(null,e.eventManager),e.Ma.Wa=iC.bind(null,e.eventManager),e}function TC(n){const e=Oe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=yC.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=vC.bind(null,e),e}class Zu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ec(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,t){return null}Ya(e,t){return null}Ha(e){return II(this.persistence,new SI,e.initialUser,this.serializer)}ja(e){return new a_(wf.ei,this.serializer)}za(e){return new NI}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Zu.provider={build:()=>new Zu};class SC extends Zu{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,t){st(this.persistence.referenceDelegate instanceof Xu);const o=this.persistence.referenceDelegate.garbageCollector;return new lI(o,e.asyncQueue,t)}ja(e){const t=this.cacheSizeBytes!==void 0?kn.withCacheSize(this.cacheSizeBytes):kn.DEFAULT;return new a_(o=>Xu.ei(o,t),this.serializer)}}class Kd{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=o=>_y(this.syncEngine,o,1),this.remoteStore.remoteSyncer.handleCredentialChange=EC.bind(null,this.syncEngine),await JI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new eC}()}createDatastore(e){const t=Ec(e.databaseInfo.databaseId),o=function(l){return new OI(l)}(e.databaseInfo);return function(l,h,f,p){return new UI(l,h,f,p)}(e.authCredentials,e.appCheckCredentials,o,t)}createRemoteStore(e){return function(o,s,l,h,f){return new zI(o,s,l,h,f)}(this.localStore,this.datastore,e.asyncQueue,t=>_y(this.syncEngine,t,0),function(){return py.p()?new py:new VI}())}createSyncEngine(e,t){return function(s,l,h,f,p,y,_){const S=new uC(s,l,h,f,p,y);return _&&(S.$a=!0),S}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(s){const l=Oe(s);ge("RemoteStore","RemoteStore shutting down."),l.k_.add(5),await il(l),l.Q_.shutdown(),l.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Kd.provider={build:()=>new Kd};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):pi("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC{constructor(e,t,o,s,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=o,this.databaseInfo=s,this.user=hn.UNAUTHENTICATED,this.clientId=Pv.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(o,async h=>{ge("FirestoreClient","Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(o,h=>(ge("FirestoreClient","Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ji;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const o=Pf(t,"Failed to shutdown persistence");e.reject(o)}}),e.promise}}async function gd(n,e){n.asyncQueue.verifyOperationInProgress(),ge("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let o=t.initialUser;n.setCredentialChangeListener(async s=>{o.isEqual(s)||(await l_(e.localStore,s),o=s)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function wy(n,e){n.asyncQueue.verifyOperationInProgress();const t=await CC(n);ge("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(o=>my(e.remoteStore,o)),n.setAppCheckTokenChangeListener((o,s)=>my(e.remoteStore,s)),n._onlineComponents=e}async function CC(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ge("FirestoreClient","Using user provided OfflineComponentProvider");try{await gd(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(s){return s.name==="FirebaseError"?s.code===oe.FAILED_PRECONDITION||s.code===oe.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(t))throw t;Os("Error using user provided cache. Falling back to memory cache: "+t),await gd(n,new Zu)}}else ge("FirestoreClient","Using default OfflineComponentProvider"),await gd(n,new SC(void 0));return n._offlineComponents}async function C_(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ge("FirestoreClient","Using user provided OnlineComponentProvider"),await wy(n,n._uninitializedComponentsProvider._online)):(ge("FirestoreClient","Using default OnlineComponentProvider"),await wy(n,new Kd))),n._onlineComponents}function AC(n){return C_(n).then(e=>e.syncEngine)}async function PC(n){const e=await C_(n),t=e.eventManager;return t.onListen=cC.bind(null,e.syncEngine),t.onUnlisten=fC.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=hC.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=pC.bind(null,e.syncEngine),t}function kC(n,e,t={}){const o=new Ji;return n.asyncQueue.enqueueAndForget(async()=>function(l,h,f,p,y){const _=new RC({next:R=>{_.eu(),h.enqueueAndForget(()=>nC(l,S)),R.fromCache&&p.source==="server"?y.reject(new Ie(oe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(R)},error:R=>y.reject(R)}),S=new oC(f,_,{includeMetadataChanges:!0,ua:!0});return tC(l,S)}(await PC(n),n.asyncQueue,e,t,o)),o.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A_(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ty=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P_(n,e,t){if(!t)throw new Ie(oe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function xC(n,e,t,o){if(e===!0&&o===!0)throw new Ie(oe.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Sy(n){if(!ke.isDocumentKey(n))throw new Ie(oe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Ry(n){if(ke.isDocumentKey(n))throw new Ie(oe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Df(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(o){return o.constructor?o.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ne()}function jo(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ie(oe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Df(n);throw new Ie(oe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iy{constructor(e){var t,o;if(e.host===void 0){if(e.ssl!==void 0)throw new Ie(oe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Ie(oe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}xC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=A_((o=e.experimentalLongPollingOptions)!==null&&o!==void 0?o:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new Ie(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new Ie(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new Ie(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(o,s){return o.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Sc{constructor(e,t,o,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=o,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Iy({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ie(oe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ie(oe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Iy(e),e.credentials!==void 0&&(this._authCredentials=function(o){if(!o)return new bS;switch(o.type){case"firstParty":return new zS(o.sessionIndex||"0",o.iamToken||null,o.authTokenFactory||null);case"provider":return o.client;default:throw new Ie(oe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const o=Ty.get(t);o&&(ge("ComponentProvider","Removing Datastore"),Ty.delete(t),o.terminate())}(this),Promise.resolve()}}function DC(n,e,t,o={}){var s;const l=(n=jo(n,Sc))._getSettings(),h=`${e}:${t}`;if(l.host!=="firestore.googleapis.com"&&l.host!==h&&Os("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},l),{host:h,ssl:!1})),o.mockUserToken){let f,p;if(typeof o.mockUserToken=="string")f=o.mockUserToken,p=hn.MOCK_USER;else{f=vT(o.mockUserToken,(s=n._app)===null||s===void 0?void 0:s.options.projectId);const y=o.mockUserToken.sub||o.mockUserToken.user_id;if(!y)throw new Ie(oe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new hn(y)}n._authCredentials=new FS(new Av(f,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(e,t,o){this.converter=t,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new Rc(this.firestore,e,this._query)}}class Zn{constructor(e,t,o){this.converter=t,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Zn(this.firestore,e,this._key)}}class Zi extends Rc{constructor(e,t,o){super(e,t,Fv(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Zn(this.firestore,null,new ke(e))}withConverter(e){return new Zi(this.firestore,e,this._path)}}function Ja(n,e,...t){if(n=$a(n),P_("collection","path",e),n instanceof Sc){const o=_t.fromString(e,...t);return Ry(o),new Zi(n,null,o)}{if(!(n instanceof Zn||n instanceof Zi))throw new Ie(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=n._path.child(_t.fromString(e,...t));return Ry(o),new Zi(n.firestore,null,o)}}function Nf(n,e,...t){if(n=$a(n),arguments.length===1&&(e=Pv.newId()),P_("doc","path",e),n instanceof Sc){const o=_t.fromString(e,...t);return Sy(o),new Zn(n,null,new ke(o))}{if(!(n instanceof Zn||n instanceof Zi))throw new Ie(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=n._path.child(_t.fromString(e,...t));return Sy(o),new Zn(n.firestore,n instanceof Zi?n.converter:null,new ke(o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cy{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new c_(this,"async_queue_retry"),this.fu=()=>{const o=md();o&&ge("AsyncQueue","Visibility state changed to "+o.visibilityState),this.r_.Jo()},this.gu=e;const t=md();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const t=md();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});const t=new Ji;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!Ws(e))throw e;ge("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const t=this.gu.then(()=>(this.Ru=!0,e().catch(o=>{this.Au=o,this.Ru=!1;const s=function(h){let f=h.message||"";return h.stack&&(f=h.stack.includes(h.message)?h.stack:h.message+`
`+h.stack),f}(o);throw pi("INTERNAL UNHANDLED ERROR: ",s),o}).then(o=>(this.Ru=!1,o))));return this.gu=t,t}enqueueAfterDelay(e,t,o){this.pu(),this.mu.indexOf(e)>-1&&(t=0);const s=Af.createAndSchedule(this,e,t,o,l=>this.Su(l));return this.du.push(s),s}pu(){this.Au&&Ne()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const t of this.du)if(t.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((t,o)=>t.targetTimeMs-o.targetTimeMs);for(const t of this.du)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const t=this.du.indexOf(e);this.du.splice(t,1)}}class sl extends Sc{constructor(e,t,o,s){super(e,t,o,s),this.type="firestore",this._queue=new Cy,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Cy(e),this._firestoreClient=void 0,await e}}}function NC(n,e){const t=typeof n=="object"?n:AS(),o=typeof n=="string"?n:"(default)",s=SS(t,"firestore").getImmediate({identifier:o});if(!s._initialized){const l=gT("firestore");l&&DC(s,...l)}return s}function k_(n){if(n._terminated)throw new Ie(oe.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||VC(n),n._firestoreClient}function VC(n){var e,t,o;const s=n._freezeSettings(),l=function(f,p,y,_){return new nR(f,p,y,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,A_(_.experimentalLongPollingOptions),_.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,s);n._componentsProvider||!((t=s.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((o=s.localCache)===null||o===void 0)&&o._onlineComponentProvider)&&(n._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),n._firestoreClient=new IC(n._authCredentials,n._appCheckCredentials,n._queue,l,n._componentsProvider&&function(f){const p=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(p),_online:p}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Bs(tn.fromBase64String(e))}catch(t){throw new Ie(oe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Bs(tn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vf{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Ie(oe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new en(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x_{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lf{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ie(oe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ie(oe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return He(this._lat,e._lat)||He(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mf{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(o,s){if(o.length!==s.length)return!1;for(let l=0;l<o.length;++l)if(o[l]!==s[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LC=/^__.*__$/;class MC{constructor(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}toMutation(e,t){return this.fieldMask!==null?new qo(e,this.data,this.fieldMask,t,this.fieldTransforms):new nl(e,this.data,t,this.fieldTransforms)}}function D_(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ne()}}class Of{constructor(e,t,o,s,l,h){this.settings=e,this.databaseId=t,this.serializer=o,this.ignoreUndefinedProperties=s,l===void 0&&this.Fu(),this.fieldTransforms=l||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new Of(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var t;const o=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.xu({path:o,Nu:!1});return s.Lu(e),s}Bu(e){var t;const o=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.xu({path:o,Nu:!1});return s.Fu(),s}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return ec(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(D_(this.Mu)&&LC.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class OC{constructor(e,t,o){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=o||Ec(e)}$u(e,t,o,s=!1){return new Of({Mu:e,methodName:t,Ku:o,path:en.emptyPath(),Nu:!1,Qu:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function N_(n){const e=n._freezeSettings(),t=Ec(n._databaseId);return new OC(n._databaseId,!!e.ignoreUndefinedProperties,t)}function V_(n,e,t,o,s,l={}){const h=n.$u(l.merge||l.mergeFields?2:0,e,t,s);b_("Data must be an object, but it was:",h,o);const f=M_(o,h);let p,y;if(l.merge)p=new Tr(h.fieldMask),y=h.fieldTransforms;else if(l.mergeFields){const _=[];for(const S of l.mergeFields){const R=bC(e,S,t);if(!h.contains(R))throw new Ie(oe.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);UC(_,R)||_.push(R)}p=new Tr(_),y=h.fieldTransforms.filter(S=>p.covers(S.field))}else p=null,y=h.fieldTransforms;return new MC(new Jn(f),p,y)}function L_(n,e){if(O_(n=$a(n)))return b_("Unsupported field value:",e,n),M_(n,e);if(n instanceof x_)return function(o,s){if(!D_(s.Mu))throw s.qu(`${o._methodName}() can only be used with update() and set()`);if(!s.path)throw s.qu(`${o._methodName}() is not currently supported inside arrays`);const l=o._toFieldTransform(s);l&&s.fieldTransforms.push(l)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(o,s){const l=[];let h=0;for(const f of o){let p=L_(f,s.ku(h));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),h++}return{arrayValue:{values:l}}}(n,e)}return function(o,s){if((o=$a(o))===null)return{nullValue:"NULL_VALUE"};if(typeof o=="number")return IR(s.serializer,o);if(typeof o=="boolean")return{booleanValue:o};if(typeof o=="string")return{stringValue:o};if(o instanceof Date){const l=Ot.fromDate(o);return{timestampValue:Yu(s.serializer,l)}}if(o instanceof Ot){const l=new Ot(o.seconds,1e3*Math.floor(o.nanoseconds/1e3));return{timestampValue:Yu(s.serializer,l)}}if(o instanceof Lf)return{geoPointValue:{latitude:o.latitude,longitude:o.longitude}};if(o instanceof Bs)return{bytesValue:e_(s.serializer,o._byteString)};if(o instanceof Zn){const l=s.databaseId,h=o.firestore._databaseId;if(!h.isEqual(l))throw s.qu(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:_f(o.firestore._databaseId||s.databaseId,o._key.path)}}if(o instanceof Mf)return function(h,f){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:h.toArray().map(p=>{if(typeof p!="number")throw f.qu("VectorValues must only contain numeric values.");return mf(f.serializer,p)})}}}}}}(o,s);throw s.qu(`Unsupported field value: ${Df(o)}`)}(n,e)}function M_(n,e){const t={};return kv(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):$o(n,(o,s)=>{const l=L_(s,e.Ou(o));l!=null&&(t[o]=l)}),{mapValue:{fields:t}}}function O_(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Ot||n instanceof Lf||n instanceof Bs||n instanceof Zn||n instanceof x_||n instanceof Mf)}function b_(n,e,t){if(!O_(t)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(t)){const o=Df(t);throw o==="an object"?e.qu(n+" a custom object"):e.qu(n+" "+o)}}function bC(n,e,t){if((e=$a(e))instanceof Vf)return e._internalPath;if(typeof e=="string")return F_(n,e);throw ec("Field path arguments must be of type string or ",n,!1,void 0,t)}const FC=new RegExp("[~\\*/\\[\\]]");function F_(n,e,t){if(e.search(FC)>=0)throw ec(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Vf(...e.split("."))._internalPath}catch{throw ec(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function ec(n,e,t,o,s){const l=o&&!o.isEmpty(),h=s!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let p="";return(l||h)&&(p+=" (found",l&&(p+=` in field ${o}`),h&&(p+=` in document ${s}`),p+=")"),new Ie(oe.INVALID_ARGUMENT,f+n+p)}function UC(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U_{constructor(e,t,o,s,l){this._firestore=e,this._userDataWriter=t,this._key=o,this._document=s,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Zn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new jC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(j_("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class jC extends U_{data(){return super.data()}}function j_(n,e){return typeof e=="string"?F_(n,e):e instanceof Vf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zC(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Ie(oe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class BC{convertValue(e,t="none"){switch(io(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Pt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ro(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ne()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const o={};return $o(e,(s,l)=>{o[s]=this.convertValue(l,t)}),o}convertVectorValue(e){var t,o,s;const l=(s=(o=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||o===void 0?void 0:o.values)===null||s===void 0?void 0:s.map(h=>Pt(h.doubleValue));return new Mf(l)}convertGeoPoint(e){return new Lf(Pt(e.latitude),Pt(e.longitude))}convertArray(e,t){return(e.values||[]).map(o=>this.convertValue(o,t))}convertServerTimestamp(e,t){switch(t){case"previous":const o=fc(e);return o==null?null:this.convertValue(o,t);case"estimate":return this.convertTimestamp(Ka(e));default:return null}}convertTimestamp(e){const t=no(e);return new Ot(t.seconds,t.nanos)}convertDocumentKey(e,t){const o=_t.fromString(e);st(s_(o));const s=new Qa(o.get(1),o.get(3)),l=new ke(o.popFirst(5));return s.isEqual(t)||pi(`Document ${l} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z_(n,e,t){let o;return o=n?n.toFirestore(e):e,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class $C extends U_{constructor(e,t,o,s,l,h){super(e,t,o,s,h),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Vu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const o=this._document.data.field(j_("DocumentSnapshot.get",e));if(o!==null)return this._userDataWriter.convertValue(o,t.serverTimestamps)}}}class Vu extends $C{data(e={}){return super.data(e)}}class HC{constructor(e,t,o,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new Ru(s.hasPendingWrites,s.fromCache),this.query=o}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(o=>{e.call(t,new Vu(this._firestore,this._userDataWriter,o.key,o,new Ru(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ie(oe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,l){if(s._snapshot.oldDocs.isEmpty()){let h=0;return s._snapshot.docChanges.map(f=>{const p=new Vu(s._firestore,s._userDataWriter,f.doc.key,f.doc,new Ru(s._snapshot.mutatedKeys.has(f.doc.key),s._snapshot.fromCache),s.query.converter);return f.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}})}{let h=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(f=>l||f.type!==3).map(f=>{const p=new Vu(s._firestore,s._userDataWriter,f.doc.key,f.doc,new Ru(s._snapshot.mutatedKeys.has(f.doc.key),s._snapshot.fromCache),s.query.converter);let y=-1,_=-1;return f.type!==0&&(y=h.indexOf(f.doc.key),h=h.delete(f.doc.key)),f.type!==1&&(h=h.add(f.doc),_=h.indexOf(f.doc.key)),{type:qC(f.type),doc:p,oldIndex:y,newIndex:_}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function qC(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ne()}}class WC extends BC{constructor(e){super(),this.firestore=e}convertBytes(e){return new Bs(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Zn(this.firestore,null,t)}}function tc(n){n=jo(n,Rc);const e=jo(n.firestore,sl),t=k_(e),o=new WC(e);return zC(n._query),kC(t,n._query).then(s=>new HC(e,o,n,s))}function KC(n,e,t){n=jo(n,Zn);const o=jo(n.firestore,sl),s=z_(n.converter,e);return bf(o,[V_(N_(o),"setDoc",n._key,s,n.converter!==null,t).toMutation(n._key,Sr.none())])}function QC(n){return bf(jo(n.firestore,sl),[new gf(n._key,Sr.none())])}function GC(n,e){const t=jo(n.firestore,sl),o=Nf(n),s=z_(n.converter,e);return bf(t,[V_(N_(n.firestore),"addDoc",o._key,s,n.converter!==null,{}).toMutation(o._key,Sr.exists(!1))]).then(()=>o)}function bf(n,e){return function(o,s){const l=new Ji;return o.asyncQueue.enqueueAndForget(async()=>mC(await AC(o),s,l)),l.promise}(k_(n),e)}(function(e,t=!0){(function(s){Hs=s})(CS),Hu(new Ha("firestore",(o,{instanceIdentifier:s,options:l})=>{const h=o.getProvider("app").getImmediate(),f=new sl(new US(o.getProvider("auth-internal")),new $S(o.getProvider("app-check-internal")),function(y,_){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new Ie(oe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Qa(y.options.projectId,_)}(h,s),h);return l=Object.assign({useFetchStreams:t},l),f._setSettings(l),f},"PUBLIC").setMultipleInstances(!0)),Vs($g,"4.7.5",e),Vs($g,"4.7.5","esm2017")})();var YC="firebase",XC="11.0.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Vs(YC,XC,"app");const JC={apiKey:"AIzaSyBQPK1HLdY8jOyVkQ26Hiw9DhEEiHqA_n8",authDomain:"test-bae16.firebaseapp.com",projectId:"test-bae16",storageBucket:"test-bae16.firebasestorage.app",messagingSenderId:"493847015537",appId:"1:493847015537:web:7b77d9df0b5930cea5ebd0",measurementId:"G-0CEVXYXN2C"},ZC=vv(JC),Oo=NC(ZC),B_=cc("cards/addCard",async n=>{const t={id:(await GC(Ja(Oo,"Cards"),n)).id,card:n};return console.log("added"),t}),$_=cc("cards/deleteCard",async n=>{const e=await tc(Ja(Oo,"Cards"));for(const t of e.docs)t.data().id===n&&(await QC(Nf(Oo,"Cards",t.id)),console.log("DEleted"));return n}),H_=cc("cards/fetchCards",async()=>(await tc(Ja(Oo,"Cards"))).docs.map(t=>({id:t.id,card:t.data()}))),q_=cc("cards/takeLike",async n=>{const e=await tc(Ja(Oo,"Cards"));for(const o of e.docs)o.data().id===n&&await KC(Nf(Oo,"Cards",o.id),{id:n,name:o.data().name,descr:o.data().descr,count:o.data().count,amount:o.data().amount,liked:!o.data().liked});return(await tc(Ja(Oo,"Cards"))).docs.map(o=>({id:o.id,card:o.data()}))}),eA=[],tA=tT({name:"cards",initialState:{cardArray:eA},reducers:{},extraReducers:n=>{n.addCase(B_.fulfilled,(e,t)=>{e.cardArray.push(t.payload)}),n.addCase(H_.fulfilled,(e,t)=>{e.cardArray=t.payload}),n.addCase($_.fulfilled,(e,t)=>{e.cardArray=e.cardArray.filter(o=>o.card.id!==t.payload)}),n.addCase(q_.fulfilled,(e,t)=>{e.cardArray=t.payload})}}),nA=tA.reducer;var yd={exports:{}},vd={};/**
 * @license React
 * use-sync-external-store-with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ay;function rA(){if(Ay)return vd;Ay=1;var n=nc();function e(p,y){return p===y&&(p!==0||1/p===1/y)||p!==p&&y!==y}var t=typeof Object.is=="function"?Object.is:e,o=n.useSyncExternalStore,s=n.useRef,l=n.useEffect,h=n.useMemo,f=n.useDebugValue;return vd.useSyncExternalStoreWithSelector=function(p,y,_,S,R){var C=s(null);if(C.current===null){var D={hasValue:!1,value:null};C.current=D}else D=C.current;C=h(function(){function O(L){if(!B){if(B=!0,J=L,L=S(L),R!==void 0&&D.hasValue){var ie=D.value;if(R(ie,L))return Y=ie}return Y=L}if(ie=Y,t(J,L))return ie;var k=S(L);return R!==void 0&&R(ie,k)?ie:(J=L,Y=k)}var B=!1,J,Y,ne=_===void 0?null:_;return[function(){return O(y())},ne===null?void 0:function(){return O(ne())}]},[y,_,S,R]);var z=o(p,C[0],C[1]);return l(function(){D.hasValue=!0,D.value=z},[z]),f(z),z},vd}var Py;function iA(){return Py||(Py=1,yd.exports=rA()),yd.exports}var oA=iA(),Un="default"in Gm?Ny:Gm,ky=Symbol.for("react-redux-context"),xy=typeof globalThis<"u"?globalThis:{};function sA(){if(!Un.createContext)return{};const n=xy[ky]??(xy[ky]=new Map);let e=n.get(Un.createContext);return e||(e=Un.createContext(null),n.set(Un.createContext,e)),e}var so=sA(),aA=()=>{throw new Error("uSES not initialized!")};function Ff(n=so){return function(){return Un.useContext(n)}}var W_=Ff(),K_=aA,lA=n=>{K_=n},uA=(n,e)=>n===e;function cA(n=so){const e=n===so?W_:Ff(n),t=(o,s={})=>{const{equalityFn:l=uA,devModeChecks:h={}}=typeof s=="function"?{equalityFn:s}:s,{store:f,subscription:p,getServerState:y,stabilityCheck:_,identityFunctionCheck:S}=e();Un.useRef(!0);const R=Un.useCallback({[o.name](D){return o(D)}}[o.name],[o,_,h.stabilityCheck]),C=K_(p.addNestedSub,f.getState,y||f.getState,R,l);return Un.useDebugValue(C),C};return Object.assign(t,{withTypes:()=>t}),t}var hA=cA();function dA(n){n()}function fA(){let n=null,e=null;return{clear(){n=null,e=null},notify(){dA(()=>{let t=n;for(;t;)t.callback(),t=t.next})},get(){const t=[];let o=n;for(;o;)t.push(o),o=o.next;return t},subscribe(t){let o=!0;const s=e={callback:t,next:null,prev:e};return s.prev?s.prev.next=s:n=s,function(){!o||n===null||(o=!1,s.next?s.next.prev=s.prev:e=s.prev,s.prev?s.prev.next=s.next:n=s.next)}}}}var Dy={notify(){},get:()=>[]};function pA(n,e){let t,o=Dy,s=0,l=!1;function h(z){_();const O=o.subscribe(z);let B=!1;return()=>{B||(B=!0,O(),S())}}function f(){o.notify()}function p(){D.onStateChange&&D.onStateChange()}function y(){return l}function _(){s++,t||(t=n.subscribe(p),o=fA())}function S(){s--,t&&s===0&&(t(),t=void 0,o.clear(),o=Dy)}function R(){l||(l=!0,_())}function C(){l&&(l=!1,S())}const D={addNestedSub:h,notifyNestedSubs:f,handleChangeWrapper:p,isSubscribed:y,trySubscribe:R,tryUnsubscribe:C,getListeners:()=>o};return D}var mA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",gA=typeof navigator<"u"&&navigator.product==="ReactNative",yA=mA||gA?Un.useLayoutEffect:Un.useEffect;function vA({store:n,context:e,children:t,serverState:o,stabilityCheck:s="once",identityFunctionCheck:l="once"}){const h=Un.useMemo(()=>{const y=pA(n);return{store:n,subscription:y,getServerState:o?()=>o:void 0,stabilityCheck:s,identityFunctionCheck:l}},[n,o,s,l]),f=Un.useMemo(()=>n.getState(),[n]);yA(()=>{const{subscription:y}=h;return y.onStateChange=y.notifyNestedSubs,y.trySubscribe(),f!==n.getState()&&y.notifyNestedSubs(),()=>{y.tryUnsubscribe(),y.onStateChange=void 0}},[h,f]);const p=e||so;return Un.createElement(p.Provider,{value:h},t)}var _A=vA;function Q_(n=so){const e=n===so?W_:Ff(n),t=()=>{const{store:o}=e();return o};return Object.assign(t,{withTypes:()=>t}),t}var EA=Q_();function wA(n=so){const e=n===so?EA:Q_(n),t=()=>e().dispatch;return Object.assign(t,{withTypes:()=>t}),t}var TA=wA();lA(oA.useSyncExternalStoreWithSelector);const G_=TA.withTypes(),Y_=hA.withTypes(),SA=()=>{const n=G_(),e=Wy(),[t,o]=K.useState(""),[s,l]=K.useState(""),[h,f]=K.useState(""),[p,y]=K.useState(""),[_,S]=K.useState(!1),[R,C]=K.useState(!1),D=!1,z=cv(),O=L=>o(L.target.value),B=L=>l(L.target.value),J=L=>{typeof Number(L.target.value)=="number"&&f(L.target.value)},Y=L=>{typeof Number(L.target.value)=="number"&&y(L.target.value)},ne=L=>{L.preventDefault(),Number(h)>=0&&Number(p)>=0?(n(B_({name:t,descr:s,count:h,amount:p,id:z,liked:D})),o(""),l(""),f(""),y(""),S(!1),C(!1),e("/products")):(S(!0),C(!0))};return he.jsxs("div",{className:"flex flex-col",children:[he.jsx("div",{className:"flext justify-start pt-10",children:he.jsx(Er,{to:"/products",className:"p-2 ml-3 bg-green-700 border-solid border-black text-white",children:""})}),he.jsx("div",{className:"flex justify-center",children:he.jsxs("form",{onSubmit:ne,children:[he.jsx("h2",{className:"text-2xl font-semibold",children:" "}),he.jsxs("p",{className:"create--input pb-5",children:[he.jsx("label",{children:" "}),he.jsx("input",{value:t,onChange:O,required:!0})]}),he.jsxs("p",{className:"pb-5",children:[he.jsx("label",{children:" "}),he.jsx("textarea",{value:s,onChange:B,className:"create--descryption"})]}),he.jsxs("p",{className:"create--input pb-5",children:[he.jsx("label",{children:" "}),he.jsx("input",{value:h,onChange:J,type:"number",required:!0}),_&&he.jsx("p",{className:"text-red-500",children:"    "})]}),he.jsxs("p",{className:"create--input",children:[he.jsx("label",{children:" "}),he.jsx("input",{value:p,onChange:Y,type:"number",required:!0}),R&&he.jsx("p",{className:"text-red-500",children:"    "})]}),he.jsx("button",{className:"mt-5 border-solid border-black bg-gray-400 rounded-sm pt-2 pr-2 pl-2 pb-2",type:"submit",children:" "})]})})]})},RA=()=>{const n=Y_(h=>h.cards.cardArray),e=G_(),[t,o]=K.useState("false");K.useEffect(()=>{e(H_())},[e]);const s=h=>{e($_(h))},l=h=>{e(q_(h))};return he.jsxs("div",{children:[he.jsxs("div",{className:"flex justify-between pt-10",children:[he.jsx(Er,{to:"/create-product",className:"p-2 ml-3 bg-green-700 border-solid border-black text-white",children:" "}),he.jsxs("select",{className:"bg-black text-white mr-3",onChange:h=>o(h.target.value),children:[he.jsx("option",{value:"false",children:" "}),he.jsx("option",{value:"true",children:""})]})]}),he.jsx("div",{className:"flex justify-center flex-wrap gap-4 pt-8",children:t==="false"?n.map(h=>he.jsxs(Er,{to:`/products/${h.card.id}`,className:"p-8 border-solid bg-slate-400 flex flex-col justify-between rounded-md product",children:[he.jsxs("div",{children:[he.jsx("div",{className:"flex justify-end",children:he.jsx(Er,{to:"/products",className:"p-2 bg-red-700 text-white rounded-xl",onClick:()=>s(h.card.id),children:"X"})}),he.jsxs("div",{className:"flex flex-col",children:[he.jsx("p",{className:"font-semibold text-lg ",children:h.card.name.length>15?h.card.name.substring(0,15)+"...":h.card.name}),he.jsx("p",{children:h.card.descr.length>15?h.card.descr.substring(0,15)+"...":h.card.descr}),he.jsxs("p",{children:[": ",h.card.count]}),he.jsxs("p",{children:[": ",h.card.amount.substring(0,100)]})]})]}),he.jsx("div",{className:"flex justify-center",children:he.jsx(Er,{to:"/products",className:`rounded-md ${h.card.liked?"bg-green-600":"bg-black"} border-solid border-black`,onClick:()=>l(h.card.id),children:""})})]},h.card.id)):n.map(h=>{if(h.card.liked)return he.jsxs(Er,{to:`/products/${h.card.id}`,className:"p-8 border-solid bg-slate-400 flex flex-col justify-between rounded-md product",children:[he.jsxs("div",{children:[he.jsx("div",{className:"flex justify-end",children:he.jsx(Er,{to:"/",className:"p-2 bg-red-700 text-white rounded-xl",onClick:()=>s(h.card.id),children:"X"})}),he.jsxs("div",{className:"flex flex-col",children:[he.jsx("p",{className:"font-semibold text-lg",children:h.card.name.length>15?h.card.name.substring(0,15)+"...":h.card.name}),he.jsx("p",{children:h.card.descr.substring(0,10)+"..."}),he.jsxs("p",{children:[": ",h.card.count]}),he.jsxs("p",{children:[": ",h.card.amount]})]})]}),he.jsx("div",{className:"flex justify-center",children:he.jsx(Er,{to:"/products",className:`rounded-md ${h.card.liked?"bg-green-600":"bg-black"} border-solid border-black`,onClick:()=>l(h.card.id),children:""})})]},h.card.id)})})]})},IA=()=>{let n=fw();const{productId:e}=n,t=Y_(o=>o.cards.cardArray.find(s=>s.card.id===e));if(t)return he.jsxs(he.Fragment,{children:[he.jsx("div",{className:"flex justify-end pt-10",children:he.jsx(Er,{to:"/products",className:"p-2 mr-3 bg-green-900 border-solid border-black text-white",children:""})}),he.jsx("div",{className:"flex pt-5 justify-center",children:he.jsxs("div",{className:"flex flex-col gap-14 items-center",children:[he.jsx("p",{className:"text-6xl font-semibold break-all text-center max-w-100 pl-3 pr-3",children:t.card.name}),he.jsx("p",{className:"text-4xl break-all pl-3 pr-3",children:t.card.descr}),he.jsx("p",{children:he.jsxs("i",{children:[": ",t.card.count]})}),he.jsx("p",{className:"pb-5",children:he.jsxs("i",{children:[": ",t.card.amount]})})]})})]})},CA=()=>he.jsx("div",{className:"flex justify-center pt-5",children:he.jsx(Xy,{to:"/products",className:"p-2 mr-3 bg-green-900 border-solid border-black text-white",children:"  "})});function AA(){const n=n1([{path:"/",element:he.jsx(m1,{}),children:[{path:"/",element:he.jsx(CA,{})},{path:"/products",element:he.jsx(RA,{})},{path:"/create-product",element:he.jsx(SA,{})},{path:"/products/:productId",element:he.jsx(IA,{})}]}]);return he.jsx(p1,{router:n})}const PA=z1({reducer:{cards:nA}});hE.createRoot(document.getElementById("root")).render(he.jsx(K.StrictMode,{children:he.jsx(_A,{store:PA,children:he.jsx(AA,{})})}));
